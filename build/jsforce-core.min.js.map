{"version":3,"file":"jsforce-core.min.js","sources":["jsforce-core.js"],"names":["e","exports","module","define","amd","f","window","global","self","jsforce","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"parseHeaders","hs","headers","split","forEach","line","pair","name","toLowerCase","value","stream","_","supported","Sfdc","canvas","createRequest","signedRequest","params","callback","send","body","settings","client","method","data","contentType","success","responseHeaders","payload","isString","JSON","stringify","response","statusCode","status","str","end","failure","err","ajax","url","Duplex","_read","push","bufs","sent","_write","chunk","encoding","toString","on","join","test","underscore",2,"popupWin","w","h","left","screen","width","top","height","open","handleCallbackResponse","res","checkCallbackResponse","state","localStorage","getItem","removeItem","states","prefix","promptType","cli","Client","_storeTokens","location","hash","_storeError","close","qs","parse","substring","access_token","search","error","events","util","Connection","OAuth2","clientIdx","this","_prefix","connection","inherits","EventEmitter","prototype","init","config","tokens","_getTokens","initialize","setTimeout","emit","login","options","isFunction","extend","_prompt","oauth2","rand","Math","random","setItem","authzUrl","getAuthorizationUrl","response_type","scope","size","pw","href","_removeTokens","pid","setInterval","closed","clearInterval","_getError","error_description","isLoggedIn","accessToken","logout","regexp","RegExp","document","cookie","match","issuedAt","Number","Date","now","userInfo","idUrl","ids","id","pop","organizationId","instanceUrl","instance_url","issued_at","../connection","../oauth2","querystring",3,"crequire","browser","modules","paths","p","replace","_0","_1","_2","toUpperCase","shift","../core-require","../jsforce","./client",4,"_index","jsonpParam","timeout","cbFuncName","callbacks","indexOf","script","createElement","type","src","documentElement","appendChild","cleanup","content-type","clearTimeout","removeChild",5,"xhr","XMLHttpRequest","header","setRequestHeader","onreadystatechange","readyState","getResponseHeader",6,"createCacheKey","namespace","args","Array","slice","apply","map","CacheEntry","fetching","get","once","isUndefined","_value","set","clear","Cache","_entries","key","entry","k","makeResponseCacheable","fn","cache","arguments","result","ret","then","undefined","makeCacheable","$fn",7,"Buffer","parseSignedRequest","sr","msg","json","parseJSON","parseXML","parseString","explicitArray","parseCSV","parseText","formatDate","date","pad","number","getUTCFullYear","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","parseIdUrl","idUrls","userId","orgId","esc","String","Promise","Logger","Query","SObject","Transport","defaults","loginUrl","version","Bulk","Streaming","Tooling","Analytics","Chatter","Apex","Metadata","_logger","logLevel","clientId","clientSecret","redirectUri","maxRequest","_transport","proxyUrl","ProxyTransport","streaming","bulk","tooling","analytics","chatter","metadata","apex","refreshFn","_refreshDelegate","refreshToken","cacheOptions","describe$","describe","describeSObject$","describeSObject","describeGlobal$","describeGlobal","serverUrl","urls","soap","service","rest","base","sessionId","oauthToken","limitInfo","sobjects","bind","types","so","each","sobject","_sessionType","_initializedAt","_baseUrl","_request","logger","deferred","defer","onResume","reject","resolve","_suspended","promise","thenCall","Authorization","beforesend","debug","requestTime","onFailure","responseTime","onResponse","apiUsage","used","parseInt","limit","_refresh","responseContentType","parseBody","parseError","errs","isArray","isObject","message","errorCode","noContentResponse","content","httpRequest","delegate","query","soql","run","queryAll","scanAll","queryMore","locator","retrieve","all","results","insert","create","records","record","sobjectType","attributes","clone","Id","Content-Type","update","errors","upsert","extIdField","extId","del","destroy","sosl","encodeURIComponent","identity","jsonp","user_id","organization_id","authorize","requestToken","refresh_token","username","password","loginByOAuth2","loginBySoap","authenticate","SOAPAction","m","faultstring","logoutByOAuth2","logoutBySoap","revokeToken","recent","isNumber","recentItems","updated","start","deleted","./cache","./csv","./logger","./oauth2","./promise","./query","./sobject","./transport","async","buffer","xml2js",8,"./browser/canvas","./browser/jsonp","./browser/request","./connection","./date","./record","./record-stream","./soql-builder","q","request",9,"toCSV","extractHeaders","rows","recordToCSV","arrayToCSV","hasOwnProperty","keys","row","nullValue","arr","escapeCSV","token","parser","CSVParser","nextLine","nextToken","isNull","text","cursor","cell","dquoted","firstChar","charAt","dq","delim","comma","cr","lf","pivot","min","c",10,"zeropad","createLiteralBuilder","literal","num","SfDate","_literal","toJSON","toDateLiteral","parseDate","yy","getFullYear","mm","getMonth","dd","getDate","dstr","toDateTimeLiteral","hh","mi","ss","dtstr","d","setUTCFullYear","setUTCDate","setUTCMonth","setUTCHours","setUTCMinutes","setUTCSeconds","setUTCMilliseconds","offset","setTime","getTime","setFullYear","setDate","setMonth","setHours","setMinutes","setSeconds","setMilliseconds","SfDateLiterals","YESTERDAY","TODAY","TOMORROW","LAST_WEEK","THIS_WEEK","NEXT_WEEK","LAST_MONTH","THIS_MONTH","NEXT_MONTH","LAST_90_DAYS","NEXT_90_DAYS","LAST_N_DAYS","NEXT_N_DAYS","NEXT_N_WEEKS","LAST_N_WEEKS","NEXT_N_MONTHS","LAST_N_MONTHS","THIS_QUARTER","LAST_QUARTER","NEXT_QUARTER","NEXT_N_QUARTERS","LAST_N_QUARTERS","THIS_YEAR","LAST_YEAR","NEXT_YEAR","NEXT_N_YEARS","LAST_N_YEARS","THIS_FISCAL_QUARTER","LAST_FISCAL_QUARTER","NEXT_FISCAL_QUARTER","NEXT_N_FISCAL_QUARTERS","LAST_N_FISCAL_QUARTERS","THIS_FISCAL_YEAR","LAST_FISCAL_YEAR","NEXT_FISCAL_YEAR","NEXT_N_FISCAL_YEARS","LAST_N_FISCAL_YEARS",11,"RecordStream",12,"createLoggerFunction","level","log","LogLevels","INFO","_logLevel","DEBUG","WARN","ERROR","FATAL","console",13,"authzServiceUrl","tokenServiceUrl","revokeServiceUrl","client_id","redirect_uri","_postParams","grant_type","client_secret",14,"process","Q","_promise","nextTick","fail","done","when","reason","Deferred","_deferred","_process",15,"SOQLBuilder","conn","super_","receivable","_conn","_soql","_config","select","fields","includes","include","_locator","_buffer","_paused","_closed","_fields","where","conditions","skip","sort","orderby","dir","childRelName","childConfig","table","childQuery","SubQuery","_children","crname","_maxFetch","maxFetch","_autoFetch","autoFetch","_scanAll","ResponseTargets","_responseTarget","QueryResult","setResponseTarget","responseTarget","pause","resume","totalFetched","_finished","execute","exec","promiseCallback","Records","_chaining","onRecord","removeListener","_execute","_expandFields","createSOQL","totalSize","SingleRecord","Count","nextRecordsUrl","findRelationTable","rname","ptable","_parent","describeCache","upperRname","childRelation","find","childRelationships","relationshipName","childSObject","expandAsteriskField","field","fpath","rfield","rtable","referenceTo","fpaths","expandedFields","flatten","pipe","dest","deleteBulk","mapping","updateStream","recordMapStream","updateBulk","parent",16,"Stream","PassThrough","CSV","sendable","reciebable","destroySoon","source","onDrain","didOnEnd","onEnd","onClose","onError","listeners","filter","recStream","CSVStream","rstream","rec","noeval","evalMapping","$0","prop","v","mapped","wroteHeaders","_stream","_handleData","_handleEnd","enc",17,"RecordReference","blob","fieldName",18,"Record","findOne","count","count()","bulkload","operation","input","load","insertBulk","createBulk","upsertBulk","destroyBulk","deleteHardBulk","destroyHardBulk",19,"createFieldsClause","cond","createConditionClause","createOrderByClause","childQueries","values","cquery","concat","operator","depth","conds","op","createFieldExpression","expr","paren","sfop","opMap","valueExpr","createValueExpression","escapeSOQLString","flag","=","$eq","!=","$ne",">","$gt","<","$lt",">=","$gte","<=","$lte","$like","$nlike","$in","$nin","$exists",20,"streamify","factory","_then","newPromise","normalizeApiHost","apiHost","baseUrl","nodeRequest","xhrRequest","followAllRedirects","env","HTTP_PROXY","proxy","HTTP_TIMEOUT","LOCATION_BASE_URL","host","req","_proxyUrl","proxyParams","salesforceproxy-endpoint",21,"./lib/async",22,"root","previous_async","noConflict","_forEach","iterator","_map","x","_reduce","memo","reduce","_keys","obj","Object","completed","forEachSeries","iterate","forEachLimit","started","running","replenish","doParallel","doSeries","_asyncMap","eachfn","index","mapSeries","inject","foldl","reduceRight","reversed","reverse","foldr","_filter","b","filterSeries","selectSeries","_reject","rejectSeries","_detect","main_callback","detect","detectSeries","some","any","every","sortBy","criteria","right","auto","tasks","addListener","unshift","splice","taskComplete","task","Function","taskCallback","requires","abs","ready","listener","waterfall","wrapIterator","next","parallel","constructor","series","makeCallback","_concat","cb","y","concatSeries","whilst","until","queue","worker","concurrency","workers","saturated","empty","drain","_console_fn","memoize","hasher","queues","memoized","unmemoized","unmemoize",23,24,"/Users/stomita/Work/Salesforce/jsforce/node_modules/browserify/lib/_empty.js",25,"subject","noZero","base64clean","byteLength","floor","buf","TYPED_ARRAY_SUPPORT","_augment","Uint8Array","_isBuffer","_set","isArrayish","isBuffer","readUInt8","write","hexWrite","string","remaining","strLen","assert","byte","substr","isNaN","utf8Write","charsWritten","blitBuffer","utf8ToBytes","asciiWrite","asciiToBytes","binaryWrite","base64Write","base64ToBytes","utf16leWrite","utf16leToBytes","base64Slice","base64","fromByteArray","utf8Slice","tmp","decodeUtf8Char","fromCharCode","asciiSlice","binarySlice","hexSlice","len","out","toHex","utf16leSlice","bytes","readUInt16","littleEndian","noAssert","val","readUInt32","readInt16","neg","readInt32","readFloat","ieee754","read","readDouble","writeUInt16","verifuint","j","writeUInt32","writeInt16","verifsint","writeInt32","writeFloat","verifIEEE754","writeDouble","stringtrim","INVALID_BASE64_RE","trim","byteArray","charCodeAt","hi","lo","toByteArray","dst","decodeURIComponent","max","SlowBuffer","INSPECT_MAX_BYTES","poolSize","ArrayBuffer","foo","subarray","isEncoding","list","totalLength","pos","item","copy","compare","isFinite","swap","_arr","equals","target","target_start","sliceLen","newBuf","writeUInt8","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","fill","inspect","toArrayBuffer","BP","_get","toLocaleString","base64-js",26,"lookup","decode","elt","PLUS","SLASH","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","placeHolders","Arr","uint8ToBase64","uint8","encode","tripletToBase64","temp","extraBytes","output","base64js",27,"isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","pow","rt","LN2",28,"_events","_maxListeners","arg","defaultMaxListeners","setMaxListeners","TypeError","er","handler","newListener","warned","trace","g","fired","position","removeAllListeners","listenerCount","emitter",29,"ctor","superCtor","enumerable","writable","configurable","TempCtor",30,"noop","canSetImmediate","setImmediate","canPost","postMessage","addEventListener","ev","stopPropagation","title","argv","off","binding","cwd","chdir",31,"sep","eq","maxKeys","kstr","vstr","idx","xs",32,"stringifyPrimitive","objectKeys","ks",33,"./decode","./encode",34,"EE","Readable","Writable","Transform","ondata","ondrain","readable","onend","onclose","onerror","_isStdio","readable-stream/duplex.js","readable-stream/passthrough.js","readable-stream/readable.js","readable-stream/transform.js","readable-stream/writable.js",35,"assertEncoding","passThroughWrite","utf16DetectIncompleteChar","incomplete","charReceived","charLength","base64DetectIncompleteChar","StringDecoder","surrogateSize","detectIncompleteChar","charBuffer","charStr","charCode","lenIncomplete",36,37,"opts","ctx","seen","stylize","stylizeNoColor","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","arrayToHash","array","recurseTimes","primitive","formatPrimitive","visibleKeys","getOwnPropertyNames","isError","formatError","isRegExp","isDate","braces","toUTCString","formatArray","formatProperty","reduceToSingleString","simple","desc","getOwnPropertyDescriptor","numLinesEst","prev","cur","ar","isNullOrUndefined","isSymbol","re","objectToString","isPrimitive","timestamp","time","getHours","getMinutes","getSeconds","months","formatRegExp","format","objects","deprecate","deprecated","throwDeprecation","traceDeprecation","noDeprecation","debugEnviron","debugs","debuglog","NODE_DEBUG","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","boolean","null","origin","add","./support/isBuffer",38,"definition","bootstrap","ses","ok","makeQ","uncurryThis","isStopIteration","exception","object_toString","QReturnValue","makeStackTraceLong","hasStacks","stack","STACK_JUMP_SEPARATOR","stacks","concatedStacks","filterStackString","stackString","lines","desiredLines","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qFileName","qStartingLine","qEndingLine","captureLine","firstLine","alternative","warn","isPromise","isPromiseAlike","coerce","fulfill","become","resolvedPromise","array_reduce","messages","promiseDispatch","progressListeners","object_create","operands","array_slice","valueOf","nearerValue","nearer","longStackSupport","notify","progress","progressListener","resolver","race","answerPs","descriptor","fallback","inspected","fulfilled","rejected","progressed","object","isPending","isFulfilled","isRejected","displayUnhandledReasons","unhandledReasonsDisplayed","Touch","unhandledReasons","logUnhandledReasons","resetUnhandledRejections","unhandledRejections","trackUnhandledRejections","trackRejection","untrackRejection","at","array_indexOf","rejection","rhs","delete","post","thisp","object_keys","master","isDef","dispatch","spread","makeGenerator","continuer","verb","hasES6Generators","generator","errback","spawn","_return","promised","promises","countDown","snapshot","allResolved","array_map","allSettled","nodeify","nodeback","flush","head","domain","enter","isNodeJS","exit","flushing","tail","requestTick","MessageChannel","channel","port1","onmessage","requestPortTick","port2","basis","collect","Type","object_hasOwnProperty","ReturnValue","makeNodeResolver","passByCopy","that","makePromise","_fulfilled","_rejected","newException","_progressed","newValue","threw","thenResolve","thenReject","getUnhandledReasons","stopUnhandledRejectionTracking","mapply","mcall","invoke","fapply","fcall","fbind","regardless","fin","onUnhandledError","ms","timeoutId","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke",39,"./lib/_stream_duplex.js",40,"allowHalfOpen","_writableState","ended","./_stream_readable","./_stream_writable","core-util-is",41,"_transform","./_stream_transform",42,"ReadableState","hwm","highWaterMark","defaultHwm","objectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","readableObjectMode","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readableAddChunk","addToFront","chunkInvalid","onEofChunk","emitReadable","maybeReadMore","needMoreData","roundUpToNextPowerOf2","MAX_HWM","howMuchToRead","emitReadable_","flow","maybeReadMore_","pipeOnDrain","resumeScheduled","resume_","fromList","stringMode","cpy","endReadable","setEncoding","nOrig","doRead","pipeOpts","onunpipe","onfinish","needDrain","unpipe","doEnd","stdout","stderr","endFn","dests","wrap","paused","_fromList","./_stream_duplex","isarray","string_decoder/",43,"TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","rs","_flush","ws","writeencoding",44,"WriteReq","WritableState","writableObjectMode","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","pendingcb","prefinished","errorEmitted","writeAfterEnd","validChunk","valid","decodeChunk","writeOrBuffer","doWrite","writev","_writev","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","cbs","prefinish","need","endWritable","cork","uncork",45,46,"/Users/stomita/Work/Salesforce/jsforce/node_modules/browserify/node_modules/inherits/inherits_browser.js",47,48,"isBufferEncoding","available",49,"./lib/_stream_passthrough.js",50,"./lib/_stream_readable.js","./lib/_stream_transform.js","./lib/_stream_writable.js",51,52,53,"previousUnderscore","breaker","ArrayProto","ObjProto","FuncProto","nativeForEach","nativeMap","nativeReduce","nativeReduceRight","nativeFilter","nativeEvery","nativeSome","nativeIndexOf","nativeLastIndexOf","lastIndexOf","nativeIsArray","nativeKeys","nativeBind","_wrapped","VERSION","context","has","reduceError","initial","contains","isFunc","pluck","attrs","first","isEmpty","findWhere","computed","shuffle","shuffled","lookupIterator","group","behavior","groupBy","countBy","sortedIndex","low","high","mid","toArray","take","guard","last","drop","compact","shallow","without","difference","uniq","unique","isSorted","union","intersection","other","zip","from","hasIndex","range","stop","step","ceil","func","partial","bindAll","funcs","functions","wait","throttle","previous","later","debounce","immediate","callNow","ran","wrapper","compose","after","times","pairs","invert","methods","names","pick","omit","tap","interceptor","aStack","bStack","className","multiline","ignoreCase","aCtor","bCtor","isEqual","isElement","nodeType","isArguments","parseFloat","accum","entityMap","escape","&","\"","'","/","unescape","entityRegexes","property","mixin","idCounter","uniqueId","templateSettings","evaluate","interpolate","noMatch","escapes","\\","\r","\n","\t","â€¨","â€©","escaper","template","render","matcher","variable","chain","_chain",54,"stripBOM","../lib/xml2js",55,"prefixMatch","normalize","firstCharLowerCase","stripPrefix",56,"bom","builder","processName","processors","sax","__hasProp","__extends","child","__super__","__bind","me","thing","processedName","_i","_len","0.1","explicitCharkey","normalizeTags","attrkey","charkey","ignoreAttrs","mergeAttrs","explicitRoot","validator","xmlns","explicitChildren","childkey","charsAsChildren","strict","attrNameProcessors","tagNameProcessors","0.2","rootName","xmldec","standalone","doctype","renderOpts","pretty","indent","newline","headless","ValidationError","_super","Builder","_ref","buildObject","rootObj","rootElement","element","attr","_ref1","txt","att","ele","up","callee","Parser","reset","assignOrPush","xmlnskey","ontext","saxParser","errThrown","_this","EXPLICIT_CHARKEY","resultObject","onopentag","node","processedKey","uri","local","onclosetag","cdata","emptyStr","nodeName","old","xpath","emptyTag","_results","_error","oncdata","./bom","./processors","xmlbuilder",57,"SAXParser","opt","clearBuffers","bufferCheckPosition","MAX_BUFFER_LENGTH","lowercase","lowercasetags","looseCase","tags","closedRoot","sawRoot","tag","noscript","S","BEGIN","ENTITIES","attribList","ns","rootNS","trackPosition","column","checkBufferLength","maxAllowed","maxActual","buffers","closeText","emitNode","flushBuffers","createStream","SAXStream","_parser","_decoder","streamWraps","defineProperty","charClass","is","charclass","not","event","textNode","textopts","strictFail","TEXT","newTag","tagName","qname","attribute","qualName","attrib","attribName","attribValue","qn","XML_NAMESPACE","XMLNS_NAMESPACE","openTag","selfClosing","nv","isSelfClosing","SCRIPT","closeTag","closeTo","parseEntity","entity","entityLC","numStr","fromCodePoint","OPEN_WAKA","startTagPosition","whitespace","starti","TEXT_ENTITY","SCRIPT_ENDING","CLOSE_TAG","SGML_DECL","sgmlDecl","nameStart","OPEN_TAG","PROC_INST","procInstName","procInstBody","CDATA","COMMENT","comment","DOCTYPE","quote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","OPEN_TAG_SLASH","ATTRIB","ATTRIB_NAME","ATTRIB_VALUE","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","attribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","returnState","EVENTS","__proto__","getPrototypeOf","ex","SD","letter","xml","STATE","COMMENT_STARTING","amp","gt","lt","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","divide","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","stringFromCharCode","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","RangeError","string_decoder",58,"XMLAttribute","attName","attValue","lodash-node/modern/objects/create",59,"XMLBuilder","XMLDeclaration","XMLDocType","XMLElement","XMLStringifier","isRoot","documentObject","rootObject","declaration","pubID","sysID","./XMLDeclaration","./XMLDocType","./XMLElement","./XMLStringifier",60,"XMLCData","XMLNode","space","./XMLNode",61,"XMLComment",62,"XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","eleName","dtdAttType","dtdAttDefault",63,"XMLDTDElement","dtdElementValue","lodash-node/modern/objects/isArray",64,"XMLDTDEntity","pe","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","lodash-node/modern/objects/isObject",65,"XMLDTDNotation",66,"xmlVersion","xmlEncoding","xmlStandalone",67,"children","attList","pEntity","notation","instruction","XMLProcessingInstruction","_ref2","ent","pent","dat","com","ins","doc","./XMLCData","./XMLComment","./XMLDTDAttList","./XMLDTDElement","./XMLDTDEntity","./XMLDTDNotation","./XMLProcessingInstruction",68,"instructions","clonedSelf","clonedChild","skipNullAttributes","removeAttribute","insTarget","insValue","_j","_len1","_ref3","_ref4","./XMLAttribute","lodash-node/modern/objects/isFunction",69,"lastChild","ignoreDecorators","convertAttKey","convertPIKey","convertListKey","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","raw","insertBefore","removed","insertAfter","remove","XMLText","XMLRaw","importXMLBuilder","clonedRoot","nod","dec","dtd","./XMLRaw","./XMLText","lodash-node/modern/objects/isEmpty",70,71,72,"assertLegalChar","allowSurrogateChars","eleText","elEscape","attEscape","chars","chr",73,74,"assign","./XMLBuilder","lodash-node/modern/objects/assign",75,"thisArg","createWrapper","../internals/createWrapper","../internals/slice",76,"baseBind","bindData","partialArgs","thisBinding","baseCreate","setBindData","arrayRef","../objects/isObject","./baseCreate","./setBindData","./slice",77,"nativeCreate","isNative","../utilities/noop","./isNative",78,"baseCreateCallback","argCount","__bindData__","support","funcNames","funcDecomp","fnToString","reFuncName","reThis","collection","accumulator","../functions/bind","../support","../utilities/identity",79,"baseCreateWrapper","isBind","partialRightArgs","isCurry","arity","bitmask","isCurryBound","isBindKey",80,"isPartial","isPartialRight","creater","../objects/isFunction","./baseBind","./baseCreateWrapper",81,"reNative","objectProto",82,"objectTypes","function",83,84,"shimKeys","iterable","./objectTypes",85,86,"argsIndex","argsLength","ownIndex","ownProps","../internals/baseCreateCallback","../internals/objectTypes","./keys",87,"properties","../internals/baseCreate","./assign",88,"forOwn",89,"arrayClass","../internals/isNative",90,"stringClass","argsClass","objectClass","./forOwn","./isFunction",91,92,93,"../internals/shimKeys","./isObject",94,"WinRTError","./internals/isNative",95,96],"mappings":"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","sourcesContent":["!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.jsforce=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*global Sfdc */\nvar stream = require('stream'),\n    _ = require('underscore');\n\nfunction parseHeaders(hs) {\n  var headers = {};\n  hs.split(/\\n/).forEach(function(line) {\n    var pair = line.split(/\\s*:\\s*/);\n    var name = pair[0].toLowerCase();\n    var value = pair[1];\n    headers[name] = value;\n  });\n  return headers;\n}\n\nmodule.exports = {\n  \n  supported: typeof Sfdc === 'object' && typeof Sfdc.canvas !== 'undefined',\n\n  createRequest: function(signedRequest) {\n    return function(params, callback) {\n      var response;\n      var str = new stream.Duplex();\n      str._read = function(size) {\n        if (response) {\n          str.push(response.body);\n        }\n      };\n      var bufs = [];\n      var sent = false;\n      str._write = function(chunk, encoding, callback) {\n        bufs.push(chunk.toString(encoding));\n        callback();\n      };\n      str.on('finish', function() {\n        if (!sent) {\n          send(bufs.join(''));\n          sent = true;\n        }\n      });\n      if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n        send(params.body);\n        sent = true;\n      }\n\n      function send(body) {\n        var settings = {\n          client: signedRequest.client,\n          method: params.method,\n          data: body\n        };\n        if (params.headers) {\n          settings.headers = {};\n          for (var name in params.headers) {\n            if (name.toLowerCase() === 'content-type') {\n              settings.contentType = params.headers[name];\n            } else {\n              settings.headers[name] = params.headers[name];\n            }\n          }\n        }\n        settings.success = function(data) {\n          var headers = parseHeaders(data.responseHeaders);\n          var body = data.payload;\n          if (!_.isString(body)) {\n            body = JSON.stringify(body);\n          }\n          response = {\n            statusCode : data.status,\n            headers: headers,\n            body: body\n          };\n          if (callback) {\n            callback(null, response, response.body);\n          }\n          str.end();\n        };\n        settings.failure = function(err) {\n          if (callback) {\n            callback(err);\n          }\n        };\n        Sfdc.canvas.client.ajax(params.url, settings);\n      }\n      return str;\n    };\n  }\n};\n\n\n},{\"stream\":34,\"underscore\":53}],2:[function(require,module,exports){\n/**\n * @file Browser client connection management class\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar events = require('events'),\n    util = require('util'),\n    qs = require('querystring'),\n    _ = require('underscore'),\n    Connection = require('../connection'),\n    OAuth2 = require('../oauth2');\n\n/**\n * @private\n */\nfunction popupWin(url, w, h) {\n  var left = (screen.width/2)-(w/2);\n  var top = (screen.height/2)-(h/2);\n  return window.open(url, null, 'location=yes,toolbar=no,status=no,menubar=no,width='+w+',height='+h+',top='+top+',left='+left);\n}\n\nfunction handleCallbackResponse() {\n  var res = checkCallbackResponse();\n  var state = localStorage.getItem('jsforce_state');\n  if (res && state && res.body.state === state) {\n    localStorage.removeItem('jsforce_state');\n    var states = state.split('.');\n    var prefix = states[0], promptType = states[1];\n    var cli = new Client(prefix);\n    if (res.success) {\n      cli._storeTokens(res.body);\n      location.hash = '';\n    } else {\n      cli._storeError(res.body);\n    }\n    if (promptType === 'popup') { window.close(); }\n    return true;\n  }\n}\n\n/**\n * @private\n */\nfunction checkCallbackResponse() {\n  var params;\n  if (window.location.hash) {\n    params = qs.parse(window.location.hash.substring(1));\n    if (params.access_token) {\n      return { success: true, body: params };\n    }\n  } else if (window.location.search) {\n    params = qs.parse(window.location.search.substring(1));\n    if (params.error) {\n      return { success: false, body: params };\n    }\n  }\n}\n\n/** @private **/\nvar clientIdx = 0;\n\n\n/**\n * @class\n * @todo add document\n */\nvar Client = function(prefix) {\n  this._prefix = prefix || 'jsforce' + clientIdx++;\n  this.connection = null;\n};\n\nutil.inherits(Client, events.EventEmitter);\n\n/**\n *\n */\nClient.prototype.init = function(config) {\n  if (handleCallbackResponse()) { return; }\n  this.config = config;\n  this.connection = new Connection(config);\n  var tokens = this._getTokens();\n  if (tokens) {\n    this.connection.initialize(tokens);\n    var self = this;\n    setTimeout(function() {\n      self.emit('connect', self.connection);\n    }, 10);\n  }\n};\n\n/** \n *\n */\nClient.prototype.login = function(options, callback) {\n  if (_.isFunction(options)) {\n    callback = options;\n    options = {};\n  }\n  options = options || {}; \n  callback = callback || function(){ };\n  _.extend(options, this.config);\n  var self = this;\n  this._prompt(options, callback);\n};\n\n\nClient.prototype._prompt = function(options, callback) {\n  var self = this;\n  var oauth2 = new OAuth2(options);\n  var rand = Math.random().toString(36).substring(2);\n  var state = [ this._prefix, \"popup\", rand ].join('.');\n  localStorage.setItem(\"jsforce_state\", state);\n  var authzUrl = oauth2.getAuthorizationUrl({\n    response_type: 'token',\n    scope : options.scope,\n    state: state\n  });\n  var size = options.size || {};\n  var pw = popupWin(authzUrl, size.width || 912, size.height || 513);\n  if (!pw) {\n    state = [ this._prefix, \"redirect\", rand ].join('.');\n    localStorage.setItem(\"jsforce_state\", state);\n    authzUrl = oauth2.getAuthorizationUrl({\n      response_type: 'token',\n      scope : options.scope,\n      state: state\n    });\n    location.href = authzUrl;\n    return;\n  }\n  self._removeTokens();\n  var pid = setInterval(function() {\n    try {\n      if (!pw || pw.closed) {\n        clearInterval(pid);\n        var tokens = self._getTokens();\n        if (tokens) {\n          self.connection.initialize(tokens);\n          self.emit('connect', self.connection);\n          callback(null, { status: 'connect' });\n        } else {\n          var err = self._getError();\n          if (err) {\n            callback(new Error(err.error + \": \" + err.error_description));\n          } else {\n            callback(null, { status: 'cancel' });\n          }\n        }\n      }\n    } catch(e) {}\n  }, 1000);\n};\n\n/**\n *\n */\nClient.prototype.isLoggedIn = function() {\n  return !!(this.connection && this.connection.accessToken);\n};\n\n/**\n * \n */\nClient.prototype.logout = function() {\n  this.connection.logout();\n  this._removeTokens();\n  this.emit('disconnect');\n};\n\n/**\n * @private\n */\nClient.prototype._getTokens = function() {\n  var regexp = new RegExp(\"(^|;\\\\s*)\"+this._prefix+\"_loggedin=true(;|$)\");\n  if (document.cookie.match(regexp)) {\n    var issuedAt = Number(localStorage.getItem(this._prefix+'_issued_at'));\n    if (Date.now() < issuedAt + 2 * 60 * 60 * 1000) { // 2 hours\n      var userInfo;\n      var idUrl = localStorage.getItem(this._prefix + '_id');\n      if (idUrl) {\n        var ids = idUrl.split('/');\n        userInfo = { id: ids.pop(), organizationId: ids.pop(), url: idUrl };\n      }\n      return {\n        accessToken: localStorage.getItem(this._prefix + '_access_token'),\n        instanceUrl: localStorage.getItem(this._prefix + '_instance_url'),\n        userInfo: userInfo\n      };\n    }\n  }\n  return null;\n};\n\n/**\n * @private\n */\nClient.prototype._storeTokens = function(params) {\n  localStorage.setItem(this._prefix + '_access_token', params.access_token);\n  localStorage.setItem(this._prefix + '_instance_url', params.instance_url);\n  localStorage.setItem(this._prefix + '_issued_at', params.issued_at);\n  localStorage.setItem(this._prefix + '_id', params.id);\n  document.cookie = this._prefix + '_loggedin=true;';\n};\n\n/**\n * @private\n */\nClient.prototype._removeTokens = function() {\n  localStorage.removeItem(this._prefix + '_access_token');\n  localStorage.removeItem(this._prefix + '_instance_url');\n  localStorage.removeItem(this._prefix + '_issued_at');\n  localStorage.removeItem(this._prefix + '_id');\n  document.cookie = this._prefix + '_loggedin=';\n};\n\n/**\n * @private\n */\nClient.prototype._getError = function() {\n  try {\n    var err = JSON.parse(localStorage.getItem(this._prefix + '_error'));\n    localStorage.removeItem(this._prefix + '_error');\n    return err;\n  } catch(e) {}\n};\n\n/**\n * @private\n */\nClient.prototype._storeError = function(err) {\n  localStorage.setItem(this._prefix + '_error', JSON.stringify(err));\n};\n\n/**\n *\n */\nmodule.exports = new Client();\n\nmodule.exports.Client = Client;\n\n},{\"../connection\":7,\"../oauth2\":13,\"events\":28,\"querystring\":33,\"underscore\":53,\"util\":37}],3:[function(require,module,exports){\nvar jsforce = require('../jsforce');\nvar crequire;\n\n// core-require code will be automatically generated in grunt process before making browser build\ntry {\n  crequire = require('../core-require'); \n} catch(e) {}\n\njsforce.browser = require('./client');\njsforce.modules = jsforce.modules || {};\njsforce.require = function(name) {\n  try {\n    return crequire(name);\n  } catch(e) {\n    if (name === \"jsforce\" || name === \"./jsforce\") { return jsforce; }\n    if (name.substring(0, 2) === \"./\") {\n      var paths = name.substring(2).split(\"/\");\n      var p = paths.pop();\n      paths.push(p.replace(/(^|\\-)([a-zA-Z])/g, function(_0, _1, _2) {\n        return _2.toUpperCase();\n      }));\n      var o = jsforce.modules;\n      while (o && paths.length > 0) {\n        o = o[paths.shift()];\n      }\n      return o;\n    }\n  }\n};\n\nmodule.exports = jsforce;\n},{\"../core-require\":8,\"../jsforce\":11,\"./client\":2}],4:[function(require,module,exports){\n/*global window, document */\nvar _index = 0;\n\nmodule.exports = {\n\n  supported: typeof window !== 'undefined',\n\n  createRequest: function(jsonpParam, timeout) {\n    jsonpParam = jsonpParam || 'callback';\n    timeout = timeout || 10000;\n\n    return function(params, callback) {\n      if (params.method.toUpperCase() !== 'GET') {\n        return callback(new Error('JSONP only supports GET request.'));\n      }\n      var cbFuncName = '_jsforce_jsonpCallback_' + (++_index);\n      var callbacks = window;\n      var url = params.url;\n      url += url.indexOf('?')>0 ? '&' : '?';\n      url += jsonpParam + '=' + cbFuncName;\n\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = url;\n      document.documentElement.appendChild(script);\n\n      var pid = setTimeout(function() {\n        cleanup();\n        callback(new Error(\"JSONP call time out.\"));\n      }, timeout);\n\n      callbacks[cbFuncName] = function(res) {\n        cleanup();\n        callback(null, {\n          statusCode: 200,\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify(res)\n        });\n      };\n\n      var cleanup = function() {\n        clearTimeout(pid);\n        document.documentElement.removeChild(script);\n        delete callbacks[cbFuncName];\n      };\n    };\n\n  }\n\n};\n},{}],5:[function(require,module,exports){\nvar stream = require('stream');\n\nmodule.exports = function(params, callback) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(params.method, params.url);\n  if (params.headers) {\n    for (var header in params.headers) {\n      xhr.setRequestHeader(header, params.headers[header]);\n    }\n  }\n  xhr.setRequestHeader(\"Accept\", \"*/*\");\n  var response;\n  var str = new stream.Duplex();\n  str._read = function(size) {\n    if (response) {\n      str.push(response.body);\n    }\n  };\n  var bufs = [];\n  var sent = false;\n  str._write = function(chunk, encoding, callback) {\n    bufs.push(chunk.toString(encoding === \"buffer\" ? \"binary\" : encoding));\n    callback();\n  };\n  str.on('finish', function() {\n    if (!sent) {\n      xhr.send(bufs.join(''));\n      sent = true;\n    }\n  });\n  if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n    xhr.send(params.body);\n    sent = true;\n  }\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 4) {\n      var headers = {\n        \"content-type\": xhr.getResponseHeader(\"content-type\")\n      };\n      response = {\n        statusCode: xhr.status,\n        headers: headers,\n        body: xhr.response\n      };\n      if (!response.statusCode) {\n        response.statusCode = 400;\n        response.body = \"Access Declined\";\n      }\n      if (callback) {\n        callback(null, response, response.body);\n      }\n      str.end();\n    }\n  };\n  return str;\n};\n\n\n},{\"stream\":34}],6:[function(require,module,exports){\n/**\n * @file Manages asynchronous method response cache\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar events = require('events'),\n    util   = require('util'),\n    _      = require('underscore')._;\n\n/**\n * Class for managing cache entry\n *\n * @private\n * @class\n * @constructor\n * @template T\n */\nvar CacheEntry = function() {\n  this.fetching = false;\n};\n\nutil.inherits(CacheEntry, events.EventEmitter);\n\n/**\n * Get value in the cache entry\n *\n * @param {Callback.<T>} [callback] - Callback function callbacked the cache entry updated\n * @returns {T|undefined}\n */\nCacheEntry.prototype.get = function(callback) {\n  if (!callback) {\n    return this._value;\n  } else {\n    this.once('value', callback);\n    if (!_.isUndefined(this._value)) {\n      this.emit('value', this._value);\n    }\n  }\n};\n\n/**\n * Set value in the cache entry\n *\n * @param {T} [value] - A value for caching\n */\nCacheEntry.prototype.set = function(value) {\n  this._value = value;\n  this.emit('value', this._value);\n};\n\n/**\n * Clear cached value\n */\nCacheEntry.prototype.clear = function() {\n  this.fetching = false;\n  delete this._value;\n};\n\n\n/**\n * Caching manager for async methods\n *\n * @class\n * @constructor\n */\nvar Cache = function() {\n  this._entries = {};\n};\n\n/**\n * retrive cache entry, or create if not exists.\n *\n * @param {String} [key] - Key of cache entry\n * @returns {CacheEntry}\n */\nCache.prototype.get = function(key) {\n  if (key && this._entries[key]) {\n    return this._entries[key];\n  } else {\n    var entry = new CacheEntry();\n    this._entries[key] = entry;\n    return entry;\n  }\n};\n\n/**\n * clear cache entries prefix matching given key\n * @param {String} [key] - Key prefix of cache entry to clear\n */\nCache.prototype.clear = function(key) {\n  for (var k in this._entries) {\n    if (!key || k.indexOf(key) === 0) {\n      this._entries[k].clear();\n    }\n  }\n};\n\n/**\n * create and return cache key from namespace and serialized arguments.\n * @private\n */\nfunction createCacheKey(namespace, args) {\n  args = Array.prototype.slice.apply(args);\n  return namespace + '(' + _.map(args, function(a){ return JSON.stringify(a); }).join(',') + ')';\n}\n\n/**\n * Enable caching for async call fn to intercept the response and store it to cache.\n * The original async calll fn is always invoked.\n *\n * @protected\n * @param {Function} fn - Function to covert cacheable\n * @param {Object} [scope] - Scope of function call\n * @param {Object} [options] - Options\n * @return {Function} - Cached version of function\n */\nCache.prototype.makeResponseCacheable = function(fn, scope, options) {\n  var cache = this;\n  options = options || {};\n  return function() {\n    var args = Array.prototype.slice.apply(arguments);\n    var callback = args.pop();\n    if (!_.isFunction(callback)) {\n      args.push(callback);\n      callback = null;\n    }\n    var key = _.isString(options.key) ? options.key :\n              _.isFunction(options.key) ? options.key.apply(scope, args) :\n              createCacheKey(options.namespace, args);\n    var entry = cache.get(key);\n    entry.fetching = true;\n    if (callback) {\n      args.push(function(err, result) {\n        entry.set({ error: err, result: result });\n        callback(err, result);\n      });\n    }\n    var ret, error;\n    try {\n      ret = fn.apply(scope || this, args);\n    } catch(e) {\n      error = e;\n    }\n    if (ret && _.isFunction(ret.then)) { // if the returned value is promise\n      if (!callback) {\n        return ret.then(function(result) {\n          entry.set({ error: undefined, result: result });\n          return result;\n        }, function(err) {\n          entry.set({ error: err, result: undefined });\n          throw err;\n        });\n      } else {\n        return ret;\n      }\n    } else {\n      entry.set({ error: error, result: ret });\n      if (error) { throw error; }\n      return ret;\n    }\n  };\n};\n\n/**\n * Enable caching for async call fn to lookup the response cache first, then invoke original if no cached value.\n *\n * @protected\n * @param {Function} fn - Function to covert cacheable\n * @param {Object} [scope] - Scope of function call\n * @param {Object} [options] - Options\n * @return {Function} - Cached version of function\n */\nCache.prototype.makeCacheable = function(fn, scope, options) {\n  var cache = this;\n  options = options || {};\n  var $fn = function() {\n    var args = Array.prototype.slice.apply(arguments);\n    var callback = args.pop();\n    if (!_.isFunction(callback)) {\n      args.push(callback);\n    }\n    var key = _.isString(options.key) ? options.key :\n              _.isFunction(options.key) ? options.key.apply(scope, args) :\n              createCacheKey(options.namespace, args);\n    var entry = cache.get(key);\n    if (!_.isFunction(callback)) { // if callback is not given in last arg, return cached result (immediate).\n      var value = entry.get();\n      if (!value) { throw new Error('Function call result is not cached yet.'); }\n      if (value.error) { throw value.error; }\n      return value.result;\n    }\n    entry.get(function(value) {\n      callback(value.error, value.result);\n    });\n    if (!entry.fetching) { // only when no other client is calling function\n      entry.fetching = true;\n      args.push(function(err, result) {\n        entry.set({ error: err, result: result });\n      });\n      fn.apply(scope || this, args);\n    }\n  };\n  $fn.clear = function() {\n    var key = _.isString(options.key) ? options.key :\n              _.isFunction(options.key) ? options.key.apply(scope, arguments) :\n              createCacheKey(options.namespace, arguments);\n    cache.clear(key);\n  };\n  return $fn;\n};\n\n\nmodule.exports = Cache;\n\n},{\"events\":28,\"underscore\":53,\"util\":37}],7:[function(require,module,exports){\n(function (Buffer){\n/*global Buffer */\n/**\n * @file Connection class to keep the API session information and manage requests\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar events  = require('events'),\n    util    = require('util'),\n    async   = require('async'),\n    _       = require('underscore')._,\n    Promise = require('./promise'),\n    Logger  = require('./logger'),\n    OAuth2  = require('./oauth2'),\n    Query   = require('./query'),\n    SObject = require('./sobject'),\n    Transport = require('./transport'),\n    Cache   = require('./cache');\n\nvar defaults = {\n  loginUrl: \"https://login.salesforce.com\",\n  instanceUrl: \"\",\n  version: \"31.0\"\n};\n\n/**\n * Connection class to keep the API session information and manage requests\n *\n * @constructor\n * @extends events.EventEmitter\n * @param {Object} [options] - Connection options\n * @param {OAuth2|Object} [options.oauth2] - OAuth2 instance or options to be passed to OAuth2 constructor\n * @param {String} [options.logLevel] - Output logging level (DEBUG|INFO|WARN|ERROR|FATAL)\n * @param {String} [options.version] - Salesforce API Version (without \"v\" prefix)\n * @param {Number} [options.maxRequest] - Max number of requests allowed in parallel call\n * @param {String} [options.loginUrl] - Salesforce Login Server URL (e.g. https://login.salesforce.com/)\n * @param {String} [options.instanceUrl] - Salesforce Instance URL (e.g. https://na1.salesforce.com/)\n * @param {String} [options.serverUrl] - Salesforce SOAP service endpoint URL (e.g. https://na1.salesforce.com/services/Soap/u/28.0)\n * @param {String} [options.accessToken] - Salesforce OAuth2 access token\n * @param {String} [options.sessionId] - Salesforce session ID\n * @param {String} [options.refreshToken] - Salesforce OAuth2 refresh token\n * @param {String|Object} [options.signedRequest] - Salesforce Canvas signed request (Raw Base64 string, JSON string, or deserialized JSON)\n * @param {String} [options.proxyUrl] - Cross-domain proxy server URL, used in browser client, non Visualforce app.\n */\nvar Connection = module.exports = function(options) {\n  var Bulk    = jsforce.require('./api/bulk'),\n      Streaming = jsforce.require('./api/streaming'),\n      Tooling = jsforce.require('./api/tooling'),\n      Analytics = jsforce.require('./api/analytics'),\n      Chatter = jsforce.require('./api/chatter'),\n      Apex    = jsforce.require('./api/apex'),\n      Metadata = jsforce.require('./api/metadata');\n\n  options = options || {};\n\n  this._logger = new Logger(options.logLevel);\n\n  var oauth2 = options.oauth2 || {\n    loginUrl : options.loginUrl,\n    clientId : options.clientId,\n    clientSecret : options.clientSecret,\n    redirectUri : options.redirectUri\n  };\n\n  /**\n   * OAuth2 object\n   * @member {OAuth2} Connection#oauth2\n   */\n  this.oauth2 = oauth2 instanceof OAuth2 ? oauth2 : new OAuth2(oauth2);\n\n  this.loginUrl = options.loginUrl || oauth2.loginUrl || defaults.loginUrl;\n  this.version = options.version || defaults.version;\n  this.maxRequest = options.maxRequest || this.maxRequest || 10;\n\n  /** @private */\n  this._transport =\n    options.proxyUrl ? new Transport.ProxyTransport(options.proxyUrl) : new Transport();\n\n  /**\n   * Streaming API object\n   * @member {Streaming} Connection#streaming\n   */\n  if (Streaming) {\n    this.streaming = new Streaming(this);\n  }\n  /**\n   * Bulk API object\n   * @member {Bulk} Connection#bulk\n   */\n  if (Bulk) {\n    this.bulk = new Bulk(this);\n  }\n  /**\n   * Tooling API object\n   * @member {Tooling} Connection#tooling\n   */\n  if (Tooling) {\n    this.tooling = new Tooling(this);\n  }\n  /**\n   * Analytics API object\n   * @member {Analytics} Connection#analytics\n   */\n  if (Analytics) {\n    this.analytics = new Analytics(this);\n  }\n  /**\n   * Chatter API object\n   * @member {Chatter} Connection#chatter\n   */\n  if (Chatter) {\n    this.chatter = new Chatter(this);\n  }\n  /**\n   * Metadata API object\n   * @member {Metadata} Connection#metadata \n   */\n  if (Metadata) {\n    this.metadata = new Metadata(this);\n  }\n  /**\n   * Apex REST API object\n   * @member {Apex} Connection#apex\n   */\n  if (Apex) {\n    this.apex = new Apex(this);\n  }\n  /**\n   * Cache object for result\n   * @member {Cache} Connection#cache\n   */\n  this.cache = new Cache();\n\n  // Allow to delegate connection refresh to outer function\n  if (options.refreshFn) {\n    this._refreshDelegate = {\n      refreshToken: options.refreshFn\n    };\n  }\n\n  var cacheOptions = {\n    key: function(type) { return type ? \"describe.\" + type : \"describe\"; }\n  };\n  this.describe$ = this.cache.makeCacheable(this.describe, this, cacheOptions);\n  this.describe = this.cache.makeResponseCacheable(this.describe, this, cacheOptions);\n  this.describeSObject$ = this.describe$;\n  this.describeSObject = this.describe;\n\n  cacheOptions = { key: 'describeGlobal' };\n  this.describeGlobal$ = this.cache.makeCacheable(this.describeGlobal, this, cacheOptions);\n  this.describeGlobal = this.cache.makeResponseCacheable(this.describeGlobal, this, cacheOptions);\n\n  this.initialize(options);\n};\n\nutil.inherits(Connection, events.EventEmitter);\n\n/**\n * Initialize connection.\n *\n * @protected\n * @param {Object} options - Initialization options\n * @param {String} [options.instanceUrl] - Salesforce Instance URL (e.g. https://na1.salesforce.com/)\n * @param {String} [options.serverUrl] - Salesforce SOAP service endpoint URL (e.g. https://na1.salesforce.com/services/Soap/u/28.0)\n * @param {String} [options.accessToken] - Salesforce OAuth2 access token\n * @param {String} [options.sessionId] - Salesforce session ID\n * @param {String} [options.refreshToken] - Salesforce OAuth2 refresh token\n * @param {String|Object} [options.signedRequest] - Salesforce Canvas signed request (Raw Base64 string, JSON string, or deserialized JSON)\n * @param {UserInfo} [options.userInfo] - Logged in user information\n */\nConnection.prototype.initialize = function(options) {\n  if (!options.instanceUrl && options.serverUrl) {\n    options.instanceUrl = options.serverUrl.split('/').slice(0, 3).join('/');\n  }\n  this.instanceUrl = options.instanceUrl || options.serverUrl || this.instanceUrl || defaults.instanceUrl;\n  this.urls = {\n    soap : {\n      login : [ this.loginUrl, \"services/Soap/u\", this.version ].join('/'),\n      service : [ this.instanceUrl, \"services/Soap/u\", this.version ].join('/')\n    },\n    rest : {\n      base : [ this.instanceUrl, \"services/data\", \"v\" + this.version ].join('/')\n    }\n  };\n\n  this.accessToken = options.sessionId || options.accessToken || this.accessToken;\n  this.refreshToken = options.refreshToken || this.refreshToken;\n  if (this.refreshToken && !this.oauth2 && !this._refreshDelegate) {\n    throw new Error(\"Refresh token is specified without oauth2 client information\");\n  }\n  \n  this.signedRequest = options.signedRequest && parseSignedRequest(options.signedRequest);\n  if (this.signedRequest) {\n    this.accessToken = this.signedRequest.client.oauthToken;\n  }\n\n  if (options.userInfo) {\n    this.userInfo = options.userInfo;\n  }\n\n  this.limitInfo = {};\n\n  this.sobjects = {};\n  this.cache.clear();\n  this.cache.get('describeGlobal').on('value', _.bind(function(res) {\n    if (res.result) {\n      var types = _.map(res.result.sobjects, function(so) { return so.name; });\n      _.each(types, this.sobject, this);\n    }\n  }, this));\n\n  if (this.tooling) {\n    this.tooling.initialize();\n  }\n\n  this._sessionType = options.sessionId ? \"soap\" : \"oauth2\";\n  this._initializedAt = Date.now();\n\n};\n\n/** @private **/\nfunction parseSignedRequest(sr) {\n  if (_.isString(sr)) {\n    if (sr[0] === '{') { // might be JSON\n      return JSON.parse(sr);\n    } else { // might be original base64-encoded signed request\n      var msg = sr.split('.').pop(); // retrieve latter part\n      var json = new Buffer(msg, 'base64').toString('utf-8');\n      return JSON.parse(json);\n    }\n    return null;\n  }\n  return sr;\n}\n\n\n/**\n * @private\n */\nConnection.prototype._baseUrl = function() {\n  return this.urls.rest.base;\n};\n\n/**\n * Sending request using given HTTP request info\n * @private\n */\nConnection.prototype._request = function(params, callback, options) {\n  options = options || {};\n  // if params is simple string, regard it as url in GET method\n  if (_.isString(params)) {\n    params = { method: 'GET', url: params };\n  }\n  // if url is given in site root relative path, prepend instance url before.\n  if (params.url[0] === '/') {\n    params.url = this.instanceUrl + params.url;\n  }\n\n  var self = this;\n  var logger = this._logger;\n\n  var deferred = Promise.defer();\n\n  var onResume = function(err) {\n    if (err) {\n      deferred.reject(err);\n      return;\n    }\n    self._request(params, null, options).then(function(response) {\n      deferred.resolve(response);\n    }, function(err) {\n      deferred.reject(err);\n    });\n  };\n\n  if (self._suspended) {\n    self.once('resume', onResume);\n    return deferred.promise.thenCall(callback);\n  }\n\n  params.headers = params.headers || {};\n  if (this.accessToken) {\n    params.headers.Authorization = \"Bearer \" + this.accessToken;\n  }\n\n  // hook in sending\n  if (options.beforesend) { options.beforesend(this, params); }\n\n  // for connection in canvas with signed request\n  if (this.signedRequest) { options.signedRequest = this.signedRequest; }\n\n  self.emit('request', params.method, params.url, params);\n\n  logger.debug(\"<request> method=\" + params.method + \", url=\" + params.url);\n  var requestTime = Date.now();\n\n  var onFailure = function(err) {\n    var responseTime = Date.now();\n    logger.debug(\"elappsed time : \" + (responseTime - requestTime) + \"msec\");\n\n    logger.error(err);\n    throw err;\n  };\n\n  var onResponse = function(response) {\n    var responseTime = Date.now();\n    logger.debug(\"elappsed time : \" + (responseTime - requestTime) + \"msec\");\n\n    logger.debug(\"<response> status=\" + response.statusCode + \", url=\" + params.url);\n\n    self.emit('response', response.statusCode, response.body, response);\n\n    // log api usage and its quota\n    if (response.headers && response.headers[\"sforce-limit-info\"]) {\n      var apiUsage = response.headers[\"sforce-limit-info\"].match(/api\\-usage=(\\d+)\\/(\\d+)/)\n      if (apiUsage) {\n        self.limitInfo = {\n          apiUsage: {\n            used: parseInt(apiUsage[1], 10),\n            limit: parseInt(apiUsage[2], 10)\n          }\n        };\n      }\n    }\n\n    // Refresh token if status code requires authentication\n    // when oauth2 info and refresh token is available.\n    if (response.statusCode === 401 &&\n        (self._refreshDelegate || (self.oauth2 && self.refreshToken))) {\n      // Access token may be refreshed before the response\n      if (self._initializedAt > requestTime) {\n        onResume();\n      } else {\n        self.once('resume', onResume);\n        if (!self._suspended) {\n          self._suspended = true;\n          self._refresh();\n        }\n      }\n      return deferred.promise;\n    }\n\n    // check response content type to choose parser\n    var contentType = options.responseContentType ||\n                      (response.headers && response.headers[\"content-type\"]);\n    var parseBody = /^application\\/xml(;|$)/.test(contentType) ? parseXML : \n                    /^application\\/json(;|$)/.test(contentType) ? parseJSON :\n                    /^text\\/csv(;|$)/.test(contentType) ? parseCSV :\n                    parseText;\n\n    var err;\n    if (response.statusCode >= 400) {\n      var error;\n      try {\n        var parseError = options.parseError || function(errs) {\n          var err = _.isArray(errs) ? errs[0] : errs;\n          if (_.isObject(err) && _.isString(err.message)) { return err; }\n        };\n        error = parseError(parseBody(response.body));\n      } catch(e) {}\n      if (!error) {\n        error = { message : response.body, errorCode: 'ERROR_HTTP_' + response.statusCode };\n      }\n      err = new Error(error.message);\n      err.name = error.errorCode;\n      for (var key in error) { err[key] = error[key]; }\n      throw err;\n    } else if (response.statusCode === 204) {\n      return options.noContentResponse;\n    } else {\n      var res = parseBody(response.body);\n      if (response.statusCode === 300) { // Multiple Choices\n        err = new Error('Multiple records found');\n        err.name = \"MULTIPLE_CHOICES\";\n        err.content = res;\n        throw err;\n      }\n      return res;\n    }\n  };\n\n  return this._transport.httpRequest(params, null, options).then(onResponse, onFailure).thenCall(callback);\n\n};\n\n/** @private */\nfunction parseJSON(str) {\n  return JSON.parse(str);\n}\n\n/** @private */\nfunction parseXML(str) {\n  var ret = {};\n  require('xml2js').parseString(str, { explicitArray: false }, function(err, result) {\n    ret = { error: err, result : result };\n  });\n  if (ret.error) { throw ret.error; }\n  return ret.result;\n}\n\n/** @private */\nfunction parseCSV(str) {\n  return require('./csv').parseCSV(str);\n}\n\n/** @private */\nfunction parseText(str) { return str; }\n\n/** @private */\nfunction formatDate(date) {\n  function pad(number) {\n    if (number < 10) {\n      return '0' + number;\n    }\n    return number;\n  }\n\n  return date.getUTCFullYear() +\n    '-' + pad(date.getUTCMonth() + 1) +\n    '-' + pad(date.getUTCDate()) +\n    'T' + pad(date.getUTCHours()) +\n    ':' + pad(date.getUTCMinutes()) +\n    ':' + pad(date.getUTCSeconds()) +\n    '+00:00';\n}\n\n/**\n * Refresh access token\n * @private\n */\nConnection.prototype._refresh = function() {\n  var self = this;\n  var logger = this._logger;\n  logger.debug(\"<refresh token>\");\n  var delegate = this._refreshDelegate || this.oauth2;\n  return delegate.refreshToken(this.refreshToken, function(err, res) {\n    if (!err) {\n      var userInfo = parseIdUrl(res.id);\n      self.initialize({\n        instanceUrl : res.instance_url,\n        accessToken : res.access_token,\n        userInfo : userInfo\n      });\n      logger.debug(\"token refresh completed. result = \" + JSON.stringify(res));\n      self.emit(\"refresh\", res.access_token, res);\n    }\n    self._suspended = false;\n    self.emit('resume', err);\n  });\n};\n\n/** @private **/\nfunction parseIdUrl(idUrl) {\n  var idUrls = idUrl.split(\"/\");\n  var userId = idUrls.pop(), orgId = idUrls.pop();\n  return {\n    id: userId,\n    organizationId: orgId,\n    url: idUrl\n  };\n}\n\n\n/**\n * @callback Callback\n * @type {Function}\n * @param {Error} err - Callback error\n * @param {T} response - Callback response\n * @template T\n */\n\n/**\n * @typedef {Object} QueryResult\n * @prop {Boolean} done - Flag if the query is fetched all records or not\n * @prop {String} [nextRecordsUrl] - URL locator for next record set, (available when done = false)\n * @prop {Number} totalSize - Total size for query\n * @prop {Array.<Record>} [records] - Array of records fetched\n */\n\n/**\n * Execute query by using SOQL\n * \n * @param {String} soql - SOQL string\n * @param {Callback.<QueryResult>} [callback] - Callback function\n * @returns {Query.<QueryResult>}\n */\nConnection.prototype.query = function(soql, callback) {\n  var query = new Query(this, soql);\n  if (callback) {\n    query.run(callback);\n  }\n  return query;\n};\n\n/**\n * Execute query by using SOQL, including deleted records\n * \n * @param {String} soql - SOQL string\n * @param {Callback.<QueryResult>} [callback] - Callback function\n * @returns {Query.<QueryResult>}\n */\nConnection.prototype.queryAll = function(soql, callback) {\n  var query = new Query(this, soql);\n  query.scanAll(true);\n  if (callback) {\n    query.run(callback);\n  }\n  return query;\n};\n\n/**\n * Query next record set by using query locator\n * \n * @param {String} locator - Next record set locator\n * @param {Callback.<QueryResult>} [callback] - Callback function\n * @returns {Query.<QueryResult>}\n */\nConnection.prototype.queryMore = function(locator, callback) {\n  var query = new Query(this, null, locator);\n  if (callback) {\n    query.run(callback);\n  }\n  return query;\n};\n\n/**\n * Retrieve specified records\n *\n * @param {String} type - SObject Type\n * @param {String|Array.<String>} ids - A record ID or array of record IDs \n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<Record|Array.<Record>>} [callback] - Callback function\n * @returns {Promise.<Record|Array.<Record>>}\n */\nConnection.prototype.retrieve = function(type, ids, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  var self = this;\n  var isArray = _.isArray(ids);\n  ids = isArray ? ids : [ ids ];\n  if (ids.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(ids, function(id) {\n      var url = [ self._baseUrl(), \"sobjects\", type, id ].join('/');\n      return self._request(url);\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n\n/**\n * @typedef RecordResult\n * @prop {Boolean} success - The result is succeessful or not\n * @prop {String} [id] - Record ID\n * @prop {Array.<String>} [errors] - Errors (available when success = false)\n */\n\n/**\n * Synonym of Connection#create()\n *\n * @method Connection#insert\n * @param {String} type - SObject Type\n * @param {Object|Array.<Object>} records - A record or array of records to create\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Create records\n *\n * @method Connection#create\n * @param {String} type - SObject Type\n * @param {Record|Array.<Record>} records - A record or array of records to create\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nConnection.prototype.insert =\nConnection.prototype.create = function(type, records, options, callback) {\n  if (!_.isString(type)) {\n    // reverse order\n    callback = options;\n    options = records;\n    records = type;\n    type = null;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  var self = this;\n  var isArray = _.isArray(records);\n  records = isArray ? records : [ records ];\n  if (records.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(records, function(record) {\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\n      if (!sobjectType) {\n        throw new Error('No SObject Type defined in record');\n      }\n      record = _.clone(record);\n      delete record.Id;\n      delete record.type;\n      delete record.attributes;\n\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType ].join('/');\n      return self._request({\n        method : 'POST',\n        url : url,\n        body : JSON.stringify(record),\n        headers : _.defaults(options.headers || {}, {\n          \"Content-Type\" : \"application/json\"\n        })\n      });\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n/**\n * Update records\n *\n * @param {String} type - SObject Type\n * @param {Record|Array.<Record>} records - A record or array of records to update\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nConnection.prototype.update = function(type, records, options, callback) {\n  if (!_.isString(type)) {\n    // reverse order\n    callback = options;\n    options = records;\n    records = type;\n    type = null;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  var self = this;\n  var isArray = _.isArray(records);\n  records = isArray ? records : [ records ];\n  if (records.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(records, function(record) {\n      var id = record.Id;\n      if (!id) {\n        throw new Error('Record id is not found in record.');\n      }\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\n      if (!sobjectType) {\n        throw new Error('No SObject Type defined in record');\n      }\n      record = _.clone(record);\n      delete record.Id;\n      delete record.type;\n      delete record.attributes;\n\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType, id ].join('/');\n      return self._request({\n        method : 'PATCH',\n        url : url,\n        body : JSON.stringify(record),\n        headers : _.defaults(options.headers || {}, {\n          \"Content-Type\" : \"application/json\"\n        })\n      }, null, {\n        noContentResponse: { id : id, success : true, errors : [] }\n      });\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n/**\n * Upsert records\n *\n * @param {String} type - SObject Type\n * @param {Record|Array.<Record>} records - Record or array of records to upsert\n * @param {String} extIdField - External ID field name\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nConnection.prototype.upsert = function(type, records, extIdField, options, callback) {\n  // You can omit \"type\" argument, when the record includes type information.\n  if (!_.isString(type)) {\n    // reverse order\n    callback = options;\n    options = extIdField;\n    extIdField = records;\n    records = type;\n    type = null;\n  }\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  var self = this;\n  var isArray = _.isArray(records);\n  records = isArray ? records : [ records ];\n  if (records.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(records, function(record) {\n      var sobjectType = type || (record.attributes && record.attributes.type) || record.type;\n      var extId = record[extIdField];\n      if (!extId) {\n        return Promise.reject(new Error('External ID is not defined in the record'));\n      }\n      record = _.clone(record);\n      delete record[extIdField];\n      delete record.type;\n      delete record.attributes;\n\n      var url = [ self._baseUrl(), \"sobjects\", sobjectType, extIdField, extId ].join('/');\n      return self._request({\n        method : 'PATCH',\n        url : url,\n        body : JSON.stringify(record),\n        headers : _.defaults(options.headers || {}, {\n          \"Content-Type\" : \"application/json\"\n        }) \n      }, null, {\n        noContentResponse: { success : true, errors : [] }\n      });\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n/**\n * Synonym of Connection#destroy()\n *\n * @method Connection#delete\n * @param {String} type - SObject Type\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Synonym of Connection#destroy()\n *\n * @method Connection#del\n * @param {String} type - SObject Type\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Delete records\n *\n * @method Connection#destroy\n * @param {String} type - SObject Type\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nConnection.prototype[\"delete\"] =\nConnection.prototype.del =\nConnection.prototype.destroy = function(type, ids, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  var self = this;\n  var isArray = _.isArray(ids);\n  ids = isArray ? ids : [ ids ];\n  if (ids.length > self.maxRequest) {\n    return Promise.reject(new Error(\"Exceeded max limit of concurrent call\")).thenCall(callback);\n  }\n  return Promise.all(\n    _.map(ids, function(id) {\n      var url = [ self._baseUrl(), \"sobjects\", type, id ].join('/');\n      return self._request({\n        method : 'DELETE',\n        url : url,\n        headers: options.headers || null\n      }, null, {\n        noContentResponse: { id : id, success : true, errors : [] }\n      });\n    })\n  ).then(function(results) {\n    return !isArray && _.isArray(results) ? results[0] : results;\n  }).thenCall(callback);\n};\n\n/**\n * Execute search by SOSL\n * \n * @param {String} sosl - SOSL string\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<RecordResult>>}\n */\nConnection.prototype.search = function(sosl, callback) {\n  var url = this._baseUrl() + \"/search?q=\" + encodeURIComponent(sosl);\n  return this._request(url).thenCall(callback);\n};\n\n/**\n * Result returned by describeSObject call\n *\n * @typedef {Object} DescribeSObjectResult\n */\n/**\n * Synonym of Connection#describe()\n *\n * @method Connection#describeSObject\n * @param {String} type - SObject Type\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\n * @returns {Promise.<DescribeSObjectResult>}\n */\n/**\n * Describe SObject metadata\n *\n * @method Connection#describe\n * @param {String} type - SObject Type\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\n * @returns {Promise.<DescribeSObjectResult>}\n */\nConnection.prototype.describe = \nConnection.prototype.describeSObject = function(type, callback) {\n  var url = [ this._baseUrl(), \"sobjects\", type, \"describe\" ].join('/');\n  return this._request(url).thenCall(callback);\n};\n\n\n/**\n * Result returned by describeGlobal call\n *\n * @typedef {Object} DescribeGlobalResult\n */\n/**\n * Describe global SObjects\n *\n * @param {Callback.<DescribeGlobalResult>} [callback] - Callback function\n * @returns {Promise.<DescribeGlobalResult>}\n */\nConnection.prototype.describeGlobal = function(callback) {\n  var url = this._baseUrl() + \"/sobjects\";\n  return this._request(url).thenCall(callback);\n};\n\n\n/**\n * Get SObject instance\n *\n * @param {String} type - SObject Type\n * @returns {SObject}\n */\nConnection.prototype.sobject = function(type) {\n  this.sobjects = this.sobjects || {};\n  var sobject = this.sobjects[type] = \n    this.sobjects[type] || new SObject(this, type);\n  return sobject;\n};\n\n/**\n * Get identity information of current user\n *\n * @param {Callback.<IdentityInfo>} [callback] - Callback function\n * @returns {Promise.<IdentityInfo>}\n */\nConnection.prototype.identity = function(callback) {\n  var self = this;\n  var idUrl = this.userInfo && this.userInfo.url;\n  return new Promise(\n    idUrl ? \n    { identity: idUrl } :\n    this._request(this._baseUrl())\n  ).then(function(res) {\n    var url = res.identity;\n    url += '?format=json&oauth_token=' + encodeURIComponent(self.accessToken);\n    return self._request(url, null, { jsonp : 'callback' });\n  }).then(function(res) {\n    self.userInfo = {\n      id: res.user_id,\n      organizationId: res.organization_id,\n      url: res.id\n    };\n    return res;\n  }).thenCall(callback);\n};\n\n/**\n * @typedef UserInfo\n * @prop {String} id - User ID\n * @prop {String} organizationId - Organization ID\n * @prop {String} url - Identity URL of the user\n */\n\n/**\n * Authorize (using oauth2 web server flow)\n *\n * @param {String} code - Authorization code\n * @param {Callback.<UserInfo>} [callback] - Callback function\n * @returns {Promise.<UserInfo>}\n */\nConnection.prototype.authorize = function(code, callback) {\n  var self = this;\n  var logger = this._logger;\n\n  return this.oauth2.requestToken(code).then(function(res) {\n    logger.debug(\"OAuth2 token response = \" + JSON.stringify(res));\n    var userInfo = parseIdUrl(res.id);\n    self.initialize({\n      instanceUrl : res.instance_url,\n      accessToken : res.access_token,\n      refreshToken : res.refresh_token,\n      userInfo: userInfo\n    });\n    logger.debug(\"<login> completed. user id = \" + userInfo.id + \", org id = \" + userInfo.organizationId);\n    return userInfo;\n\n  }).thenCall(callback);\n\n};\n\n\n/**\n * Login to Salesforce\n * \n * @param {String} username - Salesforce username\n * @param {String} password - Salesforce password (and security token, if required)\n * @param {Callback.<UserInfo>} [callback] - Callback function\n * @returns {Promise.<UserInfo>}\n */\nConnection.prototype.login = function(username, password, callback) {\n  if (this.oauth2 && this.oauth2.clientId && this.oauth2.clientSecret) {\n    return this.loginByOAuth2(username, password, callback);\n  } else {\n    return this.loginBySoap(username, password, callback);\n  }\n};\n\n\n/**\n * Login by OAuth2 username & password flow\n *\n * @param {String} username - Salesforce username\n * @param {String} password - Salesforce password (and security token, if required)\n * @param {Callback.<UserInfo>} [callback] - Callback function\n * @returns {Promise.<UserInfo>}\n */\nConnection.prototype.loginByOAuth2 = function(username, password, callback) {\n  var self = this;\n  var logger = this._logger;\n\n  return this.oauth2.authenticate(username, password).then(function(res) {\n    logger.debug(\"OAuth2 token response = \" + JSON.stringify(res));\n    var userInfo = parseIdUrl(res.id);\n    self.initialize({\n      instanceUrl : res.instance_url,\n      accessToken : res.access_token,\n      userInfo: userInfo\n    });\n    logger.debug(\"<login> completed. user id = \" + userInfo.id + \", org id = \" + userInfo.organizationId);\n    return userInfo;\n\n  }).thenCall(callback);\n\n};\n\n/**\n * @private\n */\nfunction esc(str) {\n  return str && String(str).replace(/&/g, '&amp;').replace(/</g, '&lt;')\n                           .replace(/>/g, '&gt;').replace(/\"/g, '&quot;');\n}\n\n/**\n * Login by SOAP web service API\n *\n * @param {String} username - Salesforce username\n * @param {String} password - Salesforce password (and security token, if required)\n * @param {Callback.<UserInfo>} [callback] - Callback function\n * @returns {Promise.<UserInfo>}\n */\nConnection.prototype.loginBySoap = function(username, password, callback) {\n  var self = this;\n  var logger = this._logger;\n  var body = [\n    '<se:Envelope xmlns:se=\"http://schemas.xmlsoap.org/soap/envelope/\">',\n      '<se:Header/>',\n      '<se:Body>',\n        '<login xmlns=\"urn:partner.soap.sforce.com\">',\n          '<username>' + esc(username) + '</username>',\n          '<password>' + esc(password) + '</password>',\n        '</login>',\n      '</se:Body>',\n    '</se:Envelope>'\n  ].join('');\n\n  return this._transport.httpRequest({\n    method : 'POST',\n    url : this.urls.soap.login,\n    body : body,\n    headers : {\n      \"Content-Type\" : \"text/xml\",\n      \"SOAPAction\" : '\"\"'\n    }\n  }).then(function(response) {\n    var m;\n    if (response.statusCode >= 400) {\n      m = response.body.match(/<faultstring>([^<]+)<\\/faultstring>/);\n      var faultstring = m && m[1];\n      throw new Error(faultstring || response.body);\n    }\n    logger.debug(\"SOAP response = \" + response.body);\n    m = response.body.match(/<serverUrl>([^<]+)<\\/serverUrl>/);\n    var serverUrl = m && m[1];\n    m = response.body.match(/<sessionId>([^<]+)<\\/sessionId>/);\n    var sessionId = m && m[1];\n    m = response.body.match(/<userId>([^<]+)<\\/userId>/);\n    var userId = m && m[1];\n    m = response.body.match(/<organizationId>([^<]+)<\\/organizationId>/);\n    var orgId = m && m[1];\n    var idUrl = self.urls.soap.login.split('/').slice(0, 3).join('/');\n    idUrl += \"/id/\" + orgId + \"/\" + userId;\n    var userInfo = {\n      id: userId,\n      organizationId: orgId,\n      url: idUrl\n    };\n    self.initialize({ \n      serverUrl: serverUrl.split('/').slice(0, 3).join('/'), \n      sessionId: sessionId,\n      userInfo: userInfo\n    });\n    logger.debug(\"<login> completed. user id = \" + userId + \", org id = \" + orgId);\n    return userInfo;\n\n  }).thenCall(callback);\n\n};\n\n/**\n * Logout the current session\n *\n * @param {Callback.<undefined>} [callback] - Callback function\n * @returns {Promise.<undefined>}\n */\nConnection.prototype.logout = function(callback) {\n  if (this._sessionType === \"oauth2\") {\n    return this.logoutByOAuth2(callback);\n  } else {\n    return this.logoutBySoap(callback);\n  }\n};\n\n/**\n * Logout the current session by revoking access token via OAuth2 session revoke\n *\n * @param {Callback.<undefined>} [callback] - Callback function\n * @returns {Promise.<undefined>}\n */\nConnection.prototype.logoutByOAuth2 = function(callback) {\n  var self = this;\n  var logger = this._logger;\n\n  return this.oauth2.revokeToken(this.accessToken).then(function() {\n    // Destroy the session bound to this connection\n    self.accessToken = null;\n    self.userInfo = null;\n    self.refreshToken = null;\n    self.instanceUrl = null;\n    self.cache.clear();\n\n    // nothing useful returned by logout API, just return\n    return undefined;\n  }).thenCall(callback);\n};\n\n\n/**\n * Logout the session by using SOAP web service API\n *\n * @param {Callback.<undefined>} [callback] - Callback function\n * @returns {Promise.<undefined>}\n */\nConnection.prototype.logoutBySoap = function(callback) {\n  var self = this;\n  var logger = this._logger;\n\n  var body = [\n    '<se:Envelope xmlns:se=\"http://schemas.xmlsoap.org/soap/envelope/\">',\n      '<se:Header>',\n        '<SessionHeader xmlns=\"urn:partner.soap.sforce.com\">',\n          '<sessionId>' + esc(this.accessToken) + '</sessionId>',\n        '</SessionHeader>',\n      '</se:Header>',\n      '<se:Body>',\n        '<logout xmlns=\"urn:partner.soap.sforce.com\"/>',\n      '</se:Body>',\n    '</se:Envelope>'\n  ].join('');\n\n  return this._transport.httpRequest({\n    method : 'POST',\n    url : this.urls.soap.service,\n    body : body,\n    headers : {\n      \"Content-Type\" : \"text/xml\",\n      \"SOAPAction\" : '\"\"'\n    }\n  }).then(function(response) {\n    logger.debug(\"SOAP statusCode = \" + response.statusCode + \", response = \" + response.body);\n    if (response.statusCode >= 400) {\n      var m = response.body.match(/<faultstring>([^<]+)<\\/faultstring>/);\n      var faultstring = m && m[1];\n      throw new Error(faultstring || response.body);\n    }\n\n    // Destroy the session bound to this connection\n    self.accessToken = null;\n    self.userInfo = null;\n    self.refreshToken = null;\n    self.instanceUrl = null;\n    self.cache.clear();\n\n    // nothing useful returned by logout API, just return\n    return undefined;\n\n  }).thenCall(callback);\n};\n\n/**\n * List recently viewed records\n * \n * @param {String} [type] - SObject type\n * @param {Number} [limit] - Limit num to fetch\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<RecordResult>>}\n */\nConnection.prototype.recent = function(type, limit, callback) {\n  if (!_.isString(type)) {\n    callback = limit;\n    limit = type;\n    type = undefined;\n  }\n  if (!_.isNumber(limit)) {\n    callback = limit;\n    limit = undefined;\n  }\n  var url;\n  if (type) {\n    url = [ this._baseUrl(), \"sobjects\", type ].join('/');\n    return this._request(url).then(function(res) {\n      return limit ? res.recentItems.slice(0, limit) : res.recentItems;\n    }).thenCall(callback);\n  } else {\n    url = this._baseUrl() + \"/recent\";\n    if (limit) { \n      url += \"?limit=\" + limit;\n    }\n    return this._request(url).thenCall(callback);\n  }\n\n};\n\n/**\n * @typedef {Object} UpdatedRecordsInfo\n * @prop {String} latestDateCovered - The timestamp of the last date covered. \n * @prop {Array.<String>} ids - Updated record IDs.\n */\n\n/**\n * Retrieve updated records\n *\n * @param {String} type - SObject Type\n * @param {String|Date} start - start date or string representing the start of the interval\n * @param {String|Date} end - start date or string representing the end of the interval must be > start\n * @param {Callback.<UpdatedRecordsInfo>} [callback] - Callback function\n * @returns {Promise.<UpdatedRecordsInfo>}\n */\nConnection.prototype.updated = function (type, start, end, callback) {\n  var url = [ this._baseUrl(), \"sobjects\", type, \"updated\" ].join('/');\n\n  if (typeof start === 'string') {\n    start = new Date(start);\n  }\n\n  if (start instanceof Date) {\n    start = formatDate(start);\n  }\n\n  if (start) {\n    url += \"?start=\" + encodeURIComponent(start);\n  }\n\n  if (typeof end === 'string') {\n    end = new Date(end);\n  }\n\n  if (end instanceof Date) {\n    end = formatDate(end);\n  }\n\n  if (end) {\n    url += \"&end=\" + encodeURIComponent(end);\n  }\n\n  return this._request(url).thenCall(callback);\n};\n\n/**\n * @typedef {Object} DeletedRecordsInfo\n * @prop {String} earliestDateAvailable - The timestamp of the earliest date available\n * @prop {String} latestDateCovered - The timestamp of the last date covered\n * @prop {Array.<Object>} deletedRecords - Updated records\n * @prop {String} deletedRecords.id - Record ID\n * @prop {String} deletedRecords.deletedDate - The timestamp when this record was deleted\n */\n\n/**\n * Retrieve deleted records\n *\n * @param {String} type - SObject Type\n * @param {String|Date} start - start date or string representing the start of the interval\n * @param {String|Date} end - start date or string representing the end of the interval\n * @param {Callback.<DeletedRecordsInfo>} [callback] - Callback function\n * @returns {Promise.<DeletedRecordsInfo>}\n */\nConnection.prototype.deleted = function (type, start, end, callback) {\n  var url = [ this._baseUrl(), \"sobjects\", type, \"deleted\" ].join('/');\n\n  if (typeof start === 'string') {\n    start = new Date(start);\n  }\n\n  if (start instanceof Date) {\n    start = formatDate(start);\n  }\n\n  if (start) {\n    url += \"?start=\" + encodeURIComponent(start);\n  }\n\n  if (typeof end === 'string') {\n    end = new Date(end);\n  }\n\n  if (end instanceof Date) {\n    end = formatDate(end);\n  }\n\n  if (end) {\n    url += \"&end=\" + encodeURIComponent(end);\n  }\n\n  return this._request(url).thenCall(callback);\n};\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"./cache\":6,\"./csv\":9,\"./logger\":12,\"./oauth2\":13,\"./promise\":14,\"./query\":15,\"./sobject\":18,\"./transport\":20,\"async\":21,\"buffer\":25,\"events\":28,\"underscore\":53,\"util\":37,\"xml2js\":56}],8:[function(require,module,exports){\nmodule.exports = function(name) { return require(name); };\nrequire(\"events\");\nrequire(\"util\");\nrequire(\"underscore\");\nrequire(\"async\");\nrequire(\"./promise\");\nrequire(\"./logger\");\nrequire(\"./oauth2\");\nrequire(\"./query\");\nrequire(\"./sobject\");\nrequire(\"./transport\");\nrequire(\"./cache\");\nrequire(\"xml2js\");\nrequire(\"./csv\");\nrequire(\"./date\");\nrequire(\"./connection\");\nrequire(\"./record-stream\");\nrequire(\"querystring\");\nrequire(\"q\");\nrequire(\"./soql-builder\");\nrequire(\"stream\");\nrequire(\"./record\");\nrequire(\"request\");\nrequire(\"./browser/request\");\nrequire(\"./browser/canvas\");\nrequire(\"./browser/jsonp\");\n},{\"./browser/canvas\":1,\"./browser/jsonp\":4,\"./browser/request\":5,\"./cache\":6,\"./connection\":7,\"./csv\":9,\"./date\":10,\"./logger\":12,\"./oauth2\":13,\"./promise\":14,\"./query\":15,\"./record\":17,\"./record-stream\":16,\"./sobject\":18,\"./soql-builder\":19,\"./transport\":20,\"async\":21,\"events\":28,\"q\":38,\"querystring\":33,\"request\":23,\"stream\":34,\"underscore\":53,\"util\":37,\"xml2js\":56}],9:[function(require,module,exports){\nvar _      = require('underscore'),\n    SfDate = require('./date');\n\n/**\n * @private\n */\nfunction toCSV(records, headers, options) {\n  options = options || {};\n  if (!headers) {\n    headers = extractHeaders(records, options);\n  }\n  var rows = _.map(records, function(record){ return recordToCSV(record, headers, options); });\n  return arrayToCSV(headers) + \"\\n\" + rows.join(\"\\n\");\n}\n\n/**\n * @private\n */\nfunction extractHeaders(records, options) {\n  options = options || {};\n  var headers = {};\n  _.forEach(records, function(record) {\n    for (var key in record) {\n      var value = record[key];\n      if (record.hasOwnProperty(key) && (value === null || typeof value !== 'object')) {\n        headers[key] = true;\n      }\n    }\n  });\n  return _.keys(headers);\n}\n\n/**\n * @private\n */\nfunction recordToCSV(record, headers, options) {\n  options = options || {};\n  var row = [];\n  _.forEach(headers, function(header) {\n    var value = record[header];\n    if (value === null && typeof options.nullValue !== 'undefined') {\n      value = options.nullValue;\n    }\n    if (typeof value === 'undefined') { value = null; }\n    row.push(value);\n  });\n  return arrayToCSV(row);\n}\n\n/**\n * @private\n */\nfunction arrayToCSV(arr) {\n  return _.map(arr, escapeCSV).join(',');\n}\n\n/**\n * @private\n */\nfunction escapeCSV(str) {\n  if (str === null || typeof str === 'undefined') { str = ''; }\n  str = String(str);\n  if (str.indexOf('\"') >= 0 || str.indexOf(',') >= 0 || /[\\n\\r]/.test(str)) {\n    str = '\"' + str.replace(/\"/g, '\"\"') + '\"';\n  }\n  return str;\n}\n\n\n\n/**\n * @private\n * @class\n * @constructor\n * @param {String} text - CSV string\n */\nvar CSVParser = function(text) {\n  this.text = text;\n  this.cursor = 0;\n};\n\nCSVParser.prototype = {\n\n  nextToken : function() {\n    var cell;\n    var dquoted = false;\n    var firstChar = this.text.charAt(this.cursor);\n    if (firstChar === '' || firstChar === '\\r' || firstChar === '\\n') {\n      return null;\n    }\n    if (firstChar === '\"') {\n      dquoted = true;\n    }\n    if (dquoted) {\n      var dq = this.cursor;\n      while(true) {\n        dq++;\n        dq = this.text.indexOf('\"', dq);\n        if (dq<0 || this.text.charAt(dq+1) !== '\"') {\n          break;\n        } else {\n          dq++;\n        }\n      }\n      if (dq>=0) {\n        var delim = this.text.charAt(dq+1);\n        cell = this.text.substring(this.cursor, dq+1);\n        this.cursor = dq + (delim === ',' ? 2 : 1);\n      } else {\n        cell = this.text.substring(this.cursor);\n        this.cursor = this.text.length;\n      }\n      return cell.replace(/\"\"/g,'\"').replace(/^\"/,'').replace(/\"$/,'');\n    } else {\n      var comma = this.text.indexOf(',', this.cursor);\n      var cr = this.text.indexOf('\\r', this.cursor);\n      var lf = this.text.indexOf('\\n', this.cursor);\n      comma = comma<0 ? this.text.length+1 : comma;\n      cr = cr<0 ? this.text.length+1 : cr;\n      lf = lf<0 ? this.text.length+1 : lf;\n      var pivot = Math.min(comma, cr, lf, this.text.length);\n      cell = this.text.substring(this.cursor, pivot);\n      this.cursor = pivot;\n      if (comma === pivot) {\n        this.cursor++;\n      }\n      return cell;\n    }\n  },\n\n  nextLine : function() {\n    for (var c = this.text.charAt(this.cursor);\n        c === '\\r' || c === '\\n';\n        c = this.text.charAt(++this.cursor))\n      {}\n    return this.cursor !== this.text.length;\n  }\n\n};\n\n/**\n * @private\n */\nfunction parseCSV(str) {\n  var parser = new CSVParser(str);\n  var headers = [];\n  var token;\n  if (parser.nextLine()) {\n    token = parser.nextToken();\n    while (!_.isUndefined(token) && !_.isNull(token)) {\n      headers.push(token);\n      token = parser.nextToken();\n    }\n  }\n  var rows = [];\n  while (parser.nextLine()) {\n    var row = {};\n    token = parser.nextToken();\n    var i = 0;\n    while (!_.isUndefined(token) && !_.isNull(token)) {\n      var header = headers[i++];\n      row[header] = token;\n      token = parser.nextToken();\n    }\n    rows.push(row);\n  }\n  return rows;\n}\n\n\n/**\n * @protected\n */\nmodule.exports = {\n  toCSV : toCSV,\n  extractHeaders : extractHeaders,\n  recordToCSV : recordToCSV,\n  arrayToCSV : arrayToCSV,\n  parseCSV : parseCSV\n};\n  \n},{\"./date\":10,\"underscore\":53}],10:[function(require,module,exports){\nvar _ = require(\"underscore\")._;\n\n/**\n * A date object to keep Salesforce date literal\n *\n * @class\n * @constructor\n * @see http://www.salesforce.com/us/developer/docs/soql_sosl/Content/sforce_api_calls_soql_select_dateformats.htm\n */\nvar SfDate = module.exports = function(literal) {\n  this._literal = literal;\n};\n\n/**\n * Returns literal when converted to string\n *\n * @override\n */\nSfDate.prototype.toString =\nSfDate.prototype.toJSON = function() { return this._literal; };\n\n\n/** @private **/\nfunction zeropad(n) { return (n<10 ? \"0\" : \"\") + n; }\n\n/**\n * Convert JavaScript date object to ISO8601 Date format (e.g. 2012-10-31)\n *\n * @param {String|Number|Date} date - Input date\n * @returns {SfDate} - Salesforce date literal with ISO8601 date format\n */\nSfDate.toDateLiteral = function(date) {\n  if (_.isNumber(date)) {\n    date = new Date(date);\n  } else if (_.isString(date)) {\n    date = SfDate.parseDate(date);\n  }\n  var yy = date.getFullYear();\n  var mm = date.getMonth()+1;\n  var dd = date.getDate();\n  var dstr = [ yy, zeropad(mm), zeropad(dd) ].join(\"-\");\n  return new SfDate(dstr);\n};\n\n/**\n * Convert JavaScript date object to ISO8601 DateTime format\n * (e.g. 2012-10-31T12:34:56Z)\n *\n * @param {String|Number|Date} date - Input date\n * @returns {SfDate} - Salesforce date literal with ISO8601 datetime format\n */\nSfDate.toDateTimeLiteral = function(date) {\n  if (_.isNumber(date)) {\n    date = new Date(date);\n  } else if (_.isString(date)) {\n    date = SfDate.parseDate(date);\n  }\n  var yy = date.getUTCFullYear();\n  var mm = date.getUTCMonth()+1;\n  var dd = date.getUTCDate();\n  var hh = date.getUTCHours();\n  var mi = date.getUTCMinutes();\n  var ss = date.getUTCSeconds();\n  var dtstr =\n    [ yy, zeropad(mm), zeropad(dd) ].join(\"-\") + \"T\" +\n    [ zeropad(hh), zeropad(mi), zeropad(ss) ].join(\":\") + \"Z\";\n  return new SfDate(dtstr);\n};\n\n/**\n * Parse IS08601 date(time) formatted string and return date instance\n *\n * @param {String} str\n * @returns {Date}\n */\nSfDate.parseDate = function(str) {\n  var d = new Date();\n  var regexp = /^([\\d]{4})-?([\\d]{2})-?([\\d]{2})(T([\\d]{2}):?([\\d]{2}):?([\\d]{2})(.([\\d]{3}))?(Z|([\\+\\-])([\\d]{2}):?([\\d]{2})))?$/;\n  var m = str.match(regexp);\n  if (m) {\n    d = new Date(0);\n    if (!m[4]) {\n      d.setFullYear(parseInt(m[1], 10));\n      d.setDate(parseInt(m[3], 10));\n      d.setMonth(parseInt(m[2], 10) - 1);\n      d.setHours(0);\n      d.setMinutes(0);\n      d.setSeconds(0);\n      d.setMilliseconds(0);\n    } else {\n      d.setUTCFullYear(parseInt(m[1], 10));\n      d.setUTCDate(parseInt(m[3], 10));\n      d.setUTCMonth(parseInt(m[2], 10) - 1);\n      d.setUTCHours(parseInt(m[5], 10));\n      d.setUTCMinutes(parseInt(m[6], 10));\n      d.setUTCSeconds(parseInt(m[7], 10));\n      d.setUTCMilliseconds(parseInt(m[9] || '0', 10));\n      if (m[10] && m[10] !== 'Z') {\n        var offset = parseInt(m[12],10) * 60 + parseInt(m[13], 10);\n        d.setTime((m[11] === '+' ? -1 : 1) * offset * 60 * 1000 +d.getTime());\n      }\n    }\n    return d;\n  } else {\n    throw new Error(\"Invalid date format is specified : \" + str);\n  }\n};\n\n/*\n * Pre-defined Salesforce Date Literals\n */\nvar SfDateLiterals = {\n  YESTERDAY: 1,\n  TODAY: 1,\n  TOMORROW: 1,\n  LAST_WEEK: 1,\n  THIS_WEEK: 1,\n  NEXT_WEEK: 1,\n  LAST_MONTH: 1,\n  THIS_MONTH: 1,\n  NEXT_MONTH: 1,\n  LAST_90_DAYS: 1,\n  NEXT_90_DAYS: 1,\n  LAST_N_DAYS: 2,\n  NEXT_N_DAYS: 2,\n  NEXT_N_WEEKS: 2,\n  LAST_N_WEEKS: 2,\n  NEXT_N_MONTHS: 2,\n  LAST_N_MONTHS: 2,\n  THIS_QUARTER: 1,\n  LAST_QUARTER: 1,\n  NEXT_QUARTER: 1,\n  NEXT_N_QUARTERS: 2,\n  LAST_N_QUARTERS: 2,\n  THIS_YEAR: 1,\n  LAST_YEAR: 1,\n  NEXT_YEAR: 1,\n  NEXT_N_YEARS: 2,\n  LAST_N_YEARS: 2,\n  THIS_FISCAL_QUARTER: 1,\n  LAST_FISCAL_QUARTER: 1,\n  NEXT_FISCAL_QUARTER: 1,\n  NEXT_N_FISCAL_QUARTERS:2,\n  LAST_N_FISCAL_QUARTERS:2,\n  THIS_FISCAL_YEAR:1,\n  LAST_FISCAL_YEAR:1,\n  NEXT_FISCAL_YEAR:1,\n  NEXT_N_FISCAL_YEARS: 2,\n  LAST_N_FISCAL_YEARS: 2\n};\n\nfor (var literal in SfDateLiterals) {\n  var type = SfDateLiterals[literal];\n  SfDate[literal] =\n   type === 1 ? new SfDate(literal) : createLiteralBuilder(literal);\n}\n\n/** @private **/\nfunction createLiteralBuilder(literal) {\n  return function(num) { return new SfDate(literal + \":\" + num); };\n}\n\n},{\"underscore\":53}],11:[function(require,module,exports){\n/* global process */\n/**\n * @file JSforce API root object\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nexports.Connection = require('./connection');\nexports.OAuth2 = require('./oauth2');\nexports.Date = exports.SfDate = require(\"./date\");\nexports.RecordStream = require('./record-stream');\n\n},{\"./connection\":7,\"./date\":10,\"./oauth2\":13,\"./record-stream\":16}],12:[function(require,module,exports){\n/**\n * @protected\n * @class\n * @constructor\n * @param {String|Number} logLevel - Log level\n */\nvar Logger = module.exports = function(logLevel) {\n  if (typeof logLevel === 'string') {\n    logLevel = LogLevels[logLevel];\n  }\n  if (!logLevel) {\n    logLevel = LogLevels.INFO;\n  }\n  this._logLevel = logLevel;\n};\n\n/**\n * @memberof Logger\n */\nvar LogLevels = Logger.LogLevels = {\n  \"DEBUG\" : 1,\n  \"INFO\" : 2,\n  \"WARN\" : 3,\n  \"ERROR\" : 4,\n  \"FATAL\" : 5\n};\n\n/**\n * Output log\n *\n * @param {String} level - Logging target level\n * @param {String} message - Message to log\n */\nLogger.prototype.log = function(level, message) {\n  if (this._logLevel <= level) {\n    if (level < LogLevels.ERROR) {\n      console.log(message);\n    } else {\n      console.error(message);\n    }\n  }\n};\n\nfor (var level in LogLevels) {\n  Logger.prototype[level.toLowerCase()] = createLoggerFunction(LogLevels[level]);\n}\n\nfunction createLoggerFunction(level) {\n  return function(message) { this.log(level, message); };\n}\n\n},{}],13:[function(require,module,exports){\n/**\n * @file Manages Salesforce OAuth2 operations\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar querystring = require('querystring'),\n    _ = require('underscore'),\n    Transport = require('./transport');\n\nvar defaults = {\n  loginUrl : \"https://login.salesforce.com\"\n};\n\n/**\n * OAuth2 class\n *\n * @class\n * @constructor\n * @param {Object} options - OAuth2 config options\n * @param {String} [options.loginUrl] - Salesforce login server URL\n * @param {String} [options.authzServiceUrl] - OAuth2 authorization service URL. If not specified, it generates from default by adding to login server URL.\n * @param {String} [options.tokenServiceUrl] - OAuth2 token service URL. If not specified it generates from default by adding to login server URL.\n * @param {String} options.clientId - OAuth2 client ID.\n * @param {String} options.clientSecret - OAuth2 client secret.\n * @param {String} options.redirectUri - URI to be callbacked from Salesforce OAuth2 authorization service.\n */\nvar OAuth2 = module.exports = function(options) {\n  if (options.authzServiceUrl && options.tokenServiceUrl) {\n    this.loginUrl = options.authzServiceUrl.split('/').slice(0, 3).join('/');\n    this.authzServiceUrl = options.authzServiceUrl;\n    this.tokenServiceUrl = options.tokenServiceUrl;\n    this.revokeServiceUrl = options.revokeServiceUrl;\n  } else {\n    this.loginUrl = options.loginUrl || defaults.loginUrl;\n    this.authzServiceUrl = this.loginUrl + \"/services/oauth2/authorize\";\n    this.tokenServiceUrl = this.loginUrl + \"/services/oauth2/token\";\n    this.revokeServiceUrl = this.loginUrl + \"/services/oauth2/revoke\";\n  }\n  this.clientId = options.clientId;\n  this.clientSecret = options.clientSecret;\n  this.redirectUri = options.redirectUri;\n  this._transport =\n    options.proxyUrl ? new Transport.ProxyTransport(options.proxyUrl) : new Transport();\n};\n\n\n\n/**\n *\n */\n_.extend(OAuth2.prototype, /** @lends OAuth2.prototype **/ {\n  \n  /**\n   * Get Salesforce OAuth2 authorization page URL to redirect user agent.\n   *\n   * @param {Object} params - Parameters\n   * @param {String} params.scope - Scope values in space-separated string\n   * @param {String} params.state - State parameter\n   * @returns {String} Authorization page URL\n   */\n  getAuthorizationUrl : function(params) {\n    params = _.extend({\n      response_type : \"code\",\n      client_id : this.clientId,\n      redirect_uri : this.redirectUri\n    }, params || {});\n    return this.authzServiceUrl + \n      (this.authzServiceUrl.indexOf('?') >= 0 ? \"&\" : \"?\") + \n      querystring.stringify(params);\n  },\n\n  /**\n   * @typedef TokenResponse\n   * @type {Object}\n   * @property {String} access_token\n   * @property {String} refresh_token\n   */\n\n  /**\n   * OAuth2 Refresh Token Flow\n   * \n   * @param {String} refreshToken - Refresh token\n   * @param {Callback.<TokenResponse>} [callback] - Callback function\n   * @returns {Promise.<TokenResponse>}\n   */\n  refreshToken : function(refreshToken, callback) {\n    return this._postParams({\n      grant_type : \"refresh_token\",\n      refresh_token : refreshToken,\n      client_id : this.clientId,\n      client_secret : this.clientSecret\n    }, callback);\n  },\n\n  /**\n   * OAuth2 Web Server Authentication Flow (Authorization Code)\n   * Access Token Request\n   *\n   * @param {String} code - Authorization code\n   * @param {Callback.<TokenResponse>} [callback] - Callback function\n   * @returns {Promise.<TokenResponse>}\n   */\n  requestToken : function(code, callback) {\n    return this._postParams({\n      grant_type : \"authorization_code\",\n      code : code,\n      client_id : this.clientId,\n      client_secret : this.clientSecret,\n      redirect_uri : this.redirectUri\n    }, callback);\n  },\n\n  /**\n   * OAuth2 Username-Password Flow (Resource Owner Password Credentials)\n   *\n   * @param {String} username - Salesforce username\n   * @param {String} password - Salesforce password \n   * @param {Callback.<TokenResponse>} [callback] - Callback function\n   * @returns {Promise.<TokenResponse>}\n   */\n  authenticate : function(username, password, callback) {\n    return this._postParams({\n      grant_type : \"password\",\n      username : username,\n      password : password,\n      client_id : this.clientId,\n      client_secret : this.clientSecret,\n      redirect_uri : this.redirectUri\n    }, callback);\n  },\n\n  /**\n   * OAuth2 Revoke Session Token\n   *\n   * @param {String} accessToken - Access token to revoke\n   * @param {Callback.<undefined>} [callback] - Callback function\n   * @returns {Promise.<undefined>}\n   */\n  revokeToken : function(accessToken, callback) {\n    return this._transport.httpRequest({\n      method : 'POST',\n      url : this.revokeServiceUrl,\n      body: querystring.stringify({ token: accessToken }),\n      headers: {\n        \"content-type\" : \"application/x-www-form-urlencoded\"\n      }\n    }).then(function(response) {\n      if (response.statusCode >= 400) {\n        var res = querystring.parse(response.body);\n        if (!res || !res.error) {\n          res = { error: \"ERROR_HTTP_\"+response.statusCode, error_description: response.body };\n        }\n        var err = new Error(res.error_description);\n        err.name = res.error;\n        throw err;\n      }\n    }).thenCall(callback);\n  },\n\n  /**\n   * @private\n   */\n  _postParams : function(params, callback) {\n    return this._transport.httpRequest({\n      method : 'POST',\n      url : this.tokenServiceUrl,\n      body : querystring.stringify(params),\n      headers : {\n        \"content-type\" : \"application/x-www-form-urlencoded\"\n      }\n    }).then(function(response) {\n      var res;\n      try {\n        res = JSON.parse(response.body);\n      } catch(e) {}\n      if (response.statusCode >= 400) {\n        res = res || { error: \"ERROR_HTTP_\"+response.statusCode, error_description: response.body };\n        var err = new Error(res.error_description);\n        err.name = res.error;\n        throw err;\n      }\n      return res;\n    }).thenCall(callback);\n  }\n\n});\n\n},{\"./transport\":20,\"querystring\":33,\"underscore\":53}],14:[function(require,module,exports){\n(function (process){\n/*global process*/\nvar Q = require('q'),\n    _ = require('underscore')._;\n\n/**\n * Promises/A+ spec compliant class, with a little extension\n * http://promises-aplus.github.io/promises-spec/\n *\n * @class Promise\n * @constructor\n * @param {Promise.<T>|T} o - Object to wrap with promise\n * @template T\n */\nvar Promise = function(o) {\n  this._promise = Q(o);\n};\n\n/**\n * @callback FulfilledCallback\n * @param {T} result - Fulfilled value\n * @returns {S}\n * @template T,S\n */\n\n/**\n * @callback RejectedCallback\n * @param {Error} reason - Rejected reason\n * @returns {S}\n * @template S\n */\n\n/**\n * The \"then\" method from the Promises/A+ specification\n *\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\n * @param {RejectedCallback.<S2>} [onRejected]\n * @returns {Promise.<S1|S2>}\n */\nPromise.prototype.then = function() {\n  // Delegate Q promise implementation and wrap by our Promise instance\n  return new Promise(this._promise.then.apply(this._promise, arguments));\n};\n\n/**\n * Call \"then\" using given node-style callback function\n *\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Promise}\n */\nPromise.prototype.thenCall = function(callback) {\n  if (_.isFunction(callback)) {\n    this.then(function(res) {\n      process.nextTick(function() {\n        callback(null, res);\n      });\n    }, function(err) {\n      process.nextTick(function() {\n        callback(err);\n      });\n    });\n  }\n  return this;\n};\n\n/**\n * A sugar method, equivalent to promise.then(undefined, onRejected).\n *\n * @param {RejectedCallback.<S>} onRejected\n * @returns {Promise.<S>}\n */\nPromise.prototype.fail = function() {\n  return new Promise(this._promise.fail.apply(this._promise, arguments));\n};\n\n/**\n * Alias for completion\n *\n * @param {FulfilledCallback.<T, S>} [onFulfilled]\n * @returns {Promise.<S>}\n */\nPromise.prototype.done = function() {\n  return new Promise(this._promise.done.apply(this._promise, arguments));\n};\n\n/**\n * @param {...Promise.<*>} p\n */\nPromise.when = function() {\n  return new Promise(Q.when.apply(Q, arguments));\n};\n\n/**\n * Returns rejecting promise with given reason\n *\n * @param {Error} reason - Rejecting reason\n * @returns {Promise}\n */\nPromise.reject = function(reason) {\n  return new Promise(Q.reject(reason));\n};\n\n/**\n * Returns a promise that is fulfilled with an array containing the fulfillment value of each promise, \n * or is rejected with the same rejection reason as the first promise to be rejected.\n *\n * @param {Array.<Promise.<*>|*>} promises\n * @returns {Promise.<Array.<*>>}\n */\nPromise.all = function() {\n  return new Promise(Q.all.apply(Q, arguments));\n};\n\n/**\n * Returns a deferred object\n *\n * @returns {Deferred}\n */\nPromise.defer = function() {\n  return new Deferred();\n};\n\n/**\n * Deferred object\n *\n * @protected\n * @constructor\n */\nvar Deferred = function() {\n  this._deferred = Q.defer();\n  this.promise = new Promise(this._deferred.promise);\n};\n\n/**\n * Resolve promise\n * @param {*} result - Resolving result\n */\nDeferred.prototype.resolve = function() {\n  return this._deferred.resolve.apply(this._promise, arguments);\n};\n\n/**\n * Reject promise\n * @param {Error} error - Rejecting reason\n */\nDeferred.prototype.reject = function() {\n  return this._deferred.reject.apply(this._promise, arguments);\n};\n\n/**\n *\n */\nmodule.exports = Promise;\n\n}).call(this,require('_process'))\n},{\"_process\":30,\"q\":38,\"underscore\":53}],15:[function(require,module,exports){\n(function (process){\n/*global process*/\n/**\n * @file Manages query for records in Salesforce \n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar util   = require('util'),\n    events = require('events'),\n    _      = require('underscore')._,\n    Q      = require('q'),\n    Promise = require('./promise'),\n    SfDate = require(\"./date\"),\n    SOQLBuilder = require(\"./soql-builder\"),\n    RecordStream = require(\"./record-stream\");\n\n/**\n * Query (extends RecordStream implements Receivable)\n *\n * @protected\n * @class\n * @extends RecordStream\n * @implements Promise.<T>\n * @template T\n * @param {Connection} conn - Connection object\n * @param {Object|String} config - Query config object or SOQL string\n * @param {String} [locator] - Locator string to fetch next record set\n */\nvar Query = module.exports = function(conn, config, locator) {\n  Query.super_.apply(this);\n  this.receivable = true;\n\n  this._conn = conn;\n  if (config) {\n    if (_.isString(config)) { // if query config is string, it is given in SOQL.\n      this._soql = config;\n    } else {\n      this._config = config;\n      this.select(config.fields);\n      if (config.includes) {\n        this.include(config.includes);\n      }\n    }\n  }\n  if (locator && locator.indexOf(\"/\") >= 0) { // if locator given in url for next records\n    locator = locator.split(\"/\").pop();\n  }\n  this._locator = locator;\n  this._buffer = [];\n  this._paused = true;\n  this._closed = false;\n\n  this._deferred = Q.defer();\n};\n\nutil.inherits(Query, RecordStream);\n\n/**\n * Select fields to include in the returning result\n * \n * @param {Object|Array.<String>|String} fields - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @returns {Query.<T>}\n */\nQuery.prototype.select = function(fields) {\n  if (this._soql) {\n    throw Error(\"Cannot set select fields for the query which has already built SOQL.\");\n  }\n  fields = fields || '*';\n  if (_.isString(fields)) {\n    fields = fields.split(/\\s*,\\s*/);\n  } else if (_.isObject(fields) && !_.isArray(fields)) {\n    var _fields =  [];\n    for (var k in fields) {\n      if (fields[k]) { _fields.push(k); }\n    }\n    fields = _fields;\n  }\n  this._config.fields = fields;\n  return this;\n};\n\n/**\n * Set query conditions to filter the result records\n *\n * @param {Object|String} conditions - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @returns {Query.<T>}\n */\nQuery.prototype.where = function(conditions) {\n  if (this._soql) {\n    throw Error(\"Cannot set where conditions for the query which has already built SOQL.\");\n  }\n  this._config.conditions = conditions;\n  return this;\n};\n\n/**\n * Limit the returning result\n *\n * @param {Number} limit - Maximum number of records the query will return.\n * @returns {Query.<T>}\n */\nQuery.prototype.limit = function(limit) {\n  if (this._soql) {\n    throw Error(\"Cannot set limit for the query which has already built SOQL.\");\n  }\n  this._config.limit = limit;\n  return this;\n};\n\n/**\n * Synonym of Query#skip()\n *\n * @method Query#offset\n * @param {Number} offset - Offset number where begins returning results.\n * @returns {Query.<T>}\n */\n/**\n * Skip records\n *\n * @method Query#offset\n * @param {Number} offset - Offset number where begins returning results.\n * @returns {Query.<T>}\n */\nQuery.prototype.skip =\nQuery.prototype.offset = function(offset) {\n  if (this._soql) {\n    throw Error(\"Cannot set skip/offset for the query which has already built SOQL.\");\n  }\n  this._config.offset = offset;\n  return this;\n};\n\n/**\n * Synonym of Query#sort()\n *\n * @memthod Query#orderby\n * @param {String|Object} sort - Sorting field or hash object with field name and sord direction\n * @param {String|Number} [dir] - Sorting direction (ASC|DESC|1|-1)\n * @returns {Query.<T>}\n */\n/**\n * Set query sort with direction\n *\n * @method Query#sort\n * @param {String|Object} sort - Sorting field or hash object with field name and sord direction\n * @param {String|Number} [dir] - Sorting direction (ASC|DESC|1|-1)\n * @returns {Query.<T>}\n */\nQuery.prototype.sort =\nQuery.prototype.orderby = function(sort, dir) {\n  if (this._soql) {\n    throw Error(\"Cannot set sort for the query which has already built SOQL.\");\n  }\n  if (_.isString(sort) && _.isString(dir)) {\n    sort = [ [ sort, dir ] ];\n  }\n  this._config.sort = sort;\n  return this;\n};\n\n/**\n * Include child relationship query\n *\n * @param {String} childRelName - Child relationship name to include in query result\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @param {Object} [options] - Query options.\n * @param {Number} [options.limit] - Maximum number of records the query will return.\n * @param {Number} [options.offset] - Offset number where begins returning results.\n * @param {Number} [options.skip] - Synonym of options.offset.\n * @returns {Query~SubQuery}\n */\nQuery.prototype.include = function(childRelName, conditions, fields, options) {\n  if (this._soql) {\n    throw Error(\"Cannot include child relationship into the query which has already built SOQL.\");\n  }\n  if (_.isObject(childRelName)) {\n    var includes = childRelName;\n    for (var crname in includes) {\n      var config = includes[crname];\n      this.include(crname, config.conditions, config.fields, config);\n    }\n    return;\n  }\n  var childConfig = {\n    table: childRelName,\n    conditions: conditions,\n    fields: fields,\n    limit: options && options.limit,\n    offset: options && (options.offset || options.skip)\n  };\n  this._config.includes = this._config.includes || [];\n  this._config.includes.push(childConfig);\n  var childQuery = new SubQuery(this._conn, this, childConfig);\n  this._children = this._children || [];\n  this._children.push(childQuery);\n  return childQuery;\n};\n\n\n/** @private **/\nQuery.prototype._maxFetch = 10000;\n/**\n * Setting maxFetch query option\n *\n * @param {Number} maxFetch - Max fetching records in auto fetch mode\n * @returns {Query.<T>}\n */\nQuery.prototype.maxFetch = function(maxFetch) {\n  this._maxFetch = maxFetch;\n  return this;\n};\n\n/** @private **/\nQuery.prototype._autoFetch = false;\n/**\n * Switching auto fetch mode\n *\n * @param {Boolean} autoFetch - Using auto fetch mode or not\n * @returns {Query.<T>}\n */\nQuery.prototype.autoFetch = function(autoFetch) {\n  this._autoFetch = autoFetch;\n  return this;\n};\n\n/** @private **/\nQuery.prototype._scanAll = false;\n/**\n * Set flag to scan all records including deleted and archived.\n *\n * @param {Boolean} scanAll - Flag whether include deleted/archived record or not. Default is false.\n * @returns {Query.<T>}\n */\nQuery.prototype.scanAll = function(scanAll) {\n  this._scanAll = scanAll;\n  return this;\n};\n\n/**\n * @private\n */\nvar ResponseTargets = Query.ResponseTargets = {};\n[ \"QueryResult\", \"Records\", \"SingleRecord\", \"Count\" ].forEach(function(f) {\n  ResponseTargets[f] = f;\n});\n\n/** @private **/\nQuery.prototype._responseTarget = ResponseTargets.QueryResult;\n/**\n * @protected\n * @param {String} responseTarget - Query response target\n * @returns {Query.<S>}\n */\nQuery.prototype.setResponseTarget = function(responseTarget) {\n  if (responseTarget in ResponseTargets) {\n    this._responseTarget = responseTarget;\n  }\n  return this;\n};\n\n\n/**\n * Pause record fetch\n * @override\n */\nQuery.prototype.pause = function() {\n  this._paused = true;\n};\n\n/**\n * Resume record fetch and query execution\n * @override\n */\nQuery.prototype.resume = function() {\n  if (this._closed) {\n    throw new Error(\"resuming already closed stream\");\n  }\n  if (!this._paused) { \n    return;\n  } // do nothing if not paused\n  this._paused = false;\n  while (!this._paused && this._buffer.length > 0) {\n    if (this.totalFetched >= this._maxFetch) {\n      this.close();\n      return;\n    }\n    var record = this._buffer.shift();\n    this.emit('record', record, this.totalFetched++, this);\n  }\n  if (!this._paused) {\n    if (this._finished) {\n      this.close();\n    } else {\n      this.execute({ autoFetch : true });\n    }\n  }\n};\n\n/**\n * Closing query. No operation for query is allowed after closing.\n */\nQuery.prototype.close = function() {\n  this.pause();\n  this._closed = true;\n  this.emit('end', this);\n};\n\n/**\n * Synonym of Query#execute()\n *\n * @method Query#run\n * @param {Object} [options] - Query options\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Query.<T>}\n */\nQuery.prototype.run = \n/**\n * Synonym of Query#execute()\n *\n * @method Query#exec\n * @param {Object} [options] - Query options\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Query.<T>}\n */\nQuery.prototype.exec = \n/**\n * Execute query and fetch records from server.\n *\n * @method Query#execute\n * @param {Object} [options] - Query options\n * @param {Boolean} [options.autoFetch] - Using auto fetch mode or not\n * @param {Number} [options.maxFetch] - Max fetching records in auto fetch mode\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Query.<T>}\n */\nQuery.prototype.execute = function(options, callback) {\n  var self = this;\n  var logger = this._conn._logger;\n  var deferred = this._deferred;\n\n  if (this._closed) {\n    deferred.reject(new Error(\"executing already closed query\"));\n    return this;\n  }\n  this._paused = false; // mark pause flag to false\n\n  if (typeof options === \"function\") {\n    callback = options;\n    options = {};\n  }\n  options = options || {};\n  options = {\n    responseTarget: options.responseTarget || self._responseTarget,\n    autoFetch: options.autoFetch || self._autoFetch,\n    maxFetch: options.maxFetch || self._maxFetch,\n    scanAll: options.scanAll || self._scanAll\n  };\n\n  // callback and promise resolution;\n  var promiseCallback = function(err, res) {\n    if (_.isFunction(callback)) {\n      try {\n        res = callback(err, res);\n        err = null;\n      } catch(e) {\n        err = e;\n      }\n    }\n    if (err) {\n      deferred.reject(err);\n    } else {\n      deferred.resolve(res);\n    }\n  };\n  this.once('response', function(res) {\n    promiseCallback(null, res);\n  });\n  this.once('error', function(err) {\n    promiseCallback(err);\n  });\n\n  // collect fetched records in array\n  // only when response target is Records and\n  // either callback or chaining promises are available to this query.\n  this.once('fetch', function() {\n    if (options.responseTarget === ResponseTargets.Records && (self._chaining || callback)) {\n      logger.debug('--- collecting all fetched records ---');\n      var records = [];\n      var onRecord = function(record) { records.push(record); };\n      self.on('record', onRecord);\n      self.once('end', function() {\n        self.removeListener('record', onRecord);\n        self.emit('response', records, self);\n      });\n    }\n  });\n\n  // start actual query\n  logger.debug('>>> Query start >>>');\n  this._execute(options).then(function() {\n    logger.debug('*** Query finished ***');\n  }).fail(function(err) {\n    logger.debug('--- Query error ---');\n    self.emit('error', err);\n  });\n\n  // return Query instance for chaining\n  return this;\n};\n\n/**\n * @private\n */\nQuery.prototype._execute = function(options) {\n  var self = this;\n  var logger = this._conn._logger;\n  var responseTarget = options.responseTarget;\n  var autoFetch = options.autoFetch;\n  var maxFetch = options.maxFetch;\n  var scanAll = options.scanAll;\n\n  return new Promise(\n    self._locator ?\n    self._conn._baseUrl() + \"/query/\" + self._locator :\n    new Promise(self._soql ||\n      self._expandFields().then(function() { return SOQLBuilder.createSOQL(self._config); })\n    ).then(function(soql) {\n      self.totalFetched = 0;\n      logger.debug(\"SOQL = \" + soql);\n      return self._conn._baseUrl() + \"/\" + (scanAll ? \"queryAll\" : \"query\") + \"?q=\" + encodeURIComponent(soql);\n    })\n  ).then(function(url) {\n    return self._conn._request(url);\n  }).then(function(data) {\n    self.emit(\"fetch\");\n    self.totalSize = data.totalSize;\n    var res;\n    switch(responseTarget) {\n      case ResponseTargets.SingleRecord:\n        res = data.records && data.records.length > 0 ? data.records[0] : null;\n        break;\n      case ResponseTargets.Records:\n        res = data.records;\n        break;\n      case ResponseTargets.Count:\n        res = data.totalSize;\n        break;\n      default:\n        res = data;\n    }\n    // only fire response event when it should be notified per fetch\n    if (responseTarget !== ResponseTargets.Records) {\n      self.emit(\"response\", res, self);\n    }\n\n    // streaming record instances\n    for (var i=0, l=data.records.length; i<l; i++) {\n      if (self.totalFetched >= maxFetch) {\n        self._finished = true;\n        break;\n      }\n      var record = data.records[i];\n      if (self._paused) {\n        self._buffer.push(record);\n      } else {\n        self.emit('record', record, self.totalFetched++, self);\n      }\n    }\n    self._finished = self._finished || data.done;\n    if (data.nextRecordsUrl) {\n      self._locator = data.nextRecordsUrl.split('/').pop();\n    }\n    if (autoFetch && !self._finished) {\n      if (!self._paused) {\n        return self._execute(options);\n      }\n    } else {\n      if (!self._paused) { self.close(); }\n    }\n    return res;\n  });\n};\n\n/**\n * @private\n */\nQuery.prototype._expandFields = function() {\n  if (this._soql) {\n    return Promise.reject(new Error(\"Cannot expand fields for the query which has already built SOQL.\"));\n  }\n  var self = this;\n  var logger = self._conn._logger;\n  var conn = this._conn;\n  var table = this._config.table;\n  var fields = this._config.fields || [];\n\n  logger.debug('_expandFields: table = ' + table + ', fields = ' + fields.join(', '));\n\n  return Promise.all([\n    new Promise(self._parent ? findRelationTable(table) : table)\n      .then(function(table) {\n        return Promise.all(\n          _.map(fields, function(field) { return expandAsteriskField(table, field); })\n        ).then(function(expandedFields) {\n          self._config.fields = _.flatten(expandedFields);\n        });\n      }),\n    Promise.all(\n      _.map(self._children || [], function(childQuery) {\n        return childQuery._expandFields();\n      })\n    )\n  ])\n\n  function findRelationTable(rname) {\n    var ptable = self._parent._config.table;\n    logger.debug('finding table for relation \"' + rname + '\" in \"' + ptable + '\"...');\n    return describeCache(ptable).then(function(sobject) {\n      var upperRname = rname.toUpperCase();\n      var childRelation = _.find(sobject.childRelationships, function(cr) {\n        return (cr.relationshipName || '').toUpperCase() === upperRname;\n      });\n      return childRelation ? childRelation.childSObject :\n        Promise.reject(new Error(\"No child relationship found: \" + rname ));\n    });\n  }\n\n  function describeCache(table) {\n    logger.debug('describe cache: '+table);\n    var deferred = Promise.defer();\n    conn.describe$(table, function(err, sobject) {\n      logger.debug('... done.');\n      if (err) { deferred.reject(err); }\n      else { deferred.resolve(sobject); }\n    });\n    return deferred.promise;\n  }\n\n  function expandAsteriskField(table, field) {\n    logger.debug('expanding field \"'+ field + '\" in \"' + table + '\"...');\n    var fpath = field.split('.');\n    return fpath[fpath.length - 1] === '*' ?\n      describeCache(table).then(function(sobject) {\n        logger.debug('table '+table+'has been described');\n        if (fpath.length > 1) {\n          var rname = fpath.shift();\n          var rfield = _.find(sobject.fields, function(f) {\n            return f.relationshipName &&\n                   f.relationshipName.toUpperCase() === rname.toUpperCase();\n          });\n          if (rfield) {\n            var rtable = rfield.referenceTo.length === 1 ? rfield.referenceTo[0] : 'Name';\n            return expandAsteriskField(rtable, fpath.join('.')).then(function(fpaths) {\n              return _.map(fpaths, function(fpath) { return rname + '.' + fpath; });\n            });\n          } else {\n            return [];\n          }\n        } else {\n          return _.map(sobject.fields, function(f) { return f.name; });\n        }\n      }) :\n      new Promise([ field ]);\n  }\n};\n\n/**\n * Auto start query when pipe() is called.\n * @override\n */\nQuery.prototype.pipe = function() {\n  var dest = RecordStream.prototype.pipe.apply(this, arguments);\n  this.resume();\n  return dest;\n};\n\n/**\n * Synonym of Query#destroy()\n *\n * @method Query#delete\n * @param {String} [type] - SObject type. Required for SOQL based query object.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Synonym of Query#destroy()\n *\n * @method Query#del\n * @param {String} [type] - SObject type. Required for SOQL based query object.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Bulk delete queried records\n *\n * @method Query#destroy\n * @param {String} [type] - SObject type. Required for SOQL based query object.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nQuery.prototype[\"delete\"] =\nQuery.prototype.del =\nQuery.prototype.destroy = function(type, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    type = null;\n  }\n  type = type || (this._config && this._config.table);\n  if (!type) {\n    throw new Error(\"SOQL based query needs SObject type information to bulk delete.\");\n  }\n  return this.pipe(this._conn.sobject(type).deleteBulk(callback));\n};\n\n/**\n * Bulk update queried records, using given mapping function/object\n *\n * @param {Record|RecordMapFunction} mapping - Mapping record or record mapping function\n * @param {String} [type] - SObject type. Required for SOQL based query object.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nQuery.prototype.update = function(mapping, type, callback) {\n  if (typeof type === 'function') {\n    callback = type;\n    type = null;\n  }\n  type = type || (this._config && this._config.table);\n  if (!type) {\n    throw new Error(\"SOQL based query needs SObject type information to bulk update.\");\n  }\n  var updateStream = _.isFunction(mapping) ? RecordStream.map(mapping) : RecordStream.recordMapStream(mapping);\n  return this.pipe(updateStream).pipe(this._conn.sobject(type).updateBulk(callback));\n};\n\n/**\n * Promise/A+ interface\n * http://promises-aplus.github.io/promises-spec/\n *\n * Delegate to deferred promise, return promise instance for query result\n *\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\n * @param {RejectedCallback.<S2>} [onRejected]\n * @returns {Promise.<S1|S2>}\n */\nQuery.prototype.then = function(onResolved, onReject) {\n  this._chaining = true;\n  if (!this._closed && this._paused) { this.execute(); }\n  return this._deferred.promise.then.apply(this._deferred.promise, arguments);\n};\n\n/**\n * Promise/A+ extension\n * Call \"then\" using given node-style callback function\n *\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Query}\n */\nQuery.prototype.thenCall = function(callback) {\n  if (_.isFunction(callback)) {\n    this.then(function(res) {\n      process.nextTick(function() {\n        callback(null, res);\n      });\n    }, function(err) {\n      process.nextTick(function() {\n        callback(err);\n      });\n    });\n  }\n  return this;\n};\n\n/*--------------------------------------------*/\n\n/**\n * SubQuery object for representing child relationship query\n *\n * @protected\n * @class Query~SubQuery\n * @extends Query\n * @param {Connection} conn - Connection object\n * @param {Query} parent - Parent query object\n * @param {Object} config - Sub query configuration\n */\nvar SubQuery = function(conn, parent, config) {\n  SubQuery.super_.call(this, conn, config);\n  this._parent = parent;\n};\n\nutil.inherits(SubQuery, Query);\n\n/**\n * @method Query~SubQuery#include\n * @override\n */\nSubQuery.prototype.include = function() {\n  throw new Error(\"Not allowed to include another subquery in subquery.\");\n};\n\n/**\n * Back the context to parent query object\n *\n * @method Query~SubQuery#end\n * @returns {Query}\n */\nSubQuery.prototype.end = function() {\n  return this._parent;\n};\n\n/**\n * If execute is called in subquery context, delegate it to parent query object\n *\n * @method Query~SubQuery#execute\n * @override\n */\nSubQuery.prototype.run =\nSubQuery.prototype.exec =\nSubQuery.prototype.execute = function() {\n  return this._parent.execute.apply(this._parent, arguments);\n};\n\n}).call(this,require('_process'))\n},{\"./date\":10,\"./promise\":14,\"./record-stream\":16,\"./soql-builder\":19,\"_process\":30,\"events\":28,\"q\":38,\"underscore\":53,\"util\":37}],16:[function(require,module,exports){\n/**\n * @file Represents stream that handles Salesforce record as stream data\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar events = require('events'),\n    Stream = require('stream'),\n    PassThrough = Stream.PassThrough,\n    util   = require('util'),\n    _      = require('underscore'),\n    CSV    = require('./csv');\n\n/**\n * Class for Record Stream\n *\n * @abstract\n * @class\n * @constructor\n * @extends events.EventEmitter\n */\nvar RecordStream = module.exports = function() {\n  this.sendable = false;\n  this.receivable = false;\n  this.on('error', function() {\n    this.sendable = false;\n    this.receivable = false;\n  });\n  this.on('end', function() {\n    this.receivable = false;\n  });\n};\n\nutil.inherits(RecordStream, events.EventEmitter);\n\n\n/*--- Output Record Stream methods (Sendable) ---*/\n\n/**\n * Output record into stream.\n * \n * @param {Record} record - Record object\n */\nRecordStream.prototype.send = function(record) {\n  // abstract\n};\n\n/**\n * End sending records into stream. \n */\nRecordStream.prototype.end = function() {\n  this.sendable = false;\n};\n\n/**\n * Destroy record stream;\n */\nRecordStream.prototype.destroy = function() {\n  this.reciebable = false;\n  this.sendable = false;\n};\n\n/**\n * Destroy record stream after all record submission in the queue;\n */\nRecordStream.prototype.destroySoon = function() {\n  //\n};\n\n\n/*--- Input Record Stream methods (Receivable) ---*/\n\n/*\n * Pause record fetch\n * @abstract\n */\nRecordStream.prototype.pause = function() {\n  // abstract\n};\n\n/**\n * Resume record fetch and query execution\n * @abstract\n */\nRecordStream.prototype.resume = function() {\n  // abstract\n};\n\n/**\n * Streaming pipe for record manipulation\n * Originally from Node.js's Stream#pipe \n * https://github.com/joyent/node/blob/master/lib/stream.js\n *\n * @param {RecordStream} dest - Destination output stream for records\n * @param {Object} [options]\n * @returns {RecordStream}\n */\nRecordStream.prototype.pipe = function (dest, options) {\n  var source = this;\n\n  var onRecord = function(record) {\n    if (dest.send && false === dest.send(record)) { source.pause(); }\n  };\n\n  source.on('record', onRecord);\n\n  var onDrain = function() { source.resume(); };\n\n  dest.on('drain', onDrain);\n\n  var didOnEnd = false;\n  var onEnd = function() {\n    if (didOnEnd) { return; }\n    didOnEnd = true;\n    dest.end();\n  };\n\n  var onClose = function() {\n    if (didOnEnd) { return; }\n    didOnEnd = true;\n    if (typeof dest.destroy === 'function') { dest.destroy(); }\n  };\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!options || options.end !== false) {\n    source.on('end', onEnd);\n    source.on('close', onClose);\n  }\n\n  // don't leave dangling pipes when there are errors.\n  var onError = function(err) {\n    cleanup();\n    if (this.listeners('error').length === 0) {\n      throw err; // Unhandled stream error in pipe.\n    }\n  };\n\n  source.on('error', onError);\n  dest.on('error', onError);\n\n  // remove all the event listeners that were added.\n  var cleanup = function() {\n    source.removeListener('record', onRecord);\n    dest.removeListener('drain', onDrain);\n\n    source.removeListener('end', onEnd);\n    source.removeListener('close', onClose);\n\n    source.removeListener('error', onError);\n    dest.removeListener('error', onError);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('end', cleanup);\n    dest.removeListener('close', cleanup);\n  };\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('end', cleanup);\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n\n/**\n * Mapping incoming record from upstream, and pass to downstream\n *\n * @param {RecordMapFunction} fn - Record mapping function\n * @returns {RecordStream}\n */\nRecordStream.prototype.map = function(fn) {\n  return this.pipe(RecordStream.map(fn));\n};\n\n/**\n * Filtering incoming record from upstream, and pass to downstream\n *\n * @param {RecordFilterFunction} fn - Record filtering function\n * @returns {RecordStream}\n */\nRecordStream.prototype.filter = function(fn) {\n  return this.pipe(RecordStream.filter(fn));\n};\n\n/**\n * Create Node.js stream instance for serializing/deserialize records\n *\n * @returns {stream.Stream}\n */\nRecordStream.prototype.stream = function(type) {\n  type = type || 'csv';\n  var recStream;\n  if (type === \"csv\") {\n    recStream = new RecordStream.CSVStream();\n  }\n  if (!recStream) {\n    throw new Error(\"No stream type defined for '\"+type+\"'.\");\n  }\n  if (this.receivable) {\n    this.pipe(recStream);\n  } else if (this.sendable) {\n    recStream.pipe(this);\n  }\n  return recStream.stream(); // get Node.js stream instance\n};\n\n/* --------------------------------------------------- */\n\n/**\n * @callback RecordMapFunction\n * @param {Record} record - Source record to map\n * @returns {Record}\n */\n\n/**\n * Create a record stream which maps records and pass them to downstream\n *\n * @param {RecordMapFunction} fn - Record mapping function\n * @returns {RecordStream}\n */\nRecordStream.map = function(fn) {\n  var rstream = new RecordStream();\n  rstream.receivable = true;\n  rstream.send = function(record) {\n    var rec = fn(record) || record; // if not returned record, use same record\n    this.emit('record', rec);\n  };\n  rstream.end = function() {\n    this.emit('end');\n  };\n  return rstream;\n};\n\n/**\n * Create mapping stream using given record template\n *\n * @param {Record} record - Mapping record object. In mapping field value, temlate notation can be used to refer field value in source record, if noeval param is not true.\n * @param {Boolean} [noeval] - Disable template evaluation in mapping record.\n * @returns {RecordStream}\n */\nRecordStream.recordMapStream = function(record, noeval) {\n  return RecordStream.map(function(rec) {\n    var mapped = { Id: rec.Id };\n    for (var prop in record) {\n      mapped[prop] = noeval ? record[prop] : evalMapping(record[prop], rec);\n    }\n    return mapped;\n  });\n\n  function evalMapping(value, mapping) {\n    if (_.isString(value)) {\n      var m = /^\\$\\{(\\w+)\\}$/.exec(value);\n      if (m) { return mapping[m[1]]; }\n      return value.replace(/\\$\\{(\\w+)\\}/g, function($0, prop) {\n        var v = mapping[prop];\n        return _.isNull(v) || _.isUndefined(v) ? \"\" : String(v);\n      });\n    } else {\n      return value;\n    }\n  }\n};\n\n/**\n * @callback RecordFilterFunction\n * @param {Record} record - Source record to filter\n * @returns {Boolean}\n */\n\n/**\n * Create a record stream which filters records and pass them to downstream\n *\n * @param {RecordFilterFunction} fn - Record filtering function\n * @returns {RecordStream}\n */\nRecordStream.filter = function(fn) {\n  var rstream = new RecordStream();\n  rstream.receivable = true;\n  rstream.send = function(record) {\n    if (fn(record)) {\n      this.emit('record', record);\n    }\n  };\n  rstream.end = function() {\n    this.emit('end');\n  };\n  return rstream;\n};\n\n\n/* --------------------------------------------------- */\n\n/**\n * CSVStream (extends RecordStream implements Receivable, Sendable)\n *\n * @protected\n * @class RecordStream.CSVStream\n * @extends RecordStream\n */\nvar CSVStream = RecordStream.CSVStream = function(config) {\n  config = config || {};\n  this.headers = config.headers;\n  this.nullValue = config.nullValue;\n  this.wroteHeaders = false;\n  this.sendable = true;\n  this.receivable = true;\n  this._stream = stream || new PassThrough();\n  this._buffer = [];\n  var self = this;\n  this._stream.on('data', function(data) { self._handleData(data); });\n  this._stream.on('end', function(data) { self._handleEnd(data); });\n};\n\nutil.inherits(CSVStream, RecordStream);\n\n/**\n *\n * @override\n * @method RecordStream.CSVStream#send\n * @param {Record} record - Record object\n */\nCSVStream.prototype.send = function(record) {\n  this.sendable = false; // ignore incoming CSV data from stream\n  if (!this.wroteHeaders) {\n    if (!this.headers) {\n      this.headers = CSV.extractHeaders([ record ]);\n    }\n    this._stream.emit(\"data\", CSV.arrayToCSV(this.headers) + \"\\n\");\n    this.wroteHeaders = true;\n  }\n  this._stream.emit(\"data\", CSV.recordToCSV(record, this.headers, { nullValue: this.nullValue }) + \"\\n\");\n};\n\n/**\n *\n * @override\n * @method RecordStream.CSVStream#end\n * @param {Record} record - Record object\n */\nCSVStream.prototype.end = function(record) {\n  if (record) { this.send(record); }\n  this.sendable = false;\n  this.receivable = false;\n  this._stream.emit(\"end\");\n};\n\n/**\n * @private\n */\nCSVStream.prototype._handleData = function(data, enc) {\n  // ignore received CSV input from stream\n  if (!this.sendable) { return; }\n  this._buffer.push([ data, enc ]);\n};\n\n/**\n * @private\n */\nCSVStream.prototype._handleEnd = function(data, enc) {\n  // ignore received CSV input from stream\n  if (!this.sendable || this.listeners('record').length === 0) { return; }\n  if (data) {\n    this._buffer.push([ data, enc ]);\n  }\n  data = this._buffer.map(function(d) {\n    return d[0].toString(d[1] || 'utf-8');\n  }).join('');\n  var records = CSV.parseCSV(data);\n  records.forEach(function(record) {\n    this.emit('record', record);\n  }, this);\n  this.emit('end');\n};\n\n/**\n * Get delegating Node.js stream\n * @override\n * @method RecordStream.CSVStream#stream\n */\nCSVStream.prototype.stream = function() {\n  return this._stream;\n};\n\n\n},{\"./csv\":9,\"events\":28,\"stream\":34,\"underscore\":53,\"util\":37}],17:[function(require,module,exports){\n/**\n * @file Represents Salesforce record information\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _ = require('underscore')._;\n\n/**\n * A simple hash object including record field information\n *\n * @typedef {Object} Record\n */\n\n/**\n * Remote reference to record information\n *\n * @protected\n * @class\n * @constructor\n * @param {Connection} conn - Connection object\n * @param {String} type - SObject type\n * @param {String} id - Record ID\n */\nvar RecordReference = module.exports = function(conn, type, id) {\n  this._conn = conn;\n  this.type = type;\n  this.id = id;\n};\n\n/**\n * Retrieve record field information\n *\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<Record>} [callback] - Callback function\n * @returns {Promise.<Record>}\n */\nRecordReference.prototype.retrieve = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.retrieve(this.type, this.id, options, callback);\n};\n\n/**\n * Update record field information\n *\n * @param {Record} record - A Record which includes fields to update\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult>} [callback] - Callback function\n * @returns {Promise.<RecordResult>}\n */\nRecordReference.prototype.update = function(record, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  record = _.clone(record);\n  record.Id = this.id;\n  return this._conn.update(this.type, record, options, callback);\n};\n\n/**\n * Synonym of Record#destroy()\n *\n * @method RecordReference#delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult>} [callback] - Callback function\n * @returns {Promise.<RecordResult>}\n */\nRecordReference.prototype[\"delete\"] =\n/**\n * Synonym of Record#destroy()\n *\n * @method RecordReference#del\n * @param {Callback.<RecordResult>} [callback] - Callback function\n * @returns {Promise.<RecordResult>}\n */\nRecordReference.prototype.del =\n/**\n * Delete record field\n *\n * @method RecordReference#destroy\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult>} [callback] - Callback function\n * @returns {Promise.<RecordResult>}\n */\nRecordReference.prototype.destroy = function(options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.destroy(this.type, this.id, options, callback);\n};\n\n/**\n * Get blob field as stream\n *\n * @param {String} fieldName - Blob field name\n * @returns {stream.Stream}\n */\nRecordReference.prototype.blob = function(fieldName) {\n  var url = [ this._conn._baseUrl(), 'sobjects', this.type, this.id, fieldName ].join('/');\n  return this._conn._request(url).stream();\n};\n\n\n},{\"underscore\":53}],18:[function(require,module,exports){\n/**\n * @file Represents Salesforce SObject\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _      = require('underscore'),\n    Record = require('./record'),\n    Query  = require('./query'),\n    Cache  = require('./cache');\n\n/**\n * A class for organizing all SObject access\n *\n * @constructor\n */\nvar SObject = module.exports = function(conn, type) {\n  this._conn = conn;\n  this.type = type;\n  var cacheOptions = { key: \"describe.\" + this.type };\n  this.describe$ = conn.cache.makeCacheable(this.describe, this, cacheOptions);\n  this.describe = conn.cache.makeResponseCacheable(this.describe, this, cacheOptions);\n};\n\n/**\n * Synonym of SObject#create()\n *\n * @method SObject#insert\n * @param {Record|Array.<Record>} records - A record or array of records to create\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Create records\n *\n * @method SObject#create\n * @param {Record|Array.<Record>} records - A record or array of records to create\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nSObject.prototype.insert =\nSObject.prototype.create = function(records, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.create(this.type, records, options, callback);\n};\n\n/**\n * Retrieve specified records\n *\n * @param {String|Array.<String>} ids - A record ID or array of record IDs \n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<Record|Array.<Record>>} [callback] - Callback function\n * @returns {Promise.<Record|Array.<Record>>}\n */\nSObject.prototype.retrieve = function(ids, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.retrieve(this.type, ids, options, callback);\n};\n\n/**\n * Update records\n *\n * @param {Record|Array.<Record>} records - A record or array of records to update\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nSObject.prototype.update = function(records, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.update(this.type, records, options, callback);\n};\n\n/**\n * Upsert records\n *\n * @param {Record|Array.<Record>} records - Record or array of records to upsert\n * @param {String} extIdField - External ID field name\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nSObject.prototype.upsert = function(records, extIdField, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.upsert(this.type, records, extIdField, options, callback);\n};\n\n/**\n * Synonym of SObject#destroy()\n *\n * @method SObject#delete\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Synonym of SObject#destroy()\n *\n * @method SObject#del\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\n/**\n * Delete records\n *\n * @method SObject#destroy\n * @param {String|Array.<String>} ids - A ID or array of IDs to delete\n * @param {Object} [options] - Options for rest api.\n * @param {Callback.<RecordResult|Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<RecordResult|Array.<RecordResult>>}\n */\nSObject.prototype[\"delete\"] =\nSObject.prototype.del =\nSObject.prototype.destroy = function(ids, options, callback) {\n  if (typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n  return this._conn.destroy(this.type, ids, options, callback);\n};\n\n/**\n * Describe SObject metadata\n *\n * @param {Callback.<DescribeSObjectResult>} [callback] - Callback function\n * @returns {Promise.<DescribeSObjectResult>}\n */\nSObject.prototype.describe = function(callback) {\n  return this._conn.describe(this.type, callback);\n};\n\n/**\n * Get record representation instance by given id\n *\n * @param {String} id - A record ID\n * @returns {RecordReference}\n */\nSObject.prototype.record = function(id) {\n  return new Record(this._conn, this.type, id);\n};\n\n/**\n * Find and fetch records which matches given conditions\n *\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @param {Object} [options] - Query options.\n * @param {Number} [options.limit] - Maximum number of records the query will return.\n * @param {Number} [options.offset] - Offset number where begins returning results.\n * @param {Number} [options.skip] - Synonym of options.offset.\n * @param {Callback.<Array.<Record>>} [callback] - Callback function\n * @returns {Query.<Array.<Record>>}\n */\nSObject.prototype.find = function(conditions, fields, options, callback) {\n  if (typeof conditions === 'function') {\n    callback = conditions;\n    conditions = {};\n    fields = null;\n    options = null;\n  } else if (typeof fields === 'function') {\n    callback = fields;\n    fields = null;\n    options = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  options = options || {};\n  var config = {\n    fields: fields,\n    includes: options.includes,\n    table: this.type,\n    conditions: conditions,\n    limit: options.limit,\n    offset: options.offset || options.skip\n  };\n  var query = new Query(this._conn, config);\n  query.setResponseTarget(Query.ResponseTargets.Records);\n  if (callback) { query.run(callback); }\n  return query;\n};\n\n/**\n * Fetch one record which matches given conditions\n *\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @param {Object} [options] - Query options.\n * @param {Number} [options.limit] - Maximum number of records the query will return.\n * @param {Number} [options.offset] - Offset number where begins returning results.\n * @param {Number} [options.skip] - Synonym of options.offset.\n * @param {Callback.<Record>} [callback] - Callback function\n * @returns {Query.<Record>}\n */\nSObject.prototype.findOne = function(conditions, fields, options, callback) {\n  if (typeof conditions === 'function') {\n    callback = conditions;\n    conditions = {};\n    fields = null;\n    options = null;\n  } else if (typeof fields === 'function') {\n    callback = fields;\n    fields = null;\n    options = null;\n  } else if (typeof options === 'function') {\n    callback = options;\n    options = null;\n  }\n  options = _.extend(options || {}, { limit: 1 });\n  var query = this.find(conditions, fields, options);\n  query.setResponseTarget(Query.ResponseTargets.SingleRecord);\n  if (callback) { query.run(callback); }\n  return query;\n};\n\n/**\n * Find and fetch records only by specifying fields to fetch.\n *\n * @param {Object|Array.<String>|String} [fields] - Fields to fetch. Format can be in JSON object (MongoDB-like), array of field names, or comma-separated field names.\n * @param {Callback.<Array.<Record>>} [callback] - Callback function\n * @returns {Query.<Array.<Record>>}\n */\nSObject.prototype.select = function(fields, callback) {\n  return this.find(null, fields, null, callback);\n};\n\n/**\n * Count num of records which matches given conditions\n *\n * @param {Object|String} [conditions] - Conditions in JSON object (MongoDB-like), or raw SOQL WHERE clause string.\n * @param {Callback.<Number>} [callback] - Callback function\n * @returns {Query.<Number>}\n */\nSObject.prototype.count = function(conditions, callback) {\n  if (typeof conditions === 'function') {\n    callback = conditions;\n    conditions = {};\n  }\n  var query = this.find(conditions, { \"count()\" : true });\n  query.setResponseTarget(\"Count\");\n  if (callback) { query.run(callback); }\n  return query;\n};\n\n\n/**\n * Call Bulk#load() to execute bulkload, returning batch object\n *\n * @param {String} operation - Bulk load operation ('insert', 'update', 'upsert', 'delete', or 'hardDelete')\n * @param {Object} [options] - Options for bulk loading operation\n * @param {String} [options.extIdField] - External ID field name (used when upsert operation).\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulkload. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.bulkload = function(operation, options, input, callback) {\n  return this._conn.bulk.load(this.type, operation, options, input, callback);\n};\n\n/**\n * Synonym of SObject#createBulk()\n *\n * @method SObject#insertBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk insert. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Bulkly insert input data using bulk API\n *\n * @method SObject#createBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk insert. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.insertBulk =\nSObject.prototype.createBulk = function(input, callback) {\n  return this.bulkload(\"insert\", input, callback);\n};\n\n/**\n * Bulkly update records by input data using bulk API\n *\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk update Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.updateBulk = function(input, callback) {\n  return this.bulkload(\"update\", input, callback);\n};\n\n/**\n * Bulkly upsert records by input data using bulk API\n *\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk upsert. Accepts array of records, CSv string, and CSV data input stream.\n * @param {String} [options.extIdField] - External ID field name\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.upsertBulk = function(input, extIdField, callback) {\n  return this.bulkload(\"upsert\", { extIdField: extIdField }, input, callback);\n};\n\n/**\n * Synonym of SObject#destroyBulk()\n *\n * @method SObject#deleteBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Bulkly delete records specified by input data using bulk API\n *\n * @method SObject#destroyBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.deleteBulk =\nSObject.prototype.destroyBulk = function(input, callback) {\n  return this.bulkload(\"delete\", input, callback);\n};\n\n/**\n * Synonym of SObject#destroyHardBulk()\n *\n * @method SObject#deleteHardBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\n/**\n * Bulkly hard delete records specified in input data using bulk API\n *\n * @method SObject#destroyHardBulk\n * @param {Array.<Record>|stream.Stream|String} [input] - Input source for bulk delete. Accepts array of records, CSv string, and CSV data input stream.\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Bulk~Batch}\n */\nSObject.prototype.deleteHardBulk =\nSObject.prototype.destroyHardBulk = function(input, callback) {\n  return this.bulkload(\"hardDelete\", input, callback);\n};\n\n/**\n * Retrieve recently accessed records\n *\n * @param {Callback.<Array.<RecordResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<RecordResult>>}\n */\nSObject.prototype.recent = function (callback) {\n  return this._conn.recent(this.type, callback);\n};\n\n/**\n * Retrieve the updated records\n *\n * @param {String|Date} start - start date or string representing the start of the interval\n * @param {String|Date} end - start date or string representing the end of the interval, must be > start\n * @param {Callback.<UpdatedRecordsInfo>} [callback] - Callback function\n * @returns {Promise.<UpdatedRecordsInfo>}\n */\nSObject.prototype.updated = function (start, end, callback) {\n  return this._conn.updated(this.type, start, end, callback);\n};\n\n/**\n * Retrieve the deleted records\n *\n * @param {String|Date} start - start date or string representing the start of the interval\n * @param {String|Date} end - start date or string representing the end of the interval, must be > start\n * @param {Callback.<DeletedRecordsInfo>} [callback] - Callback function\n * @returns {Promise.<DeletedRecordsInfo>}\n */\nSObject.prototype.deleted = function (start, end, callback) {\n  return this._conn.deleted(this.type, start, end, callback);\n};\n},{\"./cache\":6,\"./query\":15,\"./record\":17,\"underscore\":53}],19:[function(require,module,exports){\n/**\n * @file Create and build SOQL string from configuration\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _      = require(\"underscore\"),\n    SfDate = require(\"./date\");\n\n\n/**\n * Create SOQL\n * @private\n */\nfunction createSOQL(query) {\n  var soql = [\n    \"SELECT \",\n    createFieldsClause(query.fields, query.includes),\n    \" FROM \",\n    query.table\n  ].join(\"\");\n  var cond = createConditionClause(query.conditions);\n  if (cond) {\n    soql += \" WHERE \" + cond;\n  }\n  var orderby = createOrderByClause(query.sort);\n  if (orderby) {\n    soql += \" ORDER BY \" + orderby;\n  }\n  if (query.limit) {\n    soql += \" LIMIT \" + query.limit;\n  }\n  if (query.offset) {\n    soql += \" OFFSET \" + query.offset;\n  }\n  return soql;\n}\n\n/** @private **/\nfunction createFieldsClause(fields, childQueries) {\n  childQueries = _.map(_.values(childQueries || {}), function(cquery) {\n    return '(' + createSOQL(cquery) + ')';\n  });\n  return (fields || [ \"Id\" ]).concat(childQueries).join(', ');\n}\n\n/** @private **/\nfunction createConditionClause(conditions, operator, depth) {\n  if (_.isString(conditions)) {\n    return conditions;\n  }\n  conditions = conditions || [];\n  operator = operator || \"AND\";\n  depth = depth || 0;\n  if (!isArray(conditions)) { // if passed in hash object\n    conditions = _.keys(conditions).map(function(key) {\n      return {\n        key: key,\n        value: conditions[key]\n      };\n    });\n  } else {\n    conditions = conditions.map(function(cond) {\n      var conds = [];\n      for (var key in cond) {\n        conds.push({\n          key: key,\n          value: cond[key]\n        });\n      }\n      return conds.length>1 ? conds : conds[0];\n    });\n  }\n  conditions = conditions.map(function(cond) {\n    var d = depth+1, op;\n    switch (cond.key) {\n      case \"$or\" :\n      case \"$and\" :\n      case \"$not\" :\n        if (operator !== \"NOT\" && conditions.length === 1) {\n          d = depth; // not change tree depth\n        }\n        op = cond.key === \"$or\" ? \"OR\" :\n             cond.key === \"$and\" ? \"AND\" :\n             \"NOT\";\n        return createConditionClause(cond.value, op, d);\n      default:\n        return createFieldExpression(cond.key, cond.value);\n    }\n  }).filter(function(expr) { return expr; });\n\n  var paren;\n  if (operator === 'NOT') {\n    paren = depth > 0;\n    return (paren ? \"(\" : \"\") + \"NOT \" + conditions[0] + (paren ? \")\" : \"\");\n  } else {\n    paren = depth > 0 && conditions.length > 1;\n    return (paren ? \"(\" : \"\") + conditions.join(\" \"+operator+\" \") + (paren ? \")\" : \"\");\n  }\n}\n\nvar opMap = {\n  \"=\"     : \"=\",\n  \"$eq\"   : \"=\",\n  \"!=\"    : \"!=\",\n  \"$ne\"   : \"!=\",\n  \">\"     : \">\",\n  \"$gt\"   : \">\",\n  \"<\"     : \"<\",\n  \"$lt\"   : \"<\",\n  \">=\"    : \">=\",\n  \"$gte\"  : \">=\",\n  \"<=\"    : \"<=\",\n  \"$lte\"  : \"<=\",\n  \"$like\" : \"LIKE\",\n  \"$nlike\" : \"NOT LIKE\",\n  \"$in\"   : \"IN\",\n  \"$nin\"  : \"NOT IN\",\n  \"$exists\" : \"EXISTS\"\n};\n\n/** @private **/\nfunction createFieldExpression(field, value) {\n  var op = \"$eq\";\n\n  // Assume the `$in` operator if value is an array and none was supplied.\n  if (_.isArray(value)) { op = \"$in\"; }\n  // Otherwise, if an object was passed then process the supplied ops.\n  else if (_.isObject(value)) {\n    var _value;\n    for (var k in value) {\n      if (k[0] === \"$\") {\n        op = k;\n        value = value[k];\n        break;\n      }\n    }\n  }\n  var sfop = opMap[op];\n  if (!sfop || _.isUndefined(value)) { return null; }\n  var valueExpr = createValueExpression(value);\n  if (_.isUndefined(valueExpr)) { return null; }\n  switch (sfop) {\n    case \"NOT LIKE\":\n      return \"(\" + [ \"NOT\", field, 'LIKE', valueExpr ].join(\" \") + \")\";\n    case \"EXISTS\":\n      return [ field, value ? \"!=\" : \"=\", \"null\" ].join(\" \");\n    default:\n      return [ field, sfop, valueExpr ].join(\" \");\n  }\n}\n\n/** @private **/\nfunction createValueExpression(value) {\n  if (isArray(value)) {\n    return value.length > 0 ?\n           \"(\" + value.map(createValueExpression).join(\", \") + \")\" :\n           undefined;\n  }\n  if (value instanceof SfDate) {\n    return value.toString();\n  }\n  if (_.isString(value)) {\n    return \"'\" + escapeSOQLString(value) + \"'\";\n  }\n  if (_.isNumber(value)) {\n    return (value).toString();\n  }\n  if (_.isNull(value)) {\n    return \"null\";\n  }\n  return value;\n}\n\n/** @private **/\nfunction escapeSOQLString(str) {\n  return String(str || '').replace(/'/g, \"\\\\'\");\n}\n\n/** @private **/\nfunction isArray(a) {\n  return _.isObject(a) && _.isFunction(a.pop);\n}\n\n\n/** @private **/\nfunction createOrderByClause(sort) {\n  sort = sort || [];\n  if (_.isString(sort)) {\n    if (/,|\\s+(asc|desc)\\s*$/.test(sort)) {\n      // must be specified in pure \"order by\" clause. Return raw config.\n      return sort;\n    }\n    // sort order in mongoose-style expression.\n    // e.g. \"FieldA -FieldB\" => \"ORDER BY FieldA ASC, FieldB DESC\"\n    sort = sort.split(/\\s+/).map(function(field) {\n      var dir = \"ASC\"; // ascending\n      var flag = field[0];\n      if (flag === '-') {\n        dir = \"DESC\";\n        field = field.substring(1);\n      } else if (flag === '+') {\n        field = field.substring(1);\n      }\n      return [ field, dir ];\n    });\n  } else if (!isArray(sort)) {\n    sort = _.keys(sort).map(function(field) {\n      var dir = sort[field];\n      return [ field, dir ];\n    });\n  }\n  return sort.map(function(s) {\n    var field = s[0], dir = s[1];\n    switch (String(dir)) {\n      case \"DESC\":\n      case \"desc\":\n      case \"descending\":\n      case \"-\":\n      case \"-1\":\n        dir = \"DESC\";\n        break;\n      default:\n        dir = \"ASC\";\n    }\n    return field + \" \" + dir;\n  }).join(\", \");\n}\n\n\nexports.createSOQL = createSOQL;\n\n\n},{\"./date\":10,\"underscore\":53}],20:[function(require,module,exports){\n(function (process){\n/*global process, Sfdc */\nvar util = require('util'),\n    stream = require('stream'),\n    Promise = require('./promise');\n\n/* */\n\nvar nodeRequest = require('request'),\n    xhrRequest = require('./browser/request'),\n    canvas = require('./browser/canvas'),\n    jsonp = require('./browser/jsonp');\n\nvar request, baseUrl;\nif (typeof window === 'undefined') {\n  var defaults = {\n    followAllRedirects: true\n  };\n  if (process.env.HTTP_PROXY) {\n    defaults.proxy = process.env.HTTP_PROXY;\n  }\n  if (process.env.HTTP_TIMEOUT) {\n    defaults.timeout = process.env.HTTP_TIMEOUT;\n  }\n  request = nodeRequest.defaults(defaults);\n  baseUrl = process.env.LOCATION_BASE_URL || \"\";\n} else {\n  request = xhrRequest;\n  var apiHost = normalizeApiHost(window.location.host);\n  baseUrl = apiHost ? \"https://\" + apiHost : \"\";\n}\n\n/**\n * Add stream() method to promise (and following promise chain), to access original request stream.\n * @private\n */\nfunction streamify(promise, factory) {\n  var _then = promise.then;\n  promise.then = function() {\n    factory();\n    var newPromise = _then.apply(promise, arguments);\n    return streamify(newPromise, factory);\n  };\n  promise.stream = factory;\n  return promise;\n}\n\n/**\n * Normarize Salesforce API host name\n * @private\n */\nfunction normalizeApiHost(apiHost) {\n  var m = /(\\w+)\\.(visual\\.force|salesforce)\\.com$/.exec(apiHost)\n  if (m) {\n    apiHost = m[1] + \".salesforce.com\";\n  }\n  return apiHost;\n}\n\n/**\n * Class for HTTP request transport\n *\n * @class\n * @protected\n */\nvar Transport = module.exports = function() {};\n\n/**\n * Make HTTP request, returns promise instead of stream\n *\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @param {Callback.<Object>} [options] - Options\n * @returns {Promise.<Object>}\n */\nTransport.prototype.httpRequest = function(params, callback, options) {\n  var deferred = Promise.defer();\n  var req;\n  var httpRequest = request;\n  if (options && options.jsonp && jsonp.supported) {\n    httpRequest = jsonp.createRequest(options.jsonp);\n  } else if (options && options.signedRequest && canvas.supported) {\n    httpRequest = canvas.createRequest(options.signedRequest);\n  }\n  var createRequest = function() {\n    if (!req) {\n      req = httpRequest(params, function(err, response) {\n        if (err) {\n          deferred.reject(err);\n        } else {\n          deferred.resolve(response);\n        }\n      });\n    }\n    return req;\n  };\n  return streamify(deferred.promise, createRequest).thenCall(callback);\n};\n\n/**\n * Class for HTTP request transport using AJAX proxy service\n *\n * @class Transport~ProxyTransport\n * @protected\n * @extends Transport\n * @param {String} proxyUrl - AJAX Proxy server URL\n */\nvar ProxyTransport = Transport.ProxyTransport = function(proxyUrl) {\n  this._proxyUrl = proxyUrl;\n};\n\nutil.inherits(ProxyTransport, Transport);\n\n/**\n * Make HTTP request via AJAX proxy\n *\n * @method Transport~ProxyTransport#httpRequest\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @returns {Promise.<Object>}\n */\nProxyTransport.prototype.httpRequest = function(params, callback) {\n  var url = params.url;\n  if (url.indexOf(\"/\") === 0) {\n    url = baseUrl + url;\n  }\n  var proxyParams = {\n    method: params.method,\n    url: this._proxyUrl + '?' + Date.now() + \".\" + (\"\" + Math.random()).substring(2),\n    headers: {\n      'salesforceproxy-endpoint': url\n    }\n  };\n  if (params.body || params.body === \"\") {\n    proxyParams.body = params.body;\n  }\n  if (params.headers) {\n    for (var name in params.headers) {\n      proxyParams.headers[name] = params.headers[name];\n    }\n  }\n  return ProxyTransport.super_.prototype.httpRequest.call(this, proxyParams, callback);\n};\n\n}).call(this,require('_process'))\n},{\"./browser/canvas\":1,\"./browser/jsonp\":4,\"./browser/request\":5,\"./promise\":14,\"_process\":30,\"request\":23,\"stream\":34,\"util\":37}],21:[function(require,module,exports){\n// This file is just added for convenience so this repository can be\n// directly checked out into a project's deps folder\nmodule.exports = require('./lib/async');\n\n},{\"./lib/async\":22}],22:[function(require,module,exports){\n(function (process){\n/*global setTimeout: false, console: false */\n(function () {\n\n    var async = {};\n\n    // global on the server, window in the browser\n    var root = this,\n        previous_async = root.async;\n\n    if (typeof module !== 'undefined' && module.exports) {\n        module.exports = async;\n    }\n    else {\n        root.async = async;\n    }\n\n    async.noConflict = function () {\n        root.async = previous_async;\n        return async;\n    };\n\n    //// cross-browser compatiblity functions ////\n\n    var _forEach = function (arr, iterator) {\n        if (arr.forEach) {\n            return arr.forEach(iterator);\n        }\n        for (var i = 0; i < arr.length; i += 1) {\n            iterator(arr[i], i, arr);\n        }\n    };\n\n    var _map = function (arr, iterator) {\n        if (arr.map) {\n            return arr.map(iterator);\n        }\n        var results = [];\n        _forEach(arr, function (x, i, a) {\n            results.push(iterator(x, i, a));\n        });\n        return results;\n    };\n\n    var _reduce = function (arr, iterator, memo) {\n        if (arr.reduce) {\n            return arr.reduce(iterator, memo);\n        }\n        _forEach(arr, function (x, i, a) {\n            memo = iterator(memo, x, i, a);\n        });\n        return memo;\n    };\n\n    var _keys = function (obj) {\n        if (Object.keys) {\n            return Object.keys(obj);\n        }\n        var keys = [];\n        for (var k in obj) {\n            if (obj.hasOwnProperty(k)) {\n                keys.push(k);\n            }\n        }\n        return keys;\n    };\n\n    //// exported async module functions ////\n\n    //// nextTick implementation with browser-compatible fallback ////\n    if (typeof process === 'undefined' || !(process.nextTick)) {\n        async.nextTick = function (fn) {\n            setTimeout(fn, 0);\n        };\n    }\n    else {\n        async.nextTick = process.nextTick;\n    }\n\n    async.forEach = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        _forEach(arr, function (x) {\n            iterator(x, function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed === arr.length) {\n                        callback(null);\n                    }\n                }\n            });\n        });\n    };\n\n    async.forEachSeries = function (arr, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length) {\n            return callback();\n        }\n        var completed = 0;\n        var iterate = function () {\n            iterator(arr[completed], function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    completed += 1;\n                    if (completed === arr.length) {\n                        callback(null);\n                    }\n                    else {\n                        iterate();\n                    }\n                }\n            });\n        };\n        iterate();\n    };\n\n    async.forEachLimit = function (arr, limit, iterator, callback) {\n        callback = callback || function () {};\n        if (!arr.length || limit <= 0) {\n            return callback();\n        }\n        var completed = 0;\n        var started = 0;\n        var running = 0;\n\n        (function replenish () {\n            if (completed === arr.length) {\n                return callback();\n            }\n\n            while (running < limit && started < arr.length) {\n                started += 1;\n                running += 1;\n                iterator(arr[started - 1], function (err) {\n                    if (err) {\n                        callback(err);\n                        callback = function () {};\n                    }\n                    else {\n                        completed += 1;\n                        running -= 1;\n                        if (completed === arr.length) {\n                            callback();\n                        }\n                        else {\n                            replenish();\n                        }\n                    }\n                });\n            }\n        })();\n    };\n\n\n    var doParallel = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.forEach].concat(args));\n        };\n    };\n    var doSeries = function (fn) {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            return fn.apply(null, [async.forEachSeries].concat(args));\n        };\n    };\n\n\n    var _asyncMap = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (err, v) {\n                results[x.index] = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, results);\n        });\n    };\n    async.map = doParallel(_asyncMap);\n    async.mapSeries = doSeries(_asyncMap);\n\n\n    // reduce only has a series version, as doing reduce in parallel won't\n    // work in many situations.\n    async.reduce = function (arr, memo, iterator, callback) {\n        async.forEachSeries(arr, function (x, callback) {\n            iterator(memo, x, function (err, v) {\n                memo = v;\n                callback(err);\n            });\n        }, function (err) {\n            callback(err, memo);\n        });\n    };\n    // inject alias\n    async.inject = async.reduce;\n    // foldl alias\n    async.foldl = async.reduce;\n\n    async.reduceRight = function (arr, memo, iterator, callback) {\n        var reversed = _map(arr, function (x) {\n            return x;\n        }).reverse();\n        async.reduce(reversed, memo, iterator, callback);\n    };\n    // foldr alias\n    async.foldr = async.reduceRight;\n\n    var _filter = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.filter = doParallel(_filter);\n    async.filterSeries = doSeries(_filter);\n    // select alias\n    async.select = async.filter;\n    async.selectSeries = async.filterSeries;\n\n    var _reject = function (eachfn, arr, iterator, callback) {\n        var results = [];\n        arr = _map(arr, function (x, i) {\n            return {index: i, value: x};\n        });\n        eachfn(arr, function (x, callback) {\n            iterator(x.value, function (v) {\n                if (!v) {\n                    results.push(x);\n                }\n                callback();\n            });\n        }, function (err) {\n            callback(_map(results.sort(function (a, b) {\n                return a.index - b.index;\n            }), function (x) {\n                return x.value;\n            }));\n        });\n    };\n    async.reject = doParallel(_reject);\n    async.rejectSeries = doSeries(_reject);\n\n    var _detect = function (eachfn, arr, iterator, main_callback) {\n        eachfn(arr, function (x, callback) {\n            iterator(x, function (result) {\n                if (result) {\n                    main_callback(x);\n                    main_callback = function () {};\n                }\n                else {\n                    callback();\n                }\n            });\n        }, function (err) {\n            main_callback();\n        });\n    };\n    async.detect = doParallel(_detect);\n    async.detectSeries = doSeries(_detect);\n\n    async.some = function (arr, iterator, main_callback) {\n        async.forEach(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (v) {\n                    main_callback(true);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(false);\n        });\n    };\n    // any alias\n    async.any = async.some;\n\n    async.every = function (arr, iterator, main_callback) {\n        async.forEach(arr, function (x, callback) {\n            iterator(x, function (v) {\n                if (!v) {\n                    main_callback(false);\n                    main_callback = function () {};\n                }\n                callback();\n            });\n        }, function (err) {\n            main_callback(true);\n        });\n    };\n    // all alias\n    async.all = async.every;\n\n    async.sortBy = function (arr, iterator, callback) {\n        async.map(arr, function (x, callback) {\n            iterator(x, function (err, criteria) {\n                if (err) {\n                    callback(err);\n                }\n                else {\n                    callback(null, {value: x, criteria: criteria});\n                }\n            });\n        }, function (err, results) {\n            if (err) {\n                return callback(err);\n            }\n            else {\n                var fn = function (left, right) {\n                    var a = left.criteria, b = right.criteria;\n                    return a < b ? -1 : a > b ? 1 : 0;\n                };\n                callback(null, _map(results.sort(fn), function (x) {\n                    return x.value;\n                }));\n            }\n        });\n    };\n\n    async.auto = function (tasks, callback) {\n        callback = callback || function () {};\n        var keys = _keys(tasks);\n        if (!keys.length) {\n            return callback(null);\n        }\n\n        var results = {};\n\n        var listeners = [];\n        var addListener = function (fn) {\n            listeners.unshift(fn);\n        };\n        var removeListener = function (fn) {\n            for (var i = 0; i < listeners.length; i += 1) {\n                if (listeners[i] === fn) {\n                    listeners.splice(i, 1);\n                    return;\n                }\n            }\n        };\n        var taskComplete = function () {\n            _forEach(listeners.slice(0), function (fn) {\n                fn();\n            });\n        };\n\n        addListener(function () {\n            if (_keys(results).length === keys.length) {\n                callback(null, results);\n                callback = function () {};\n            }\n        });\n\n        _forEach(keys, function (k) {\n            var task = (tasks[k] instanceof Function) ? [tasks[k]]: tasks[k];\n            var taskCallback = function (err) {\n                if (err) {\n                    callback(err);\n                    // stop subsequent errors hitting callback multiple times\n                    callback = function () {};\n                }\n                else {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    taskComplete();\n                }\n            };\n            var requires = task.slice(0, Math.abs(task.length - 1)) || [];\n            var ready = function () {\n                return _reduce(requires, function (a, x) {\n                    return (a && results.hasOwnProperty(x));\n                }, true) && !results.hasOwnProperty(k);\n            };\n            if (ready()) {\n                task[task.length - 1](taskCallback, results);\n            }\n            else {\n                var listener = function () {\n                    if (ready()) {\n                        removeListener(listener);\n                        task[task.length - 1](taskCallback, results);\n                    }\n                };\n                addListener(listener);\n            }\n        });\n    };\n\n    async.waterfall = function (tasks, callback) {\n        callback = callback || function () {};\n        if (!tasks.length) {\n            return callback();\n        }\n        var wrapIterator = function (iterator) {\n            return function (err) {\n                if (err) {\n                    callback(err);\n                    callback = function () {};\n                }\n                else {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    var next = iterator.next();\n                    if (next) {\n                        args.push(wrapIterator(next));\n                    }\n                    else {\n                        args.push(callback);\n                    }\n                    async.nextTick(function () {\n                        iterator.apply(null, args);\n                    });\n                }\n            };\n        };\n        wrapIterator(async.iterator(tasks))();\n    };\n\n    async.parallel = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            async.map(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            async.forEach(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.series = function (tasks, callback) {\n        callback = callback || function () {};\n        if (tasks.constructor === Array) {\n            async.mapSeries(tasks, function (fn, callback) {\n                if (fn) {\n                    fn(function (err) {\n                        var args = Array.prototype.slice.call(arguments, 1);\n                        if (args.length <= 1) {\n                            args = args[0];\n                        }\n                        callback.call(null, err, args);\n                    });\n                }\n            }, callback);\n        }\n        else {\n            var results = {};\n            async.forEachSeries(_keys(tasks), function (k, callback) {\n                tasks[k](function (err) {\n                    var args = Array.prototype.slice.call(arguments, 1);\n                    if (args.length <= 1) {\n                        args = args[0];\n                    }\n                    results[k] = args;\n                    callback(err);\n                });\n            }, function (err) {\n                callback(err, results);\n            });\n        }\n    };\n\n    async.iterator = function (tasks) {\n        var makeCallback = function (index) {\n            var fn = function () {\n                if (tasks.length) {\n                    tasks[index].apply(null, arguments);\n                }\n                return fn.next();\n            };\n            fn.next = function () {\n                return (index < tasks.length - 1) ? makeCallback(index + 1): null;\n            };\n            return fn;\n        };\n        return makeCallback(0);\n    };\n\n    async.apply = function (fn) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return function () {\n            return fn.apply(\n                null, args.concat(Array.prototype.slice.call(arguments))\n            );\n        };\n    };\n\n    var _concat = function (eachfn, arr, fn, callback) {\n        var r = [];\n        eachfn(arr, function (x, cb) {\n            fn(x, function (err, y) {\n                r = r.concat(y || []);\n                cb(err);\n            });\n        }, function (err) {\n            callback(err, r);\n        });\n    };\n    async.concat = doParallel(_concat);\n    async.concatSeries = doSeries(_concat);\n\n    async.whilst = function (test, iterator, callback) {\n        if (test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.whilst(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.until = function (test, iterator, callback) {\n        if (!test()) {\n            iterator(function (err) {\n                if (err) {\n                    return callback(err);\n                }\n                async.until(test, iterator, callback);\n            });\n        }\n        else {\n            callback();\n        }\n    };\n\n    async.queue = function (worker, concurrency) {\n        var workers = 0;\n        var q = {\n            tasks: [],\n            concurrency: concurrency,\n            saturated: null,\n            empty: null,\n            drain: null,\n            push: function (data, callback) {\n                if(data.constructor !== Array) {\n                    data = [data];\n                }\n                _forEach(data, function(task) {\n                    q.tasks.push({\n                        data: task,\n                        callback: typeof callback === 'function' ? callback : null\n                    });\n                    if (q.saturated && q.tasks.length == concurrency) {\n                        q.saturated();\n                    }\n                    async.nextTick(q.process);\n                });\n            },\n            process: function () {\n                if (workers < q.concurrency && q.tasks.length) {\n                    var task = q.tasks.shift();\n                    if(q.empty && q.tasks.length == 0) q.empty();\n                    workers += 1;\n                    worker(task.data, function () {\n                        workers -= 1;\n                        if (task.callback) {\n                            task.callback.apply(task, arguments);\n                        }\n                        if(q.drain && q.tasks.length + workers == 0) q.drain();\n                        q.process();\n                    });\n                }\n            },\n            length: function () {\n                return q.tasks.length;\n            },\n            running: function () {\n                return workers;\n            }\n        };\n        return q;\n    };\n\n    var _console_fn = function (name) {\n        return function (fn) {\n            var args = Array.prototype.slice.call(arguments, 1);\n            fn.apply(null, args.concat([function (err) {\n                var args = Array.prototype.slice.call(arguments, 1);\n                if (typeof console !== 'undefined') {\n                    if (err) {\n                        if (console.error) {\n                            console.error(err);\n                        }\n                    }\n                    else if (console[name]) {\n                        _forEach(args, function (x) {\n                            console[name](x);\n                        });\n                    }\n                }\n            }]));\n        };\n    };\n    async.log = _console_fn('log');\n    async.dir = _console_fn('dir');\n    /*async.info = _console_fn('info');\n    async.warn = _console_fn('warn');\n    async.error = _console_fn('error');*/\n\n    async.memoize = function (fn, hasher) {\n        var memo = {};\n        var queues = {};\n        hasher = hasher || function (x) {\n            return x;\n        };\n        var memoized = function () {\n            var args = Array.prototype.slice.call(arguments);\n            var callback = args.pop();\n            var key = hasher.apply(null, args);\n            if (key in memo) {\n                callback.apply(null, memo[key]);\n            }\n            else if (key in queues) {\n                queues[key].push(callback);\n            }\n            else {\n                queues[key] = [callback];\n                fn.apply(null, args.concat([function () {\n                    memo[key] = arguments;\n                    var q = queues[key];\n                    delete queues[key];\n                    for (var i = 0, l = q.length; i < l; i++) {\n                      q[i].apply(null, arguments);\n                    }\n                }]));\n            }\n        };\n        memoized.unmemoized = fn;\n        return memoized;\n    };\n\n    async.unmemoize = function (fn) {\n      return function () {\n        return (fn.unmemoized || fn).apply(null, arguments);\n      };\n    };\n\n}());\n\n}).call(this,require('_process'))\n},{\"_process\":30}],23:[function(require,module,exports){\n\n},{}],24:[function(require,module,exports){\nmodule.exports=require(23)\n},{\"/Users/stomita/Work/Salesforce/jsforce/node_modules/browserify/lib/_empty.js\":23}],25:[function(require,module,exports){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = Buffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192\n\n/**\n * If `TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nvar TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return 42 === arr.foo() && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding, noZero) {\n  if (!(this instanceof Buffer))\n    return new Buffer(subject, encoding, noZero)\n\n  var type = typeof subject\n\n  // Find the length\n  var length\n  if (type === 'number')\n    length = subject > 0 ? subject >>> 0 : 0\n  else if (type === 'string') {\n    if (encoding === 'base64')\n      subject = base64clean(subject)\n    length = Buffer.byteLength(subject, encoding)\n  } else if (type === 'object' && subject !== null) { // assume object is array-like\n    if (subject.type === 'Buffer' && isArray(subject.data))\n      subject = subject.data\n    length = +subject.length > 0 ? Math.floor(+subject.length) : 0\n  } else\n    throw new Error('First argument needs to be a number, array or string.')\n\n  var buf\n  if (TYPED_ARRAY_SUPPORT) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    buf = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    buf = this\n    buf.length = length\n    buf._isBuffer = true\n  }\n\n  var i\n  if (TYPED_ARRAY_SUPPORT && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    buf._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    if (Buffer.isBuffer(subject)) {\n      for (i = 0; i < length; i++)\n        buf[i] = subject.readUInt8(i)\n    } else {\n      for (i = 0; i < length; i++)\n        buf[i] = ((subject[i] % 256) + 256) % 256\n    }\n  } else if (type === 'string') {\n    buf.write(subject, 0, encoding)\n  } else if (type === 'number' && !TYPED_ARRAY_SUPPORT && !noZero) {\n    for (i = 0; i < length; i++) {\n      buf[i] = 0\n    }\n  }\n\n  return buf\n}\n\n// STATIC METHODS\n// ==============\n\nBuffer.isEncoding = function (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.isBuffer = function (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.byteLength = function (str, encoding) {\n  var ret\n  str = str.toString()\n  switch (encoding || 'utf8') {\n    case 'hex':\n      ret = str.length / 2\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.concat = function (list, totalLength) {\n  assert(isArray(list), 'Usage: Buffer.concat(list[, length])')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (totalLength === undefined) {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nBuffer.compare = function (a, b) {\n  assert(Buffer.isBuffer(a) && Buffer.isBuffer(b), 'Arguments must be Buffers')\n  var x = a.length\n  var y = b.length\n  for (var i = 0, len = Math.min(x, y); i < len && a[i] === b[i]; i++) {}\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n  if (x < y) {\n    return -1\n  }\n  if (y < x) {\n    return 1\n  }\n  return 0\n}\n\n// BUFFER INSTANCE METHODS\n// =======================\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  assert(strLen % 2 === 0, 'Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var byte = parseInt(string.substr(i * 2, 2), 16)\n    assert(!isNaN(byte), 'Invalid hex string')\n    buf[offset + i] = byte\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf8ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction utf16leWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf16leToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nBuffer.prototype.write = function (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.prototype.toString = function (encoding, start, end) {\n  var self = this\n\n  encoding = String(encoding || 'utf8').toLowerCase()\n  start = Number(start) || 0\n  end = (end === undefined) ? self.length : Number(end)\n\n  // Fastpath empty strings\n  if (end === start)\n    return ''\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexSlice(self, start, end)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Slice(self, start, end)\n      break\n    case 'ascii':\n      ret = asciiSlice(self, start, end)\n      break\n    case 'binary':\n      ret = binarySlice(self, start, end)\n      break\n    case 'base64':\n      ret = base64Slice(self, start, end)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leSlice(self, start, end)\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nBuffer.prototype.equals = function (b) {\n  assert(Buffer.isBuffer(b), 'Argument must be a Buffer')\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.compare = function (b) {\n  assert(Buffer.isBuffer(b), 'Argument must be a Buffer')\n  return Buffer.compare(this, b)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function (target, target_start, start, end) {\n  var source = this\n\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (!target_start) target_start = 0\n\n  // Copy 0 bytes; we're done\n  if (end === start) return\n  if (target.length === 0 || source.length === 0) return\n\n  // Fatal error conditions\n  assert(end >= start, 'sourceEnd < sourceStart')\n  assert(target_start >= 0 && target_start < target.length,\n      'targetStart out of bounds')\n  assert(start >= 0 && start < source.length, 'sourceStart out of bounds')\n  assert(end >= 0 && end <= source.length, 'sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length)\n    end = this.length\n  if (target.length - target_start < end - start)\n    end = target.length - target_start + start\n\n  var len = end - start\n\n  if (len < 100 || !TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + target_start] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  return asciiSlice(buf, start, end)\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len;\n    if (start < 0)\n      start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0)\n      end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start)\n    end = start\n\n  if (TYPED_ARRAY_SUPPORT) {\n    return Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    var newBuf = new Buffer(sliceLen, undefined, true)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n    return newBuf\n  }\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nBuffer.prototype.readUInt8 = function (offset, noAssert) {\n  if (!noAssert) {\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'Trying to read beyond buffer length')\n  }\n\n  if (offset >= this.length)\n    return\n\n  return this[offset]\n}\n\nfunction readUInt16 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val\n  if (littleEndian) {\n    val = buf[offset]\n    if (offset + 1 < len)\n      val |= buf[offset + 1] << 8\n  } else {\n    val = buf[offset] << 8\n    if (offset + 1 < len)\n      val |= buf[offset + 1]\n  }\n  return val\n}\n\nBuffer.prototype.readUInt16LE = function (offset, noAssert) {\n  return readUInt16(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readUInt16BE = function (offset, noAssert) {\n  return readUInt16(this, offset, false, noAssert)\n}\n\nfunction readUInt32 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val\n  if (littleEndian) {\n    if (offset + 2 < len)\n      val = buf[offset + 2] << 16\n    if (offset + 1 < len)\n      val |= buf[offset + 1] << 8\n    val |= buf[offset]\n    if (offset + 3 < len)\n      val = val + (buf[offset + 3] << 24 >>> 0)\n  } else {\n    if (offset + 1 < len)\n      val = buf[offset + 1] << 16\n    if (offset + 2 < len)\n      val |= buf[offset + 2] << 8\n    if (offset + 3 < len)\n      val |= buf[offset + 3]\n    val = val + (buf[offset] << 24 >>> 0)\n  }\n  return val\n}\n\nBuffer.prototype.readUInt32LE = function (offset, noAssert) {\n  return readUInt32(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readUInt32BE = function (offset, noAssert) {\n  return readUInt32(this, offset, false, noAssert)\n}\n\nBuffer.prototype.readInt8 = function (offset, noAssert) {\n  if (!noAssert) {\n    assert(offset !== undefined && offset !== null,\n        'missing offset')\n    assert(offset < this.length, 'Trying to read beyond buffer length')\n  }\n\n  if (offset >= this.length)\n    return\n\n  var neg = this[offset] & 0x80\n  if (neg)\n    return (0xff - this[offset] + 1) * -1\n  else\n    return this[offset]\n}\n\nfunction readInt16 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val = readUInt16(buf, offset, littleEndian, true)\n  var neg = val & 0x8000\n  if (neg)\n    return (0xffff - val + 1) * -1\n  else\n    return val\n}\n\nBuffer.prototype.readInt16LE = function (offset, noAssert) {\n  return readInt16(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readInt16BE = function (offset, noAssert) {\n  return readInt16(this, offset, false, noAssert)\n}\n\nfunction readInt32 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val = readUInt32(buf, offset, littleEndian, true)\n  var neg = val & 0x80000000\n  if (neg)\n    return (0xffffffff - val + 1) * -1\n  else\n    return val\n}\n\nBuffer.prototype.readInt32LE = function (offset, noAssert) {\n  return readInt32(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readInt32BE = function (offset, noAssert) {\n  return readInt32(this, offset, false, noAssert)\n}\n\nfunction readFloat (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  return ieee754.read(buf, offset, littleEndian, 23, 4)\n}\n\nBuffer.prototype.readFloatLE = function (offset, noAssert) {\n  return readFloat(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readFloatBE = function (offset, noAssert) {\n  return readFloat(this, offset, false, noAssert)\n}\n\nfunction readDouble (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset + 7 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  return ieee754.read(buf, offset, littleEndian, 52, 8)\n}\n\nBuffer.prototype.readDoubleLE = function (offset, noAssert) {\n  return readDouble(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readDoubleBE = function (offset, noAssert) {\n  return readDouble(this, offset, false, noAssert)\n}\n\nBuffer.prototype.writeUInt8 = function (value, offset, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xff)\n  }\n\n  if (offset >= this.length) return\n\n  this[offset] = value\n  return offset + 1\n}\n\nfunction writeUInt16 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xffff)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  for (var i = 0, j = Math.min(len - offset, 2); i < j; i++) {\n    buf[offset + i] =\n        (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n            (littleEndian ? i : 1 - i) * 8\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16LE = function (value, offset, noAssert) {\n  return writeUInt16(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeUInt16BE = function (value, offset, noAssert) {\n  return writeUInt16(this, value, offset, false, noAssert)\n}\n\nfunction writeUInt32 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xffffffff)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  for (var i = 0, j = Math.min(len - offset, 4); i < j; i++) {\n    buf[offset + i] =\n        (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32LE = function (value, offset, noAssert) {\n  return writeUInt32(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeUInt32BE = function (value, offset, noAssert) {\n  return writeUInt32(this, value, offset, false, noAssert)\n}\n\nBuffer.prototype.writeInt8 = function (value, offset, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7f, -0x80)\n  }\n\n  if (offset >= this.length)\n    return\n\n  if (value >= 0)\n    this.writeUInt8(value, offset, noAssert)\n  else\n    this.writeUInt8(0xff + value + 1, offset, noAssert)\n  return offset + 1\n}\n\nfunction writeInt16 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7fff, -0x8000)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  if (value >= 0)\n    writeUInt16(buf, value, offset, littleEndian, noAssert)\n  else\n    writeUInt16(buf, 0xffff + value + 1, offset, littleEndian, noAssert)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16LE = function (value, offset, noAssert) {\n  return writeInt16(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeInt16BE = function (value, offset, noAssert) {\n  return writeInt16(this, value, offset, false, noAssert)\n}\n\nfunction writeInt32 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7fffffff, -0x80000000)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  if (value >= 0)\n    writeUInt32(buf, value, offset, littleEndian, noAssert)\n  else\n    writeUInt32(buf, 0xffffffff + value + 1, offset, littleEndian, noAssert)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32LE = function (value, offset, noAssert) {\n  return writeInt32(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeInt32BE = function (value, offset, noAssert) {\n  return writeInt32(this, value, offset, false, noAssert)\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')\n    verifIEEE754(value, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 7 < buf.length,\n        'Trying to write beyond buffer length')\n    verifIEEE754(value, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  assert(end >= start, 'end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  assert(start >= 0 && start < this.length, 'start out of bounds')\n  assert(end >= 0 && end <= this.length, 'end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\nBuffer.prototype.inspect = function () {\n  var out = []\n  var len = this.length\n  for (var i = 0; i < len; i++) {\n    out[i] = toHex(this[i])\n    if (i === exports.INSPECT_MAX_BYTES) {\n      out[i + 1] = '...'\n      break\n    }\n  }\n  return '<Buffer ' + out.join(' ') + '>'\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new Error('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function (arr) {\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array get/set methods before overwriting\n  arr._get = arr.get\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction isArray (subject) {\n  return (Array.isArray || function (subject) {\n    return Object.prototype.toString.call(subject) === '[object Array]'\n  })(subject)\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    var b = str.charCodeAt(i)\n    if (b <= 0x7F) {\n      byteArray.push(b)\n    } else {\n      var start = i\n      if (b >= 0xD800 && b <= 0xDFFF) i++\n      var h = encodeURIComponent(str.slice(start, i+1)).substr(1).split('%')\n      for (var j = 0; j < h.length; j++) {\n        byteArray.push(parseInt(h[j], 16))\n      }\n    }\n  }\n  return byteArray\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(str)\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length))\n      break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n\n/*\n * We have to make sure that the value is a valid integer. This means that it\n * is non-negative. It has no fractional component and that it does not\n * exceed the maximum allowed value.\n */\nfunction verifuint (value, max) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value >= 0, 'specified a negative value for writing an unsigned value')\n  assert(value <= max, 'value is larger than maximum value for type')\n  assert(Math.floor(value) === value, 'value has a fractional component')\n}\n\nfunction verifsint (value, max, min) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value <= max, 'value larger than maximum allowed value')\n  assert(value >= min, 'value smaller than minimum allowed value')\n  assert(Math.floor(value) === value, 'value has a fractional component')\n}\n\nfunction verifIEEE754 (value, max, min) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value <= max, 'value larger than maximum allowed value')\n  assert(value >= min, 'value smaller than minimum allowed value')\n}\n\nfunction assert (test, message) {\n  if (!test) throw new Error(message || 'Failed assertion')\n}\n\n},{\"base64-js\":26,\"ieee754\":27}],26:[function(require,module,exports){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n},{}],27:[function(require,module,exports){\nexports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n},{}],28:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],29:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],30:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n}\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n\n},{}],31:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\n// If obj.hasOwnProperty has been overridden, then calling\n// obj.hasOwnProperty(prop) will break.\n// See: https://github.com/joyent/node/issues/1707\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\nmodule.exports = function(qs, sep, eq, options) {\n  sep = sep || '&';\n  eq = eq || '=';\n  var obj = {};\n\n  if (typeof qs !== 'string' || qs.length === 0) {\n    return obj;\n  }\n\n  var regexp = /\\+/g;\n  qs = qs.split(sep);\n\n  var maxKeys = 1000;\n  if (options && typeof options.maxKeys === 'number') {\n    maxKeys = options.maxKeys;\n  }\n\n  var len = qs.length;\n  // maxKeys <= 0 means that we should not limit keys count\n  if (maxKeys > 0 && len > maxKeys) {\n    len = maxKeys;\n  }\n\n  for (var i = 0; i < len; ++i) {\n    var x = qs[i].replace(regexp, '%20'),\n        idx = x.indexOf(eq),\n        kstr, vstr, k, v;\n\n    if (idx >= 0) {\n      kstr = x.substr(0, idx);\n      vstr = x.substr(idx + 1);\n    } else {\n      kstr = x;\n      vstr = '';\n    }\n\n    k = decodeURIComponent(kstr);\n    v = decodeURIComponent(vstr);\n\n    if (!hasOwnProperty(obj, k)) {\n      obj[k] = v;\n    } else if (isArray(obj[k])) {\n      obj[k].push(v);\n    } else {\n      obj[k] = [obj[k], v];\n    }\n  }\n\n  return obj;\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\n},{}],32:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar stringifyPrimitive = function(v) {\n  switch (typeof v) {\n    case 'string':\n      return v;\n\n    case 'boolean':\n      return v ? 'true' : 'false';\n\n    case 'number':\n      return isFinite(v) ? v : '';\n\n    default:\n      return '';\n  }\n};\n\nmodule.exports = function(obj, sep, eq, name) {\n  sep = sep || '&';\n  eq = eq || '=';\n  if (obj === null) {\n    obj = undefined;\n  }\n\n  if (typeof obj === 'object') {\n    return map(objectKeys(obj), function(k) {\n      var ks = encodeURIComponent(stringifyPrimitive(k)) + eq;\n      if (isArray(obj[k])) {\n        return map(obj[k], function(v) {\n          return ks + encodeURIComponent(stringifyPrimitive(v));\n        }).join(sep);\n      } else {\n        return ks + encodeURIComponent(stringifyPrimitive(obj[k]));\n      }\n    }).join(sep);\n\n  }\n\n  if (!name) return '';\n  return encodeURIComponent(stringifyPrimitive(name)) + eq +\n         encodeURIComponent(stringifyPrimitive(obj));\n};\n\nvar isArray = Array.isArray || function (xs) {\n  return Object.prototype.toString.call(xs) === '[object Array]';\n};\n\nfunction map (xs, f) {\n  if (xs.map) return xs.map(f);\n  var res = [];\n  for (var i = 0; i < xs.length; i++) {\n    res.push(f(xs[i], i));\n  }\n  return res;\n}\n\nvar objectKeys = Object.keys || function (obj) {\n  var res = [];\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) res.push(key);\n  }\n  return res;\n};\n\n},{}],33:[function(require,module,exports){\n'use strict';\n\nexports.decode = exports.parse = require('./decode');\nexports.encode = exports.stringify = require('./encode');\n\n},{\"./decode\":31,\"./encode\":32}],34:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n},{\"events\":28,\"inherits\":29,\"readable-stream/duplex.js\":39,\"readable-stream/passthrough.js\":49,\"readable-stream/readable.js\":50,\"readable-stream/transform.js\":51,\"readable-stream/writable.js\":52}],35:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nfunction assertEncoding(encoding) {\n  if (encoding && !Buffer.isEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  this.charBuffer = new Buffer(6);\n  this.charReceived = 0;\n  this.charLength = 0;\n};\n\n\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  var offset = 0;\n\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var i = (buffer.length >= this.charLength - this.charReceived) ?\n                this.charLength - this.charReceived :\n                buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, offset, i);\n    this.charReceived += (i - offset);\n    offset = i;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (i == buffer.length) return charStr;\n\n    // otherwise cut off the characters end from the beginning of this buffer\n    buffer = buffer.slice(i, buffer.length);\n    break;\n  }\n\n  var lenIncomplete = this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - lenIncomplete, end);\n    this.charReceived = lenIncomplete;\n    end -= lenIncomplete;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    this.charBuffer.write(charStr.charAt(charStr.length - 1), this.encoding);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n\n  return i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  var incomplete = this.charReceived = buffer.length % 2;\n  this.charLength = incomplete ? 2 : 0;\n  return incomplete;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  var incomplete = this.charReceived = buffer.length % 3;\n  this.charLength = incomplete ? 3 : 0;\n  return incomplete;\n}\n\n},{\"buffer\":25}],36:[function(require,module,exports){\nmodule.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}\n},{}],37:[function(require,module,exports){\n(function (process,global){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n\n}).call(this,require('_process'),typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./support/isBuffer\":36,\"_process\":30,\"inherits\":29}],38:[function(require,module,exports){\n(function (process){\n// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    // Turn off strict mode for this function so we can assign to global.Q\n    /* jshint strict: false */\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else {\n        Q = definition();\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n\n    function flush() {\n        /* jshint loopfunc: true */\n\n        while (head.next) {\n            head = head.next;\n            var task = head.task;\n            head.task = void 0;\n            var domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n\n            try {\n                task();\n\n            } catch (e) {\n                if (isNodeJS) {\n                    // In node, uncaught exceptions are considered fatal errors.\n                    // Re-throw them synchronously to interrupt flushing!\n\n                    // Ensure continuation if the uncaught exception is suppressed\n                    // listening \"uncaughtException\" events (as domains does).\n                    // Continue in next event to avoid tick recursion.\n                    if (domain) {\n                        domain.exit();\n                    }\n                    setTimeout(flush, 0);\n                    if (domain) {\n                        domain.enter();\n                    }\n\n                    throw e;\n\n                } else {\n                    // In browsers, uncaught exceptions are not fatal.\n                    // Re-throw them asynchronously to avoid slow-downs.\n                    setTimeout(function() {\n                       throw e;\n                    }, 0);\n                }\n            }\n\n            if (domain) {\n                domain.exit();\n            }\n        }\n\n        flushing = false;\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process !== \"undefined\" && process.nextTick) {\n        // Node.js before 0.9. Note that some fake-Node environments, like the\n        // Mocha test runner, introduce a `process` global without a `nextTick`.\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you donâ€™t need a security guarantee,\n// this is just plain paranoid.\n// However, this does have the nice side-effect of reducing the size\n// of the code by reducing x.call() to merely x(), eliminating many\n// hard-to-minify characters.\n// See Mark Millerâ€™s explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n// engine that has a deployed base of browsers that support generators.\n// However, SM's generators use the Python-inspired semantics of\n// outdated ES6 drafts.  We would like to support ES6, but we'd also\n// like to make it possible to use generators in deployed browsers, so\n// we also support Python-style generators.  At some point we can remove\n// this block.\nvar hasES6Generators;\ntry {\n    /* jshint evil: true, nonew: false */\n    new Function(\"(function* (){ yield 1; })\");\n    hasES6Generators = true;\n} catch (e) {\n    hasES6Generators = false;\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (isPromise(value)) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = deprecate(function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    }, \"valueOf\", \"inspect\");\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become fulfilled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be fulfilled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function(resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function(answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = deprecate(function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        });\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If itâ€™s a fulfilled promise, the fulfillment value is nearer.\n * If itâ€™s a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return isObject(object) &&\n        typeof object.promiseDispatch === \"function\" &&\n        typeof object.inspect === \"function\";\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar unhandledReasonsDisplayed = false;\nvar trackUnhandledRejections = true;\nfunction displayUnhandledReasons() {\n    if (\n        !unhandledReasonsDisplayed &&\n        typeof window !== \"undefined\" &&\n        !window.Touch &&\n        window.console\n    ) {\n        console.warn(\"[Q] Unhandled rejection reasons (should be empty):\",\n                     unhandledReasons);\n    }\n\n    unhandledReasonsDisplayed = true;\n}\n\nfunction logUnhandledReasons() {\n    for (var i = 0; i < unhandledReasons.length; i++) {\n        var reason = unhandledReasons[i];\n        console.warn(\"Unhandled rejection reason:\", reason);\n    }\n}\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n    unhandledReasonsDisplayed = false;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n\n        // Show unhandled rejection reasons if Node exits without handling an\n        // outstanding rejection.  (Note that Browserify presently produces a\n        // `process` global without the `EventEmitter` `on` method.)\n        if (typeof process !== \"undefined\" && process.on) {\n            process.on(\"exit\", logUnhandledReasons);\n        }\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n    displayUnhandledReasons();\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    if (typeof process !== \"undefined\" && process.on) {\n        process.removeListener(\"exit\", logUnhandledReasons);\n    }\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n            if (hasES6Generators) {\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return result.value;\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return exception.value;\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var countDown = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++countDown;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--countDown === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (countDown === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {String} custom error message (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, message) {\n    return Q(object).timeout(ms, message);\n};\n\nPromise.prototype.timeout = function (ms, message) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        deferred.reject(new Error(message || \"Timed out after \" + ms + \" ms\"));\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n}).call(this,require('_process'))\n},{\"_process\":30}],39:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_duplex.js\")\n\n},{\"./lib/_stream_duplex.js\":40}],40:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_readable\":42,\"./_stream_writable\":44,\"_process\":30,\"core-util-is\":45,\"inherits\":46}],41:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n},{\"./_stream_transform\":43,\"core-util-is\":45,\"inherits\":46}],42:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":40,\"_process\":30,\"buffer\":25,\"core-util-is\":45,\"events\":28,\"inherits\":46,\"isarray\":47,\"stream\":34,\"string_decoder/\":48,\"util\":24}],43:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n},{\"./_stream_duplex\":40,\"core-util-is\":45,\"inherits\":46}],44:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":40,\"_process\":30,\"buffer\":25,\"core-util-is\":45,\"inherits\":46,\"stream\":34}],45:[function(require,module,exports){\n(function (Buffer){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nfunction isBuffer(arg) {\n  return Buffer.isBuffer(arg);\n}\nexports.isBuffer = isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":25}],46:[function(require,module,exports){\nmodule.exports=require(29)\n},{\"/Users/stomita/Work/Salesforce/jsforce/node_modules/browserify/node_modules/inherits/inherits_browser.js\":29}],47:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],48:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n},{\"buffer\":25}],49:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\n\n},{\"./lib/_stream_passthrough.js\":41}],50:[function(require,module,exports){\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\n},{\"./lib/_stream_duplex.js\":40,\"./lib/_stream_passthrough.js\":41,\"./lib/_stream_readable.js\":42,\"./lib/_stream_transform.js\":43,\"./lib/_stream_writable.js\":44,\"stream\":34}],51:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_transform.js\")\n\n},{\"./lib/_stream_transform.js\":43}],52:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_writable.js\")\n\n},{\"./lib/_stream_writable.js\":44}],53:[function(require,module,exports){\n//     Underscore.js 1.4.4\n//     http://underscorejs.org\n//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.\n//     Underscore may be freely distributed under the MIT license.\n\n(function() {\n\n  // Baseline setup\n  // --------------\n\n  // Establish the root object, `window` in the browser, or `global` on the server.\n  var root = this;\n\n  // Save the previous value of the `_` variable.\n  var previousUnderscore = root._;\n\n  // Establish the object that gets returned to break out of a loop iteration.\n  var breaker = {};\n\n  // Save bytes in the minified (but not gzipped) version:\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\n\n  // Create quick reference variables for speed access to core prototypes.\n  var push             = ArrayProto.push,\n      slice            = ArrayProto.slice,\n      concat           = ArrayProto.concat,\n      toString         = ObjProto.toString,\n      hasOwnProperty   = ObjProto.hasOwnProperty;\n\n  // All **ECMAScript 5** native function implementations that we hope to use\n  // are declared here.\n  var\n    nativeForEach      = ArrayProto.forEach,\n    nativeMap          = ArrayProto.map,\n    nativeReduce       = ArrayProto.reduce,\n    nativeReduceRight  = ArrayProto.reduceRight,\n    nativeFilter       = ArrayProto.filter,\n    nativeEvery        = ArrayProto.every,\n    nativeSome         = ArrayProto.some,\n    nativeIndexOf      = ArrayProto.indexOf,\n    nativeLastIndexOf  = ArrayProto.lastIndexOf,\n    nativeIsArray      = Array.isArray,\n    nativeKeys         = Object.keys,\n    nativeBind         = FuncProto.bind;\n\n  // Create a safe reference to the Underscore object for use below.\n  var _ = function(obj) {\n    if (obj instanceof _) return obj;\n    if (!(this instanceof _)) return new _(obj);\n    this._wrapped = obj;\n  };\n\n  // Export the Underscore object for **Node.js**, with\n  // backwards-compatibility for the old `require()` API. If we're in\n  // the browser, add `_` as a global object via a string identifier,\n  // for Closure Compiler \"advanced\" mode.\n  if (typeof exports !== 'undefined') {\n    if (typeof module !== 'undefined' && module.exports) {\n      exports = module.exports = _;\n    }\n    exports._ = _;\n  } else {\n    root._ = _;\n  }\n\n  // Current version.\n  _.VERSION = '1.4.4';\n\n  // Collection Functions\n  // --------------------\n\n  // The cornerstone, an `each` implementation, aka `forEach`.\n  // Handles objects with the built-in `forEach`, arrays, and raw objects.\n  // Delegates to **ECMAScript 5**'s native `forEach` if available.\n  var each = _.each = _.forEach = function(obj, iterator, context) {\n    if (obj == null) return;\n    if (nativeForEach && obj.forEach === nativeForEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length === +obj.length) {\n      for (var i = 0, l = obj.length; i < l; i++) {\n        if (iterator.call(context, obj[i], i, obj) === breaker) return;\n      }\n    } else {\n      for (var key in obj) {\n        if (_.has(obj, key)) {\n          if (iterator.call(context, obj[key], key, obj) === breaker) return;\n        }\n      }\n    }\n  };\n\n  // Return the results of applying the iterator to each element.\n  // Delegates to **ECMAScript 5**'s native `map` if available.\n  _.map = _.collect = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);\n    each(obj, function(value, index, list) {\n      results[results.length] = iterator.call(context, value, index, list);\n    });\n    return results;\n  };\n\n  var reduceError = 'Reduce of empty array with no initial value';\n\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\n  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.\n  _.reduce = _.foldl = _.inject = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduce && obj.reduce === nativeReduce) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);\n    }\n    each(obj, function(value, index, list) {\n      if (!initial) {\n        memo = value;\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, value, index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // The right-associative version of reduce, also known as `foldr`.\n  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.\n  _.reduceRight = _.foldr = function(obj, iterator, memo, context) {\n    var initial = arguments.length > 2;\n    if (obj == null) obj = [];\n    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {\n      if (context) iterator = _.bind(iterator, context);\n      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);\n    }\n    var length = obj.length;\n    if (length !== +length) {\n      var keys = _.keys(obj);\n      length = keys.length;\n    }\n    each(obj, function(value, index, list) {\n      index = keys ? keys[--length] : --length;\n      if (!initial) {\n        memo = obj[index];\n        initial = true;\n      } else {\n        memo = iterator.call(context, memo, obj[index], index, list);\n      }\n    });\n    if (!initial) throw new TypeError(reduceError);\n    return memo;\n  };\n\n  // Return the first value which passes a truth test. Aliased as `detect`.\n  _.find = _.detect = function(obj, iterator, context) {\n    var result;\n    any(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) {\n        result = value;\n        return true;\n      }\n    });\n    return result;\n  };\n\n  // Return all the elements that pass a truth test.\n  // Delegates to **ECMAScript 5**'s native `filter` if available.\n  // Aliased as `select`.\n  _.filter = _.select = function(obj, iterator, context) {\n    var results = [];\n    if (obj == null) return results;\n    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context);\n    each(obj, function(value, index, list) {\n      if (iterator.call(context, value, index, list)) results[results.length] = value;\n    });\n    return results;\n  };\n\n  // Return all the elements for which a truth test fails.\n  _.reject = function(obj, iterator, context) {\n    return _.filter(obj, function(value, index, list) {\n      return !iterator.call(context, value, index, list);\n    }, context);\n  };\n\n  // Determine whether all of the elements match a truth test.\n  // Delegates to **ECMAScript 5**'s native `every` if available.\n  // Aliased as `all`.\n  _.every = _.all = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = true;\n    if (obj == null) return result;\n    if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context);\n    each(obj, function(value, index, list) {\n      if (!(result = result && iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if at least one element in the object matches a truth test.\n  // Delegates to **ECMAScript 5**'s native `some` if available.\n  // Aliased as `any`.\n  var any = _.some = _.any = function(obj, iterator, context) {\n    iterator || (iterator = _.identity);\n    var result = false;\n    if (obj == null) return result;\n    if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context);\n    each(obj, function(value, index, list) {\n      if (result || (result = iterator.call(context, value, index, list))) return breaker;\n    });\n    return !!result;\n  };\n\n  // Determine if the array or object contains a given value (using `===`).\n  // Aliased as `include`.\n  _.contains = _.include = function(obj, target) {\n    if (obj == null) return false;\n    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;\n    return any(obj, function(value) {\n      return value === target;\n    });\n  };\n\n  // Invoke a method (with arguments) on every item in a collection.\n  _.invoke = function(obj, method) {\n    var args = slice.call(arguments, 2);\n    var isFunc = _.isFunction(method);\n    return _.map(obj, function(value) {\n      return (isFunc ? method : value[method]).apply(value, args);\n    });\n  };\n\n  // Convenience version of a common use case of `map`: fetching a property.\n  _.pluck = function(obj, key) {\n    return _.map(obj, function(value){ return value[key]; });\n  };\n\n  // Convenience version of a common use case of `filter`: selecting only objects\n  // containing specific `key:value` pairs.\n  _.where = function(obj, attrs, first) {\n    if (_.isEmpty(attrs)) return first ? null : [];\n    return _[first ? 'find' : 'filter'](obj, function(value) {\n      for (var key in attrs) {\n        if (attrs[key] !== value[key]) return false;\n      }\n      return true;\n    });\n  };\n\n  // Convenience version of a common use case of `find`: getting the first object\n  // containing specific `key:value` pairs.\n  _.findWhere = function(obj, attrs) {\n    return _.where(obj, attrs, true);\n  };\n\n  // Return the maximum element or (element-based computation).\n  // Can't optimize arrays of integers longer than 65,535 elements.\n  // See: https://bugs.webkit.org/show_bug.cgi?id=80797\n  _.max = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.max.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return -Infinity;\n    var result = {computed : -Infinity, value: -Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed >= result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Return the minimum element (or element-based computation).\n  _.min = function(obj, iterator, context) {\n    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {\n      return Math.min.apply(Math, obj);\n    }\n    if (!iterator && _.isEmpty(obj)) return Infinity;\n    var result = {computed : Infinity, value: Infinity};\n    each(obj, function(value, index, list) {\n      var computed = iterator ? iterator.call(context, value, index, list) : value;\n      computed < result.computed && (result = {value : value, computed : computed});\n    });\n    return result.value;\n  };\n\n  // Shuffle an array.\n  _.shuffle = function(obj) {\n    var rand;\n    var index = 0;\n    var shuffled = [];\n    each(obj, function(value) {\n      rand = _.random(index++);\n      shuffled[index - 1] = shuffled[rand];\n      shuffled[rand] = value;\n    });\n    return shuffled;\n  };\n\n  // An internal function to generate lookup iterators.\n  var lookupIterator = function(value) {\n    return _.isFunction(value) ? value : function(obj){ return obj[value]; };\n  };\n\n  // Sort the object's values by a criterion produced by an iterator.\n  _.sortBy = function(obj, value, context) {\n    var iterator = lookupIterator(value);\n    return _.pluck(_.map(obj, function(value, index, list) {\n      return {\n        value : value,\n        index : index,\n        criteria : iterator.call(context, value, index, list)\n      };\n    }).sort(function(left, right) {\n      var a = left.criteria;\n      var b = right.criteria;\n      if (a !== b) {\n        if (a > b || a === void 0) return 1;\n        if (a < b || b === void 0) return -1;\n      }\n      return left.index < right.index ? -1 : 1;\n    }), 'value');\n  };\n\n  // An internal function used for aggregate \"group by\" operations.\n  var group = function(obj, value, context, behavior) {\n    var result = {};\n    var iterator = lookupIterator(value || _.identity);\n    each(obj, function(value, index) {\n      var key = iterator.call(context, value, index, obj);\n      behavior(result, key, value);\n    });\n    return result;\n  };\n\n  // Groups the object's values by a criterion. Pass either a string attribute\n  // to group by, or a function that returns the criterion.\n  _.groupBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key, value) {\n      (_.has(result, key) ? result[key] : (result[key] = [])).push(value);\n    });\n  };\n\n  // Counts instances of an object that group by a certain criterion. Pass\n  // either a string attribute to count by, or a function that returns the\n  // criterion.\n  _.countBy = function(obj, value, context) {\n    return group(obj, value, context, function(result, key) {\n      if (!_.has(result, key)) result[key] = 0;\n      result[key]++;\n    });\n  };\n\n  // Use a comparator function to figure out the smallest index at which\n  // an object should be inserted so as to maintain order. Uses binary search.\n  _.sortedIndex = function(array, obj, iterator, context) {\n    iterator = iterator == null ? _.identity : lookupIterator(iterator);\n    var value = iterator.call(context, obj);\n    var low = 0, high = array.length;\n    while (low < high) {\n      var mid = (low + high) >>> 1;\n      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;\n    }\n    return low;\n  };\n\n  // Safely convert anything iterable into a real, live array.\n  _.toArray = function(obj) {\n    if (!obj) return [];\n    if (_.isArray(obj)) return slice.call(obj);\n    if (obj.length === +obj.length) return _.map(obj, _.identity);\n    return _.values(obj);\n  };\n\n  // Return the number of elements in an object.\n  _.size = function(obj) {\n    if (obj == null) return 0;\n    return (obj.length === +obj.length) ? obj.length : _.keys(obj).length;\n  };\n\n  // Array Functions\n  // ---------------\n\n  // Get the first element of an array. Passing **n** will return the first N\n  // values in the array. Aliased as `head` and `take`. The **guard** check\n  // allows it to work with `_.map`.\n  _.first = _.head = _.take = function(array, n, guard) {\n    if (array == null) return void 0;\n    return (n != null) && !guard ? slice.call(array, 0, n) : array[0];\n  };\n\n  // Returns everything but the last entry of the array. Especially useful on\n  // the arguments object. Passing **n** will return all the values in\n  // the array, excluding the last N. The **guard** check allows it to work with\n  // `_.map`.\n  _.initial = function(array, n, guard) {\n    return slice.call(array, 0, array.length - ((n == null) || guard ? 1 : n));\n  };\n\n  // Get the last element of an array. Passing **n** will return the last N\n  // values in the array. The **guard** check allows it to work with `_.map`.\n  _.last = function(array, n, guard) {\n    if (array == null) return void 0;\n    if ((n != null) && !guard) {\n      return slice.call(array, Math.max(array.length - n, 0));\n    } else {\n      return array[array.length - 1];\n    }\n  };\n\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\n  // Especially useful on the arguments object. Passing an **n** will return\n  // the rest N values in the array. The **guard**\n  // check allows it to work with `_.map`.\n  _.rest = _.tail = _.drop = function(array, n, guard) {\n    return slice.call(array, (n == null) || guard ? 1 : n);\n  };\n\n  // Trim out all falsy values from an array.\n  _.compact = function(array) {\n    return _.filter(array, _.identity);\n  };\n\n  // Internal implementation of a recursive `flatten` function.\n  var flatten = function(input, shallow, output) {\n    each(input, function(value) {\n      if (_.isArray(value)) {\n        shallow ? push.apply(output, value) : flatten(value, shallow, output);\n      } else {\n        output.push(value);\n      }\n    });\n    return output;\n  };\n\n  // Return a completely flattened version of an array.\n  _.flatten = function(array, shallow) {\n    return flatten(array, shallow, []);\n  };\n\n  // Return a version of the array that does not contain the specified value(s).\n  _.without = function(array) {\n    return _.difference(array, slice.call(arguments, 1));\n  };\n\n  // Produce a duplicate-free version of the array. If the array has already\n  // been sorted, you have the option of using a faster algorithm.\n  // Aliased as `unique`.\n  _.uniq = _.unique = function(array, isSorted, iterator, context) {\n    if (_.isFunction(isSorted)) {\n      context = iterator;\n      iterator = isSorted;\n      isSorted = false;\n    }\n    var initial = iterator ? _.map(array, iterator, context) : array;\n    var results = [];\n    var seen = [];\n    each(initial, function(value, index) {\n      if (isSorted ? (!index || seen[seen.length - 1] !== value) : !_.contains(seen, value)) {\n        seen.push(value);\n        results.push(array[index]);\n      }\n    });\n    return results;\n  };\n\n  // Produce an array that contains the union: each distinct element from all of\n  // the passed-in arrays.\n  _.union = function() {\n    return _.uniq(concat.apply(ArrayProto, arguments));\n  };\n\n  // Produce an array that contains every item shared between all the\n  // passed-in arrays.\n  _.intersection = function(array) {\n    var rest = slice.call(arguments, 1);\n    return _.filter(_.uniq(array), function(item) {\n      return _.every(rest, function(other) {\n        return _.indexOf(other, item) >= 0;\n      });\n    });\n  };\n\n  // Take the difference between one array and a number of other arrays.\n  // Only the elements present in just the first array will remain.\n  _.difference = function(array) {\n    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));\n    return _.filter(array, function(value){ return !_.contains(rest, value); });\n  };\n\n  // Zip together multiple lists into a single array -- elements that share\n  // an index go together.\n  _.zip = function() {\n    var args = slice.call(arguments);\n    var length = _.max(_.pluck(args, 'length'));\n    var results = new Array(length);\n    for (var i = 0; i < length; i++) {\n      results[i] = _.pluck(args, \"\" + i);\n    }\n    return results;\n  };\n\n  // Converts lists into objects. Pass either a single array of `[key, value]`\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\n  // the corresponding values.\n  _.object = function(list, values) {\n    if (list == null) return {};\n    var result = {};\n    for (var i = 0, l = list.length; i < l; i++) {\n      if (values) {\n        result[list[i]] = values[i];\n      } else {\n        result[list[i][0]] = list[i][1];\n      }\n    }\n    return result;\n  };\n\n  // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),\n  // we need this function. Return the position of the first occurrence of an\n  // item in an array, or -1 if the item is not included in the array.\n  // Delegates to **ECMAScript 5**'s native `indexOf` if available.\n  // If the array is large and already in sort order, pass `true`\n  // for **isSorted** to use binary search.\n  _.indexOf = function(array, item, isSorted) {\n    if (array == null) return -1;\n    var i = 0, l = array.length;\n    if (isSorted) {\n      if (typeof isSorted == 'number') {\n        i = (isSorted < 0 ? Math.max(0, l + isSorted) : isSorted);\n      } else {\n        i = _.sortedIndex(array, item);\n        return array[i] === item ? i : -1;\n      }\n    }\n    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);\n    for (; i < l; i++) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.\n  _.lastIndexOf = function(array, item, from) {\n    if (array == null) return -1;\n    var hasIndex = from != null;\n    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {\n      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);\n    }\n    var i = (hasIndex ? from : array.length);\n    while (i--) if (array[i] === item) return i;\n    return -1;\n  };\n\n  // Generate an integer Array containing an arithmetic progression. A port of\n  // the native Python `range()` function. See\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\n  _.range = function(start, stop, step) {\n    if (arguments.length <= 1) {\n      stop = start || 0;\n      start = 0;\n    }\n    step = arguments[2] || 1;\n\n    var len = Math.max(Math.ceil((stop - start) / step), 0);\n    var idx = 0;\n    var range = new Array(len);\n\n    while(idx < len) {\n      range[idx++] = start;\n      start += step;\n    }\n\n    return range;\n  };\n\n  // Function (ahem) Functions\n  // ------------------\n\n  // Create a function bound to a given object (assigning `this`, and arguments,\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\n  // available.\n  _.bind = function(func, context) {\n    if (func.bind === nativeBind && nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\n    var args = slice.call(arguments, 2);\n    return function() {\n      return func.apply(context, args.concat(slice.call(arguments)));\n    };\n  };\n\n  // Partially apply a function by creating a version that has had some of its\n  // arguments pre-filled, without changing its dynamic `this` context.\n  _.partial = function(func) {\n    var args = slice.call(arguments, 1);\n    return function() {\n      return func.apply(this, args.concat(slice.call(arguments)));\n    };\n  };\n\n  // Bind all of an object's methods to that object. Useful for ensuring that\n  // all callbacks defined on an object belong to it.\n  _.bindAll = function(obj) {\n    var funcs = slice.call(arguments, 1);\n    if (funcs.length === 0) funcs = _.functions(obj);\n    each(funcs, function(f) { obj[f] = _.bind(obj[f], obj); });\n    return obj;\n  };\n\n  // Memoize an expensive function by storing its results.\n  _.memoize = function(func, hasher) {\n    var memo = {};\n    hasher || (hasher = _.identity);\n    return function() {\n      var key = hasher.apply(this, arguments);\n      return _.has(memo, key) ? memo[key] : (memo[key] = func.apply(this, arguments));\n    };\n  };\n\n  // Delays a function for the given number of milliseconds, and then calls\n  // it with the arguments supplied.\n  _.delay = function(func, wait) {\n    var args = slice.call(arguments, 2);\n    return setTimeout(function(){ return func.apply(null, args); }, wait);\n  };\n\n  // Defers a function, scheduling it to run after the current call stack has\n  // cleared.\n  _.defer = function(func) {\n    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));\n  };\n\n  // Returns a function, that, when invoked, will only be triggered at most once\n  // during a given window of time.\n  _.throttle = function(func, wait) {\n    var context, args, timeout, result;\n    var previous = 0;\n    var later = function() {\n      previous = new Date;\n      timeout = null;\n      result = func.apply(context, args);\n    };\n    return function() {\n      var now = new Date;\n      var remaining = wait - (now - previous);\n      context = this;\n      args = arguments;\n      if (remaining <= 0) {\n        clearTimeout(timeout);\n        timeout = null;\n        previous = now;\n        result = func.apply(context, args);\n      } else if (!timeout) {\n        timeout = setTimeout(later, remaining);\n      }\n      return result;\n    };\n  };\n\n  // Returns a function, that, as long as it continues to be invoked, will not\n  // be triggered. The function will be called after it stops being called for\n  // N milliseconds. If `immediate` is passed, trigger the function on the\n  // leading edge, instead of the trailing.\n  _.debounce = function(func, wait, immediate) {\n    var timeout, result;\n    return function() {\n      var context = this, args = arguments;\n      var later = function() {\n        timeout = null;\n        if (!immediate) result = func.apply(context, args);\n      };\n      var callNow = immediate && !timeout;\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n      if (callNow) result = func.apply(context, args);\n      return result;\n    };\n  };\n\n  // Returns a function that will be executed at most one time, no matter how\n  // often you call it. Useful for lazy initialization.\n  _.once = function(func) {\n    var ran = false, memo;\n    return function() {\n      if (ran) return memo;\n      ran = true;\n      memo = func.apply(this, arguments);\n      func = null;\n      return memo;\n    };\n  };\n\n  // Returns the first function passed as an argument to the second,\n  // allowing you to adjust arguments, run code before and after, and\n  // conditionally execute the original function.\n  _.wrap = function(func, wrapper) {\n    return function() {\n      var args = [func];\n      push.apply(args, arguments);\n      return wrapper.apply(this, args);\n    };\n  };\n\n  // Returns a function that is the composition of a list of functions, each\n  // consuming the return value of the function that follows.\n  _.compose = function() {\n    var funcs = arguments;\n    return function() {\n      var args = arguments;\n      for (var i = funcs.length - 1; i >= 0; i--) {\n        args = [funcs[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  };\n\n  // Returns a function that will only be executed after being called N times.\n  _.after = function(times, func) {\n    if (times <= 0) return func();\n    return function() {\n      if (--times < 1) {\n        return func.apply(this, arguments);\n      }\n    };\n  };\n\n  // Object Functions\n  // ----------------\n\n  // Retrieve the names of an object's properties.\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\n  _.keys = nativeKeys || function(obj) {\n    if (obj !== Object(obj)) throw new TypeError('Invalid object');\n    var keys = [];\n    for (var key in obj) if (_.has(obj, key)) keys[keys.length] = key;\n    return keys;\n  };\n\n  // Retrieve the values of an object's properties.\n  _.values = function(obj) {\n    var values = [];\n    for (var key in obj) if (_.has(obj, key)) values.push(obj[key]);\n    return values;\n  };\n\n  // Convert an object into a list of `[key, value]` pairs.\n  _.pairs = function(obj) {\n    var pairs = [];\n    for (var key in obj) if (_.has(obj, key)) pairs.push([key, obj[key]]);\n    return pairs;\n  };\n\n  // Invert the keys and values of an object. The values must be serializable.\n  _.invert = function(obj) {\n    var result = {};\n    for (var key in obj) if (_.has(obj, key)) result[obj[key]] = key;\n    return result;\n  };\n\n  // Return a sorted list of the function names available on the object.\n  // Aliased as `methods`\n  _.functions = _.methods = function(obj) {\n    var names = [];\n    for (var key in obj) {\n      if (_.isFunction(obj[key])) names.push(key);\n    }\n    return names.sort();\n  };\n\n  // Extend a given object with all the properties in passed-in object(s).\n  _.extend = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Return a copy of the object only containing the whitelisted properties.\n  _.pick = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    each(keys, function(key) {\n      if (key in obj) copy[key] = obj[key];\n    });\n    return copy;\n  };\n\n   // Return a copy of the object without the blacklisted properties.\n  _.omit = function(obj) {\n    var copy = {};\n    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));\n    for (var key in obj) {\n      if (!_.contains(keys, key)) copy[key] = obj[key];\n    }\n    return copy;\n  };\n\n  // Fill in a given object with default properties.\n  _.defaults = function(obj) {\n    each(slice.call(arguments, 1), function(source) {\n      if (source) {\n        for (var prop in source) {\n          if (obj[prop] == null) obj[prop] = source[prop];\n        }\n      }\n    });\n    return obj;\n  };\n\n  // Create a (shallow-cloned) duplicate of an object.\n  _.clone = function(obj) {\n    if (!_.isObject(obj)) return obj;\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\n  };\n\n  // Invokes interceptor with the obj, and then returns obj.\n  // The primary purpose of this method is to \"tap into\" a method chain, in\n  // order to perform operations on intermediate results within the chain.\n  _.tap = function(obj, interceptor) {\n    interceptor(obj);\n    return obj;\n  };\n\n  // Internal recursive comparison function for `isEqual`.\n  var eq = function(a, b, aStack, bStack) {\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\n    // See the Harmony `egal` proposal: http://wiki.ecmascript.org/doku.php?id=harmony:egal.\n    if (a === b) return a !== 0 || 1 / a == 1 / b;\n    // A strict comparison is necessary because `null == undefined`.\n    if (a == null || b == null) return a === b;\n    // Unwrap any wrapped objects.\n    if (a instanceof _) a = a._wrapped;\n    if (b instanceof _) b = b._wrapped;\n    // Compare `[[Class]]` names.\n    var className = toString.call(a);\n    if (className != toString.call(b)) return false;\n    switch (className) {\n      // Strings, numbers, dates, and booleans are compared by value.\n      case '[object String]':\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\n        // equivalent to `new String(\"5\")`.\n        return a == String(b);\n      case '[object Number]':\n        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for\n        // other numeric values.\n        return a != +a ? b != +b : (a == 0 ? 1 / a == 1 / b : a == +b);\n      case '[object Date]':\n      case '[object Boolean]':\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\n        // millisecond representations. Note that invalid dates with millisecond representations\n        // of `NaN` are not equivalent.\n        return +a == +b;\n      // RegExps are compared by their source patterns and flags.\n      case '[object RegExp]':\n        return a.source == b.source &&\n               a.global == b.global &&\n               a.multiline == b.multiline &&\n               a.ignoreCase == b.ignoreCase;\n    }\n    if (typeof a != 'object' || typeof b != 'object') return false;\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\n    var length = aStack.length;\n    while (length--) {\n      // Linear search. Performance is inversely proportional to the number of\n      // unique nested structures.\n      if (aStack[length] == a) return bStack[length] == b;\n    }\n    // Add the first object to the stack of traversed objects.\n    aStack.push(a);\n    bStack.push(b);\n    var size = 0, result = true;\n    // Recursively compare objects and arrays.\n    if (className == '[object Array]') {\n      // Compare array lengths to determine if a deep comparison is necessary.\n      size = a.length;\n      result = size == b.length;\n      if (result) {\n        // Deep compare the contents, ignoring non-numeric properties.\n        while (size--) {\n          if (!(result = eq(a[size], b[size], aStack, bStack))) break;\n        }\n      }\n    } else {\n      // Objects with different constructors are not equivalent, but `Object`s\n      // from different frames are.\n      var aCtor = a.constructor, bCtor = b.constructor;\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && (aCtor instanceof aCtor) &&\n                               _.isFunction(bCtor) && (bCtor instanceof bCtor))) {\n        return false;\n      }\n      // Deep compare objects.\n      for (var key in a) {\n        if (_.has(a, key)) {\n          // Count the expected number of properties.\n          size++;\n          // Deep compare each member.\n          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;\n        }\n      }\n      // Ensure that both objects contain the same number of properties.\n      if (result) {\n        for (key in b) {\n          if (_.has(b, key) && !(size--)) break;\n        }\n        result = !size;\n      }\n    }\n    // Remove the first object from the stack of traversed objects.\n    aStack.pop();\n    bStack.pop();\n    return result;\n  };\n\n  // Perform a deep comparison to check if two objects are equal.\n  _.isEqual = function(a, b) {\n    return eq(a, b, [], []);\n  };\n\n  // Is a given array, string, or object empty?\n  // An \"empty\" object has no enumerable own-properties.\n  _.isEmpty = function(obj) {\n    if (obj == null) return true;\n    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;\n    for (var key in obj) if (_.has(obj, key)) return false;\n    return true;\n  };\n\n  // Is a given value a DOM element?\n  _.isElement = function(obj) {\n    return !!(obj && obj.nodeType === 1);\n  };\n\n  // Is a given value an array?\n  // Delegates to ECMA5's native Array.isArray\n  _.isArray = nativeIsArray || function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n\n  // Is a given variable an object?\n  _.isObject = function(obj) {\n    return obj === Object(obj);\n  };\n\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.\n  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function(name) {\n    _['is' + name] = function(obj) {\n      return toString.call(obj) == '[object ' + name + ']';\n    };\n  });\n\n  // Define a fallback version of the method in browsers (ahem, IE), where\n  // there isn't any inspectable \"Arguments\" type.\n  if (!_.isArguments(arguments)) {\n    _.isArguments = function(obj) {\n      return !!(obj && _.has(obj, 'callee'));\n    };\n  }\n\n  // Optimize `isFunction` if appropriate.\n  if (typeof (/./) !== 'function') {\n    _.isFunction = function(obj) {\n      return typeof obj === 'function';\n    };\n  }\n\n  // Is a given object a finite number?\n  _.isFinite = function(obj) {\n    return isFinite(obj) && !isNaN(parseFloat(obj));\n  };\n\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\n  _.isNaN = function(obj) {\n    return _.isNumber(obj) && obj != +obj;\n  };\n\n  // Is a given value a boolean?\n  _.isBoolean = function(obj) {\n    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';\n  };\n\n  // Is a given value equal to null?\n  _.isNull = function(obj) {\n    return obj === null;\n  };\n\n  // Is a given variable undefined?\n  _.isUndefined = function(obj) {\n    return obj === void 0;\n  };\n\n  // Shortcut function for checking if an object has a given property directly\n  // on itself (in other words, not on a prototype).\n  _.has = function(obj, key) {\n    return hasOwnProperty.call(obj, key);\n  };\n\n  // Utility Functions\n  // -----------------\n\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\n  // previous owner. Returns a reference to the Underscore object.\n  _.noConflict = function() {\n    root._ = previousUnderscore;\n    return this;\n  };\n\n  // Keep the identity function around for default iterators.\n  _.identity = function(value) {\n    return value;\n  };\n\n  // Run a function **n** times.\n  _.times = function(n, iterator, context) {\n    var accum = Array(n);\n    for (var i = 0; i < n; i++) accum[i] = iterator.call(context, i);\n    return accum;\n  };\n\n  // Return a random integer between min and max (inclusive).\n  _.random = function(min, max) {\n    if (max == null) {\n      max = min;\n      min = 0;\n    }\n    return min + Math.floor(Math.random() * (max - min + 1));\n  };\n\n  // List of HTML entities for escaping.\n  var entityMap = {\n    escape: {\n      '&': '&amp;',\n      '<': '&lt;',\n      '>': '&gt;',\n      '\"': '&quot;',\n      \"'\": '&#x27;',\n      '/': '&#x2F;'\n    }\n  };\n  entityMap.unescape = _.invert(entityMap.escape);\n\n  // Regexes containing the keys and values listed immediately above.\n  var entityRegexes = {\n    escape:   new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),\n    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')\n  };\n\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\n  _.each(['escape', 'unescape'], function(method) {\n    _[method] = function(string) {\n      if (string == null) return '';\n      return ('' + string).replace(entityRegexes[method], function(match) {\n        return entityMap[method][match];\n      });\n    };\n  });\n\n  // If the value of the named property is a function then invoke it;\n  // otherwise, return it.\n  _.result = function(object, property) {\n    if (object == null) return null;\n    var value = object[property];\n    return _.isFunction(value) ? value.call(object) : value;\n  };\n\n  // Add your own custom functions to the Underscore object.\n  _.mixin = function(obj) {\n    each(_.functions(obj), function(name){\n      var func = _[name] = obj[name];\n      _.prototype[name] = function() {\n        var args = [this._wrapped];\n        push.apply(args, arguments);\n        return result.call(this, func.apply(_, args));\n      };\n    });\n  };\n\n  // Generate a unique integer id (unique within the entire client session).\n  // Useful for temporary DOM ids.\n  var idCounter = 0;\n  _.uniqueId = function(prefix) {\n    var id = ++idCounter + '';\n    return prefix ? prefix + id : id;\n  };\n\n  // By default, Underscore uses ERB-style template delimiters, change the\n  // following template settings to use alternative delimiters.\n  _.templateSettings = {\n    evaluate    : /<%([\\s\\S]+?)%>/g,\n    interpolate : /<%=([\\s\\S]+?)%>/g,\n    escape      : /<%-([\\s\\S]+?)%>/g\n  };\n\n  // When customizing `templateSettings`, if you don't want to define an\n  // interpolation, evaluation or escaping regex, we need one that is\n  // guaranteed not to match.\n  var noMatch = /(.)^/;\n\n  // Certain characters need to be escaped so that they can be put into a\n  // string literal.\n  var escapes = {\n    \"'\":      \"'\",\n    '\\\\':     '\\\\',\n    '\\r':     'r',\n    '\\n':     'n',\n    '\\t':     't',\n    '\\u2028': 'u2028',\n    '\\u2029': 'u2029'\n  };\n\n  var escaper = /\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;\n\n  // JavaScript micro-templating, similar to John Resig's implementation.\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\n  // and correctly escapes quotes within interpolated code.\n  _.template = function(text, data, settings) {\n    var render;\n    settings = _.defaults({}, settings, _.templateSettings);\n\n    // Combine delimiters into one regular expression via alternation.\n    var matcher = new RegExp([\n      (settings.escape || noMatch).source,\n      (settings.interpolate || noMatch).source,\n      (settings.evaluate || noMatch).source\n    ].join('|') + '|$', 'g');\n\n    // Compile the template source, escaping string literals appropriately.\n    var index = 0;\n    var source = \"__p+='\";\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\n      source += text.slice(index, offset)\n        .replace(escaper, function(match) { return '\\\\' + escapes[match]; });\n\n      if (escape) {\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\n      }\n      if (interpolate) {\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\n      }\n      if (evaluate) {\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\n      }\n      index = offset + match.length;\n      return match;\n    });\n    source += \"';\\n\";\n\n    // If a variable is not specified, place data values in local scope.\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\n\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\n      source + \"return __p;\\n\";\n\n    try {\n      render = new Function(settings.variable || 'obj', '_', source);\n    } catch (e) {\n      e.source = source;\n      throw e;\n    }\n\n    if (data) return render(data, _);\n    var template = function(data) {\n      return render.call(this, data, _);\n    };\n\n    // Provide the compiled function source as a convenience for precompilation.\n    template.source = 'function(' + (settings.variable || 'obj') + '){\\n' + source + '}';\n\n    return template;\n  };\n\n  // Add a \"chain\" function, which will delegate to the wrapper.\n  _.chain = function(obj) {\n    return _(obj).chain();\n  };\n\n  // OOP\n  // ---------------\n  // If Underscore is called as a function, it returns a wrapped object that\n  // can be used OO-style. This wrapper holds altered versions of all the\n  // underscore functions. Wrapped objects may be chained.\n\n  // Helper function to continue chaining intermediate results.\n  var result = function(obj) {\n    return this._chain ? _(obj).chain() : obj;\n  };\n\n  // Add all of the Underscore functions to the wrapper object.\n  _.mixin(_);\n\n  // Add all mutator Array functions to the wrapper.\n  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      var obj = this._wrapped;\n      method.apply(obj, arguments);\n      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];\n      return result.call(this, obj);\n    };\n  });\n\n  // Add all accessor Array functions to the wrapper.\n  each(['concat', 'join', 'slice'], function(name) {\n    var method = ArrayProto[name];\n    _.prototype[name] = function() {\n      return result.call(this, method.apply(this._wrapped, arguments));\n    };\n  });\n\n  _.extend(_.prototype, {\n\n    // Start chaining a wrapped Underscore object.\n    chain: function() {\n      this._chain = true;\n      return this;\n    },\n\n    // Extracts the result from a wrapped and chained object.\n    value: function() {\n      return this._wrapped;\n    }\n\n  });\n\n}).call(this);\n\n},{}],54:[function(require,module,exports){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var xml2js;\n\n  xml2js = require('../lib/xml2js');\n\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n\n},{\"../lib/xml2js\":56}],55:[function(require,module,exports){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n}).call(this);\n\n},{}],56:[function(require,module,exports){\n(function (process){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var bom, builder, events, isEmpty, processName, processors, sax,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  sax = require('sax');\n\n  events = require('events');\n\n  builder = require('xmlbuilder');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processName = function(processors, processedName) {\n    var process, _i, _len;\n    for (_i = 0, _len = processors.length; _i < _len; _i++) {\n      process = processors[_i];\n      processedName = process(processedName);\n    }\n    return processedName;\n  };\n\n  exports.processors = processors;\n\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false\n    }\n  };\n\n  exports.ValidationError = (function(_super) {\n    __extends(ValidationError, _super);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, value, _ref;\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === exports.defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = function(element, obj) {\n        var attr, child, entry, index, key, value, _ref, _ref1;\n        if (typeof obj !== 'object') {\n          element.txt(obj);\n        } else {\n          for (key in obj) {\n            if (!__hasProp.call(obj, key)) continue;\n            child = obj[key];\n            if (key === attrkey) {\n              if (typeof child === \"object\") {\n                for (attr in child) {\n                  value = child[attr];\n                  element = element.att(attr, value);\n                }\n              }\n            } else if (key === charkey) {\n              element = element.txt(child);\n            } else if (typeof child === 'object' && ((child != null ? child.constructor : void 0) != null) && ((child != null ? (_ref = child.constructor) != null ? _ref.name : void 0 : void 0) != null) && (child != null ? (_ref1 = child.constructor) != null ? _ref1.name : void 0 : void 0) === 'Array') {\n              for (index in child) {\n                if (!__hasProp.call(child, index)) continue;\n                entry = child[index];\n                if (typeof entry === 'string') {\n                  element = element.ele(key, entry).up();\n                } else {\n                  element = arguments.callee(element.ele(key), entry).up();\n                }\n              }\n            } else if (typeof child === \"object\") {\n              element = arguments.callee(element.ele(key), child).up();\n            } else {\n              element = element.ele(key, child.toString()).up();\n            }\n          }\n        }\n        return element;\n      };\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n  exports.Parser = (function(_super) {\n    __extends(Parser, _super);\n\n    function Parser(opts) {\n      this.parseString = __bind(this.parseString, this);\n      this.reset = __bind(this.reset, this);\n      this.assignOrPush = __bind(this.assignOrPush, this);\n      var key, value, _ref;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, _ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            _ref = node.attributes;\n            for (key in _ref) {\n              if (!__hasProp.call(_ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processName(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processName(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, err, node, nodeName, obj, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          delete obj[\"#name\"];\n          cdata = obj.cdata;\n          delete obj.cdata;\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== void 0 ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var _i, _len, _results;\n              _results = [];\n              for (_i = 0, _len = stack.length; _i < _len; _i++) {\n                node = stack[_i];\n                _results.push(node[\"#name\"]);\n              }\n              return _results;\n            })()).concat(nodeName).join(\"/\");\n            try {\n              obj = _this.options.validator(xpath, s && s[nodeName], obj);\n            } catch (_error) {\n              err = _error;\n              _this.emit(\"error\", err);\n            }\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            node = {};\n            if (_this.options.attrkey in obj) {\n              node[_this.options.attrkey] = obj[_this.options.attrkey];\n              delete obj[_this.options.attrkey];\n            }\n            if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n              node[_this.options.charkey] = obj[_this.options.charkey];\n              delete obj[_this.options.charkey];\n            }\n            if (Object.getOwnPropertyNames(obj).length > 0) {\n              node[_this.options.childkey] = obj;\n            }\n            obj = node;\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          if (this.options.async) {\n            return process.nextTick(function() {\n              return cb(null, result);\n            });\n          } else {\n            return cb(null, result);\n          }\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          if (this.options.async) {\n            return process.nextTick(function() {\n              return cb(err);\n            });\n          } else {\n            return cb(err);\n          }\n        });\n      }\n      if (str.toString().trim() === '') {\n        this.emit(\"end\", null);\n        return true;\n      }\n      try {\n        return this.saxParser.write(bom.stripBOM(str.toString())).close();\n      } catch (_error) {\n        err = _error;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n\n}).call(this,require('_process'))\n},{\"./bom\":54,\"./processors\":55,\"_process\":30,\"events\":28,\"sax\":57,\"xmlbuilder\":74}],57:[function(require,module,exports){\n(function (Buffer){\n// wrapper for non-node envs\n;(function (sax) {\n\nsax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\nsax.SAXParser = SAXParser\nsax.SAXStream = SAXStream\nsax.createStream = createStream\n\n// When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n// When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n// since that's the earliest that a buffer overrun could occur.  This way, checks are\n// as rare as required, but as often as necessary to ensure never crossing this bound.\n// Furthermore, buffers are only tested at most once per write(), so passing a very\n// large string into write() might have undesirable effects, but this is manageable by\n// the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n// edge case, result in creating at most one complete copy of the string passed in.\n// Set to Infinity to have unlimited buffers.\nsax.MAX_BUFFER_LENGTH = 64 * 1024\n\nvar buffers = [\n  \"comment\", \"sgmlDecl\", \"textNode\", \"tagName\", \"doctype\",\n  \"procInstName\", \"procInstBody\", \"entity\", \"attribName\",\n  \"attribValue\", \"cdata\", \"script\"\n]\n\nsax.EVENTS = // for discoverability.\n  [ \"text\"\n  , \"processinginstruction\"\n  , \"sgmldeclaration\"\n  , \"doctype\"\n  , \"comment\"\n  , \"attribute\"\n  , \"opentag\"\n  , \"closetag\"\n  , \"opencdata\"\n  , \"cdata\"\n  , \"closecdata\"\n  , \"error\"\n  , \"end\"\n  , \"ready\"\n  , \"script\"\n  , \"opennamespace\"\n  , \"closenamespace\"\n  ]\n\nfunction SAXParser (strict, opt) {\n  if (!(this instanceof SAXParser)) return new SAXParser(strict, opt)\n\n  var parser = this\n  clearBuffers(parser)\n  parser.q = parser.c = \"\"\n  parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n  parser.opt = opt || {}\n  parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n  parser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\"\n  parser.tags = []\n  parser.closed = parser.closedRoot = parser.sawRoot = false\n  parser.tag = parser.error = null\n  parser.strict = !!strict\n  parser.noscript = !!(strict || parser.opt.noscript)\n  parser.state = S.BEGIN\n  parser.ENTITIES = Object.create(sax.ENTITIES)\n  parser.attribList = []\n\n  // namespaces form a prototype chain.\n  // it always points at the current tag,\n  // which protos to its parent tag.\n  if (parser.opt.xmlns) parser.ns = Object.create(rootNS)\n\n  // mostly just for error reporting\n  parser.trackPosition = parser.opt.position !== false\n  if (parser.trackPosition) {\n    parser.position = parser.line = parser.column = 0\n  }\n  emit(parser, \"onready\")\n}\n\nif (!Object.create) Object.create = function (o) {\n  function f () { this.__proto__ = o }\n  f.prototype = o\n  return new f\n}\n\nif (!Object.getPrototypeOf) Object.getPrototypeOf = function (o) {\n  return o.__proto__\n}\n\nif (!Object.keys) Object.keys = function (o) {\n  var a = []\n  for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n  return a\n}\n\nfunction checkBufferLength (parser) {\n  var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    , maxActual = 0\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    var len = parser[buffers[i]].length\n    if (len > maxAllowed) {\n      // Text/cdata nodes can get big, and since they're buffered,\n      // we can get here under normal conditions.\n      // Avoid issues by emitting the text node now,\n      // so at least it won't get any bigger.\n      switch (buffers[i]) {\n        case \"textNode\":\n          closeText(parser)\n        break\n\n        case \"cdata\":\n          emitNode(parser, \"oncdata\", parser.cdata)\n          parser.cdata = \"\"\n        break\n\n        case \"script\":\n          emitNode(parser, \"onscript\", parser.script)\n          parser.script = \"\"\n        break\n\n        default:\n          error(parser, \"Max buffer length exceeded: \"+buffers[i])\n      }\n    }\n    maxActual = Math.max(maxActual, len)\n  }\n  // schedule the next check for the earliest possible buffer overrun.\n  parser.bufferCheckPosition = (sax.MAX_BUFFER_LENGTH - maxActual)\n                             + parser.position\n}\n\nfunction clearBuffers (parser) {\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    parser[buffers[i]] = \"\"\n  }\n}\n\nfunction flushBuffers (parser) {\n  closeText(parser)\n  if (parser.cdata !== \"\") {\n    emitNode(parser, \"oncdata\", parser.cdata)\n    parser.cdata = \"\"\n  }\n  if (parser.script !== \"\") {\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n}\n\nSAXParser.prototype =\n  { end: function () { end(this) }\n  , write: write\n  , resume: function () { this.error = null; return this }\n  , close: function () { return this.write(null) }\n  , flush: function () { flushBuffers(this) }\n  }\n\ntry {\n  var Stream = require(\"stream\").Stream\n} catch (ex) {\n  var Stream = function () {}\n}\n\n\nvar streamWraps = sax.EVENTS.filter(function (ev) {\n  return ev !== \"error\" && ev !== \"end\"\n})\n\nfunction createStream (strict, opt) {\n  return new SAXStream(strict, opt)\n}\n\nfunction SAXStream (strict, opt) {\n  if (!(this instanceof SAXStream)) return new SAXStream(strict, opt)\n\n  Stream.apply(this)\n\n  this._parser = new SAXParser(strict, opt)\n  this.writable = true\n  this.readable = true\n\n\n  var me = this\n\n  this._parser.onend = function () {\n    me.emit(\"end\")\n  }\n\n  this._parser.onerror = function (er) {\n    me.emit(\"error\", er)\n\n    // if didn't throw, then means error was handled.\n    // go ahead and clear error, so we can write again.\n    me._parser.error = null\n  }\n\n  this._decoder = null;\n\n  streamWraps.forEach(function (ev) {\n    Object.defineProperty(me, \"on\" + ev, {\n      get: function () { return me._parser[\"on\" + ev] },\n      set: function (h) {\n        if (!h) {\n          me.removeAllListeners(ev)\n          return me._parser[\"on\"+ev] = h\n        }\n        me.on(ev, h)\n      },\n      enumerable: true,\n      configurable: false\n    })\n  })\n}\n\nSAXStream.prototype = Object.create(Stream.prototype,\n  { constructor: { value: SAXStream } })\n\nSAXStream.prototype.write = function (data) {\n  if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n    if (!this._decoder) {\n      var SD = require('string_decoder').StringDecoder\n      this._decoder = new SD('utf8')\n    }\n    data = this._decoder.write(data);\n  }\n\n  this._parser.write(data.toString())\n  this.emit(\"data\", data)\n  return true\n}\n\nSAXStream.prototype.end = function (chunk) {\n  if (chunk && chunk.length) this.write(chunk)\n  this._parser.end()\n  return true\n}\n\nSAXStream.prototype.on = function (ev, handler) {\n  var me = this\n  if (!me._parser[\"on\"+ev] && streamWraps.indexOf(ev) !== -1) {\n    me._parser[\"on\"+ev] = function () {\n      var args = arguments.length === 1 ? [arguments[0]]\n               : Array.apply(null, arguments)\n      args.splice(0, 0, ev)\n      me.emit.apply(me, args)\n    }\n  }\n\n  return Stream.prototype.on.call(me, ev, handler)\n}\n\n\n\n// character classes and tokens\nvar whitespace = \"\\r\\n\\t \"\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  , number = \"0124356789\"\n  , letter = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n  // (Letter | \"_\" | \":\")\n  , quote = \"'\\\"\"\n  , entity = number+letter+\"#\"\n  , attribEnd = whitespace + \">\"\n  , CDATA = \"[CDATA[\"\n  , DOCTYPE = \"DOCTYPE\"\n  , XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\"\n  , XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\"\n  , rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n// turn all the string character sets into character class objects.\nwhitespace = charClass(whitespace)\nnumber = charClass(number)\nletter = charClass(letter)\n\n// http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n// This implementation works on strings, a single character at a time\n// as such, it cannot ever support astral-plane characters (10000-EFFFF)\n// without a significant breaking change to either this  parser, or the\n// JavaScript language.  Implementation of an emoji-capable xml parser\n// is left as an exercise for the reader.\nvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\nvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\nquote = charClass(quote)\nentity = charClass(entity)\nattribEnd = charClass(attribEnd)\n\nfunction charClass (str) {\n  return str.split(\"\").reduce(function (s, c) {\n    s[c] = true\n    return s\n  }, {})\n}\n\nfunction isRegExp (c) {\n  return Object.prototype.toString.call(c) === '[object RegExp]'\n}\n\nfunction is (charclass, c) {\n  return isRegExp(charclass) ? !!c.match(charclass) : charclass[c]\n}\n\nfunction not (charclass, c) {\n  return !is(charclass, c)\n}\n\nvar S = 0\nsax.STATE =\n{ BEGIN                     : S++\n, TEXT                      : S++ // general stuff\n, TEXT_ENTITY               : S++ // &amp and such.\n, OPEN_WAKA                 : S++ // <\n, SGML_DECL                 : S++ // <!BLARG\n, SGML_DECL_QUOTED          : S++ // <!BLARG foo \"bar\n, DOCTYPE                   : S++ // <!DOCTYPE\n, DOCTYPE_QUOTED            : S++ // <!DOCTYPE \"//blah\n, DOCTYPE_DTD               : S++ // <!DOCTYPE \"//blah\" [ ...\n, DOCTYPE_DTD_QUOTED        : S++ // <!DOCTYPE \"//blah\" [ \"foo\n, COMMENT_STARTING          : S++ // <!-\n, COMMENT                   : S++ // <!--\n, COMMENT_ENDING            : S++ // <!-- blah -\n, COMMENT_ENDED             : S++ // <!-- blah --\n, CDATA                     : S++ // <![CDATA[ something\n, CDATA_ENDING              : S++ // ]\n, CDATA_ENDING_2            : S++ // ]]\n, PROC_INST                 : S++ // <?hi\n, PROC_INST_BODY            : S++ // <?hi there\n, PROC_INST_ENDING          : S++ // <?hi \"there\" ?\n, OPEN_TAG                  : S++ // <strong\n, OPEN_TAG_SLASH            : S++ // <strong /\n, ATTRIB                    : S++ // <a\n, ATTRIB_NAME               : S++ // <a foo\n, ATTRIB_NAME_SAW_WHITE     : S++ // <a foo _\n, ATTRIB_VALUE              : S++ // <a foo=\n, ATTRIB_VALUE_QUOTED       : S++ // <a foo=\"bar\n, ATTRIB_VALUE_CLOSED       : S++ // <a foo=\"bar\"\n, ATTRIB_VALUE_UNQUOTED     : S++ // <a foo=bar\n, ATTRIB_VALUE_ENTITY_Q     : S++ // <foo bar=\"&quot;\"\n, ATTRIB_VALUE_ENTITY_U     : S++ // <foo bar=&quot;\n, CLOSE_TAG                 : S++ // </a\n, CLOSE_TAG_SAW_WHITE       : S++ // </a   >\n, SCRIPT                    : S++ // <script> ...\n, SCRIPT_ENDING             : S++ // <script> ... <\n}\n\nsax.ENTITIES =\n{ \"amp\" : \"&\"\n, \"gt\" : \">\"\n, \"lt\" : \"<\"\n, \"quot\" : \"\\\"\"\n, \"apos\" : \"'\"\n, \"AElig\" : 198\n, \"Aacute\" : 193\n, \"Acirc\" : 194\n, \"Agrave\" : 192\n, \"Aring\" : 197\n, \"Atilde\" : 195\n, \"Auml\" : 196\n, \"Ccedil\" : 199\n, \"ETH\" : 208\n, \"Eacute\" : 201\n, \"Ecirc\" : 202\n, \"Egrave\" : 200\n, \"Euml\" : 203\n, \"Iacute\" : 205\n, \"Icirc\" : 206\n, \"Igrave\" : 204\n, \"Iuml\" : 207\n, \"Ntilde\" : 209\n, \"Oacute\" : 211\n, \"Ocirc\" : 212\n, \"Ograve\" : 210\n, \"Oslash\" : 216\n, \"Otilde\" : 213\n, \"Ouml\" : 214\n, \"THORN\" : 222\n, \"Uacute\" : 218\n, \"Ucirc\" : 219\n, \"Ugrave\" : 217\n, \"Uuml\" : 220\n, \"Yacute\" : 221\n, \"aacute\" : 225\n, \"acirc\" : 226\n, \"aelig\" : 230\n, \"agrave\" : 224\n, \"aring\" : 229\n, \"atilde\" : 227\n, \"auml\" : 228\n, \"ccedil\" : 231\n, \"eacute\" : 233\n, \"ecirc\" : 234\n, \"egrave\" : 232\n, \"eth\" : 240\n, \"euml\" : 235\n, \"iacute\" : 237\n, \"icirc\" : 238\n, \"igrave\" : 236\n, \"iuml\" : 239\n, \"ntilde\" : 241\n, \"oacute\" : 243\n, \"ocirc\" : 244\n, \"ograve\" : 242\n, \"oslash\" : 248\n, \"otilde\" : 245\n, \"ouml\" : 246\n, \"szlig\" : 223\n, \"thorn\" : 254\n, \"uacute\" : 250\n, \"ucirc\" : 251\n, \"ugrave\" : 249\n, \"uuml\" : 252\n, \"yacute\" : 253\n, \"yuml\" : 255\n, \"copy\" : 169\n, \"reg\" : 174\n, \"nbsp\" : 160\n, \"iexcl\" : 161\n, \"cent\" : 162\n, \"pound\" : 163\n, \"curren\" : 164\n, \"yen\" : 165\n, \"brvbar\" : 166\n, \"sect\" : 167\n, \"uml\" : 168\n, \"ordf\" : 170\n, \"laquo\" : 171\n, \"not\" : 172\n, \"shy\" : 173\n, \"macr\" : 175\n, \"deg\" : 176\n, \"plusmn\" : 177\n, \"sup1\" : 185\n, \"sup2\" : 178\n, \"sup3\" : 179\n, \"acute\" : 180\n, \"micro\" : 181\n, \"para\" : 182\n, \"middot\" : 183\n, \"cedil\" : 184\n, \"ordm\" : 186\n, \"raquo\" : 187\n, \"frac14\" : 188\n, \"frac12\" : 189\n, \"frac34\" : 190\n, \"iquest\" : 191\n, \"times\" : 215\n, \"divide\" : 247\n, \"OElig\" : 338\n, \"oelig\" : 339\n, \"Scaron\" : 352\n, \"scaron\" : 353\n, \"Yuml\" : 376\n, \"fnof\" : 402\n, \"circ\" : 710\n, \"tilde\" : 732\n, \"Alpha\" : 913\n, \"Beta\" : 914\n, \"Gamma\" : 915\n, \"Delta\" : 916\n, \"Epsilon\" : 917\n, \"Zeta\" : 918\n, \"Eta\" : 919\n, \"Theta\" : 920\n, \"Iota\" : 921\n, \"Kappa\" : 922\n, \"Lambda\" : 923\n, \"Mu\" : 924\n, \"Nu\" : 925\n, \"Xi\" : 926\n, \"Omicron\" : 927\n, \"Pi\" : 928\n, \"Rho\" : 929\n, \"Sigma\" : 931\n, \"Tau\" : 932\n, \"Upsilon\" : 933\n, \"Phi\" : 934\n, \"Chi\" : 935\n, \"Psi\" : 936\n, \"Omega\" : 937\n, \"alpha\" : 945\n, \"beta\" : 946\n, \"gamma\" : 947\n, \"delta\" : 948\n, \"epsilon\" : 949\n, \"zeta\" : 950\n, \"eta\" : 951\n, \"theta\" : 952\n, \"iota\" : 953\n, \"kappa\" : 954\n, \"lambda\" : 955\n, \"mu\" : 956\n, \"nu\" : 957\n, \"xi\" : 958\n, \"omicron\" : 959\n, \"pi\" : 960\n, \"rho\" : 961\n, \"sigmaf\" : 962\n, \"sigma\" : 963\n, \"tau\" : 964\n, \"upsilon\" : 965\n, \"phi\" : 966\n, \"chi\" : 967\n, \"psi\" : 968\n, \"omega\" : 969\n, \"thetasym\" : 977\n, \"upsih\" : 978\n, \"piv\" : 982\n, \"ensp\" : 8194\n, \"emsp\" : 8195\n, \"thinsp\" : 8201\n, \"zwnj\" : 8204\n, \"zwj\" : 8205\n, \"lrm\" : 8206\n, \"rlm\" : 8207\n, \"ndash\" : 8211\n, \"mdash\" : 8212\n, \"lsquo\" : 8216\n, \"rsquo\" : 8217\n, \"sbquo\" : 8218\n, \"ldquo\" : 8220\n, \"rdquo\" : 8221\n, \"bdquo\" : 8222\n, \"dagger\" : 8224\n, \"Dagger\" : 8225\n, \"bull\" : 8226\n, \"hellip\" : 8230\n, \"permil\" : 8240\n, \"prime\" : 8242\n, \"Prime\" : 8243\n, \"lsaquo\" : 8249\n, \"rsaquo\" : 8250\n, \"oline\" : 8254\n, \"frasl\" : 8260\n, \"euro\" : 8364\n, \"image\" : 8465\n, \"weierp\" : 8472\n, \"real\" : 8476\n, \"trade\" : 8482\n, \"alefsym\" : 8501\n, \"larr\" : 8592\n, \"uarr\" : 8593\n, \"rarr\" : 8594\n, \"darr\" : 8595\n, \"harr\" : 8596\n, \"crarr\" : 8629\n, \"lArr\" : 8656\n, \"uArr\" : 8657\n, \"rArr\" : 8658\n, \"dArr\" : 8659\n, \"hArr\" : 8660\n, \"forall\" : 8704\n, \"part\" : 8706\n, \"exist\" : 8707\n, \"empty\" : 8709\n, \"nabla\" : 8711\n, \"isin\" : 8712\n, \"notin\" : 8713\n, \"ni\" : 8715\n, \"prod\" : 8719\n, \"sum\" : 8721\n, \"minus\" : 8722\n, \"lowast\" : 8727\n, \"radic\" : 8730\n, \"prop\" : 8733\n, \"infin\" : 8734\n, \"ang\" : 8736\n, \"and\" : 8743\n, \"or\" : 8744\n, \"cap\" : 8745\n, \"cup\" : 8746\n, \"int\" : 8747\n, \"there4\" : 8756\n, \"sim\" : 8764\n, \"cong\" : 8773\n, \"asymp\" : 8776\n, \"ne\" : 8800\n, \"equiv\" : 8801\n, \"le\" : 8804\n, \"ge\" : 8805\n, \"sub\" : 8834\n, \"sup\" : 8835\n, \"nsub\" : 8836\n, \"sube\" : 8838\n, \"supe\" : 8839\n, \"oplus\" : 8853\n, \"otimes\" : 8855\n, \"perp\" : 8869\n, \"sdot\" : 8901\n, \"lceil\" : 8968\n, \"rceil\" : 8969\n, \"lfloor\" : 8970\n, \"rfloor\" : 8971\n, \"lang\" : 9001\n, \"rang\" : 9002\n, \"loz\" : 9674\n, \"spades\" : 9824\n, \"clubs\" : 9827\n, \"hearts\" : 9829\n, \"diams\" : 9830\n}\n\nObject.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n})\n\nfor (var S in sax.STATE) sax.STATE[sax.STATE[S]] = S\n\n// shorthand\nS = sax.STATE\n\nfunction emit (parser, event, data) {\n  parser[event] && parser[event](data)\n}\n\nfunction emitNode (parser, nodeType, data) {\n  if (parser.textNode) closeText(parser)\n  emit(parser, nodeType, data)\n}\n\nfunction closeText (parser) {\n  parser.textNode = textopts(parser.opt, parser.textNode)\n  if (parser.textNode) emit(parser, \"ontext\", parser.textNode)\n  parser.textNode = \"\"\n}\n\nfunction textopts (opt, text) {\n  if (opt.trim) text = text.trim()\n  if (opt.normalize) text = text.replace(/\\s+/g, \" \")\n  return text\n}\n\nfunction error (parser, er) {\n  closeText(parser)\n  if (parser.trackPosition) {\n    er += \"\\nLine: \"+parser.line+\n          \"\\nColumn: \"+parser.column+\n          \"\\nChar: \"+parser.c\n  }\n  er = new Error(er)\n  parser.error = er\n  emit(parser, \"onerror\", er)\n  return parser\n}\n\nfunction end (parser) {\n  if (!parser.closedRoot) strictFail(parser, \"Unclosed root tag\")\n  if ((parser.state !== S.BEGIN) && (parser.state !== S.TEXT)) error(parser, \"Unexpected end\")\n  closeText(parser)\n  parser.c = \"\"\n  parser.closed = true\n  emit(parser, \"onend\")\n  SAXParser.call(parser, parser.strict, parser.opt)\n  return parser\n}\n\nfunction strictFail (parser, message) {\n  if (typeof parser !== 'object' || !(parser instanceof SAXParser))\n    throw new Error('bad call to strictFail');\n  if (parser.strict) error(parser, message)\n}\n\nfunction newTag (parser) {\n  if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n  var parent = parser.tags[parser.tags.length - 1] || parser\n    , tag = parser.tag = { name : parser.tagName, attributes : {} }\n\n  // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n  if (parser.opt.xmlns) tag.ns = parent.ns\n  parser.attribList.length = 0\n}\n\nfunction qname (name, attribute) {\n  var i = name.indexOf(\":\")\n    , qualName = i < 0 ? [ \"\", name ] : name.split(\":\")\n    , prefix = qualName[0]\n    , local = qualName[1]\n\n  // <x \"xmlns\"=\"http://foo\">\n  if (attribute && name === \"xmlns\") {\n    prefix = \"xmlns\"\n    local = \"\"\n  }\n\n  return { prefix: prefix, local: local }\n}\n\nfunction attrib (parser) {\n  if (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]()\n\n  if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n    return parser.attribName = parser.attribValue = \"\"\n  }\n\n  if (parser.opt.xmlns) {\n    var qn = qname(parser.attribName, true)\n      , prefix = qn.prefix\n      , local = qn.local\n\n    if (prefix === \"xmlns\") {\n      // namespace binding attribute; push the binding into scope\n      if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) {\n        strictFail( parser\n                  , \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) {\n        strictFail( parser\n                  , \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else {\n        var tag = parser.tag\n          , parent = parser.tags[parser.tags.length - 1] || parser\n        if (tag.ns === parent.ns) {\n          tag.ns = Object.create(parent.ns)\n        }\n        tag.ns[local] = parser.attribValue\n      }\n    }\n\n    // defer onattribute events until all attributes have been seen\n    // so any new bindings can take effect; preserve attribute order\n    // so deferred events can be emitted in document order\n    parser.attribList.push([parser.attribName, parser.attribValue])\n  } else {\n    // in non-xmlns mode, we can emit the event right away\n    parser.tag.attributes[parser.attribName] = parser.attribValue\n    emitNode( parser\n            , \"onattribute\"\n            , { name: parser.attribName\n              , value: parser.attribValue } )\n  }\n\n  parser.attribName = parser.attribValue = \"\"\n}\n\nfunction openTag (parser, selfClosing) {\n  if (parser.opt.xmlns) {\n    // emit namespace binding events\n    var tag = parser.tag\n\n    // add namespace info to tag\n    var qn = qname(parser.tagName)\n    tag.prefix = qn.prefix\n    tag.local = qn.local\n    tag.uri = tag.ns[qn.prefix] || \"\"\n\n    if (tag.prefix && !tag.uri) {\n      strictFail(parser, \"Unbound namespace prefix: \"\n                       + JSON.stringify(parser.tagName))\n      tag.uri = qn.prefix\n    }\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (tag.ns && parent.ns !== tag.ns) {\n      Object.keys(tag.ns).forEach(function (p) {\n        emitNode( parser\n                , \"onopennamespace\"\n                , { prefix: p , uri: tag.ns[p] } )\n      })\n    }\n\n    // handle deferred onattribute events\n    // Note: do not apply default ns to attributes:\n    //   http://www.w3.org/TR/REC-xml-names/#defaulting\n    for (var i = 0, l = parser.attribList.length; i < l; i ++) {\n      var nv = parser.attribList[i]\n      var name = nv[0]\n        , value = nv[1]\n        , qualName = qname(name, true)\n        , prefix = qualName.prefix\n        , local = qualName.local\n        , uri = prefix == \"\" ? \"\" : (tag.ns[prefix] || \"\")\n        , a = { name: name\n              , value: value\n              , prefix: prefix\n              , local: local\n              , uri: uri\n              }\n\n      // if there's any attributes with an undefined namespace,\n      // then fail on them now.\n      if (prefix && prefix != \"xmlns\" && !uri) {\n        strictFail(parser, \"Unbound namespace prefix: \"\n                         + JSON.stringify(prefix))\n        a.uri = prefix\n      }\n      parser.tag.attributes[name] = a\n      emitNode(parser, \"onattribute\", a)\n    }\n    parser.attribList.length = 0\n  }\n\n  parser.tag.isSelfClosing = !!selfClosing\n\n  // process the tag\n  parser.sawRoot = true\n  parser.tags.push(parser.tag)\n  emitNode(parser, \"onopentag\", parser.tag)\n  if (!selfClosing) {\n    // special case for <script> in non-strict mode.\n    if (!parser.noscript && parser.tagName.toLowerCase() === \"script\") {\n      parser.state = S.SCRIPT\n    } else {\n      parser.state = S.TEXT\n    }\n    parser.tag = null\n    parser.tagName = \"\"\n  }\n  parser.attribName = parser.attribValue = \"\"\n  parser.attribList.length = 0\n}\n\nfunction closeTag (parser) {\n  if (!parser.tagName) {\n    strictFail(parser, \"Weird empty close tag.\")\n    parser.textNode += \"</>\"\n    parser.state = S.TEXT\n    return\n  }\n\n  if (parser.script) {\n    if (parser.tagName !== \"script\") {\n      parser.script += \"</\" + parser.tagName + \">\"\n      parser.tagName = \"\"\n      parser.state = S.SCRIPT\n      return\n    }\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n\n  // first make sure that the closing tag actually exists.\n  // <a><b></c></b></a> will close everything, otherwise.\n  var t = parser.tags.length\n  var tagName = parser.tagName\n  if (!parser.strict) tagName = tagName[parser.looseCase]()\n  var closeTo = tagName\n  while (t --) {\n    var close = parser.tags[t]\n    if (close.name !== closeTo) {\n      // fail the first time in strict mode\n      strictFail(parser, \"Unexpected close tag\")\n    } else break\n  }\n\n  // didn't find it.  we already failed for strict, so just abort.\n  if (t < 0) {\n    strictFail(parser, \"Unmatched closing tag: \"+parser.tagName)\n    parser.textNode += \"</\" + parser.tagName + \">\"\n    parser.state = S.TEXT\n    return\n  }\n  parser.tagName = tagName\n  var s = parser.tags.length\n  while (s --> t) {\n    var tag = parser.tag = parser.tags.pop()\n    parser.tagName = parser.tag.name\n    emitNode(parser, \"onclosetag\", parser.tagName)\n\n    var x = {}\n    for (var i in tag.ns) x[i] = tag.ns[i]\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (parser.opt.xmlns && tag.ns !== parent.ns) {\n      // remove namespace bindings introduced by tag\n      Object.keys(tag.ns).forEach(function (p) {\n        var n = tag.ns[p]\n        emitNode(parser, \"onclosenamespace\", { prefix: p, uri: n })\n      })\n    }\n  }\n  if (t === 0) parser.closedRoot = true\n  parser.tagName = parser.attribValue = parser.attribName = \"\"\n  parser.attribList.length = 0\n  parser.state = S.TEXT\n}\n\nfunction parseEntity (parser) {\n  var entity = parser.entity\n    , entityLC = entity.toLowerCase()\n    , num\n    , numStr = \"\"\n  if (parser.ENTITIES[entity])\n    return parser.ENTITIES[entity]\n  if (parser.ENTITIES[entityLC])\n    return parser.ENTITIES[entityLC]\n  entity = entityLC\n  if (entity.charAt(0) === \"#\") {\n    if (entity.charAt(1) === \"x\") {\n      entity = entity.slice(2)\n      num = parseInt(entity, 16)\n      numStr = num.toString(16)\n    } else {\n      entity = entity.slice(1)\n      num = parseInt(entity, 10)\n      numStr = num.toString(10)\n    }\n  }\n  entity = entity.replace(/^0+/, \"\")\n  if (numStr.toLowerCase() !== entity) {\n    strictFail(parser, \"Invalid character entity\")\n    return \"&\"+parser.entity + \";\"\n  }\n\n  return String.fromCodePoint(num)\n}\n\nfunction write (chunk) {\n  var parser = this\n  if (this.error) throw this.error\n  if (parser.closed) return error(parser,\n    \"Cannot write after close. Assign an onready handler.\")\n  if (chunk === null) return end(parser)\n  var i = 0, c = \"\"\n  while (parser.c = c = chunk.charAt(i++)) {\n    if (parser.trackPosition) {\n      parser.position ++\n      if (c === \"\\n\") {\n        parser.line ++\n        parser.column = 0\n      } else parser.column ++\n    }\n    switch (parser.state) {\n\n      case S.BEGIN:\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else if (not(whitespace,c)) {\n          // have to process this as a text node.\n          // weird, but happens.\n          strictFail(parser, \"Non-whitespace before first tag.\")\n          parser.textNode = c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.TEXT:\n        if (parser.sawRoot && !parser.closedRoot) {\n          var starti = i-1\n          while (c && c!==\"<\" && c!==\"&\") {\n            c = chunk.charAt(i++)\n            if (c && parser.trackPosition) {\n              parser.position ++\n              if (c === \"\\n\") {\n                parser.line ++\n                parser.column = 0\n              } else parser.column ++\n            }\n          }\n          parser.textNode += chunk.substring(starti, i-1)\n        }\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else {\n          if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot))\n            strictFail(parser, \"Text data outside of root node.\")\n          if (c === \"&\") parser.state = S.TEXT_ENTITY\n          else parser.textNode += c\n        }\n      continue\n\n      case S.SCRIPT:\n        // only non-strict\n        if (c === \"<\") {\n          parser.state = S.SCRIPT_ENDING\n        } else parser.script += c\n      continue\n\n      case S.SCRIPT_ENDING:\n        if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n        } else {\n          parser.script += \"<\" + c\n          parser.state = S.SCRIPT\n        }\n      continue\n\n      case S.OPEN_WAKA:\n        // either a /, ?, !, or text is coming next.\n        if (c === \"!\") {\n          parser.state = S.SGML_DECL\n          parser.sgmlDecl = \"\"\n        } else if (is(whitespace, c)) {\n          // wait for it...\n        } else if (is(nameStart,c)) {\n          parser.state = S.OPEN_TAG\n          parser.tagName = c\n        } else if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n          parser.tagName = \"\"\n        } else if (c === \"?\") {\n          parser.state = S.PROC_INST\n          parser.procInstName = parser.procInstBody = \"\"\n        } else {\n          strictFail(parser, \"Unencoded <\")\n          // if there was some whitespace, then add that in.\n          if (parser.startTagPosition + 1 < parser.position) {\n            var pad = parser.position - parser.startTagPosition\n            c = new Array(pad).join(\" \") + c\n          }\n          parser.textNode += \"<\" + c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.SGML_DECL:\n        if ((parser.sgmlDecl+c).toUpperCase() === CDATA) {\n          emitNode(parser, \"onopencdata\")\n          parser.state = S.CDATA\n          parser.sgmlDecl = \"\"\n          parser.cdata = \"\"\n        } else if (parser.sgmlDecl+c === \"--\") {\n          parser.state = S.COMMENT\n          parser.comment = \"\"\n          parser.sgmlDecl = \"\"\n        } else if ((parser.sgmlDecl+c).toUpperCase() === DOCTYPE) {\n          parser.state = S.DOCTYPE\n          if (parser.doctype || parser.sawRoot) strictFail(parser,\n            \"Inappropriately located doctype declaration\")\n          parser.doctype = \"\"\n          parser.sgmlDecl = \"\"\n        } else if (c === \">\") {\n          emitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl)\n          parser.sgmlDecl = \"\"\n          parser.state = S.TEXT\n        } else if (is(quote, c)) {\n          parser.state = S.SGML_DECL_QUOTED\n          parser.sgmlDecl += c\n        } else parser.sgmlDecl += c\n      continue\n\n      case S.SGML_DECL_QUOTED:\n        if (c === parser.q) {\n          parser.state = S.SGML_DECL\n          parser.q = \"\"\n        }\n        parser.sgmlDecl += c\n      continue\n\n      case S.DOCTYPE:\n        if (c === \">\") {\n          parser.state = S.TEXT\n          emitNode(parser, \"ondoctype\", parser.doctype)\n          parser.doctype = true // just remember that we saw it.\n        } else {\n          parser.doctype += c\n          if (c === \"[\") parser.state = S.DOCTYPE_DTD\n          else if (is(quote, c)) {\n            parser.state = S.DOCTYPE_QUOTED\n            parser.q = c\n          }\n        }\n      continue\n\n      case S.DOCTYPE_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.q = \"\"\n          parser.state = S.DOCTYPE\n        }\n      continue\n\n      case S.DOCTYPE_DTD:\n        parser.doctype += c\n        if (c === \"]\") parser.state = S.DOCTYPE\n        else if (is(quote,c)) {\n          parser.state = S.DOCTYPE_DTD_QUOTED\n          parser.q = c\n        }\n      continue\n\n      case S.DOCTYPE_DTD_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.state = S.DOCTYPE_DTD\n          parser.q = \"\"\n        }\n      continue\n\n      case S.COMMENT:\n        if (c === \"-\") parser.state = S.COMMENT_ENDING\n        else parser.comment += c\n      continue\n\n      case S.COMMENT_ENDING:\n        if (c === \"-\") {\n          parser.state = S.COMMENT_ENDED\n          parser.comment = textopts(parser.opt, parser.comment)\n          if (parser.comment) emitNode(parser, \"oncomment\", parser.comment)\n          parser.comment = \"\"\n        } else {\n          parser.comment += \"-\" + c\n          parser.state = S.COMMENT\n        }\n      continue\n\n      case S.COMMENT_ENDED:\n        if (c !== \">\") {\n          strictFail(parser, \"Malformed comment\")\n          // allow <!-- blah -- bloo --> in non-strict mode,\n          // which is a comment of \" blah -- bloo \"\n          parser.comment += \"--\" + c\n          parser.state = S.COMMENT\n        } else parser.state = S.TEXT\n      continue\n\n      case S.CDATA:\n        if (c === \"]\") parser.state = S.CDATA_ENDING\n        else parser.cdata += c\n      continue\n\n      case S.CDATA_ENDING:\n        if (c === \"]\") parser.state = S.CDATA_ENDING_2\n        else {\n          parser.cdata += \"]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.CDATA_ENDING_2:\n        if (c === \">\") {\n          if (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata)\n          emitNode(parser, \"onclosecdata\")\n          parser.cdata = \"\"\n          parser.state = S.TEXT\n        } else if (c === \"]\") {\n          parser.cdata += \"]\"\n        } else {\n          parser.cdata += \"]]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.PROC_INST:\n        if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else if (is(whitespace, c)) parser.state = S.PROC_INST_BODY\n        else parser.procInstName += c\n      continue\n\n      case S.PROC_INST_BODY:\n        if (!parser.procInstBody && is(whitespace, c)) continue\n        else if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else parser.procInstBody += c\n      continue\n\n      case S.PROC_INST_ENDING:\n        if (c === \">\") {\n          emitNode(parser, \"onprocessinginstruction\", {\n            name : parser.procInstName,\n            body : parser.procInstBody\n          })\n          parser.procInstName = parser.procInstBody = \"\"\n          parser.state = S.TEXT\n        } else {\n          parser.procInstBody += \"?\" + c\n          parser.state = S.PROC_INST_BODY\n        }\n      continue\n\n      case S.OPEN_TAG:\n        if (is(nameBody, c)) parser.tagName += c\n        else {\n          newTag(parser)\n          if (c === \">\") openTag(parser)\n          else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n          else {\n            if (not(whitespace, c)) strictFail(\n              parser, \"Invalid character in tag name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.OPEN_TAG_SLASH:\n        if (c === \">\") {\n          openTag(parser, true)\n          closeTag(parser)\n        } else {\n          strictFail(parser, \"Forward-slash in opening tag not followed by >\")\n          parser.state = S.ATTRIB\n        }\n      continue\n\n      case S.ATTRIB:\n        // haven't read the attribute name yet.\n        if (is(whitespace, c)) continue\n        else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (c === \">\") {\n          strictFail(parser, \"Attribute without value\")\n          parser.attribValue = parser.attribName\n          attrib(parser)\n          openTag(parser)\n        }\n        else if (is(whitespace, c)) parser.state = S.ATTRIB_NAME_SAW_WHITE\n        else if (is(nameBody, c)) parser.attribName += c\n        else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME_SAW_WHITE:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (is(whitespace, c)) continue\n        else {\n          strictFail(parser, \"Attribute without value\")\n          parser.tag.attributes[parser.attribName] = \"\"\n          parser.attribValue = \"\"\n          emitNode(parser, \"onattribute\",\n                   { name : parser.attribName, value : \"\" })\n          parser.attribName = \"\"\n          if (c === \">\") openTag(parser)\n          else if (is(nameStart, c)) {\n            parser.attribName = c\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, \"Invalid attribute name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.ATTRIB_VALUE:\n        if (is(whitespace, c)) continue\n        else if (is(quote, c)) {\n          parser.q = c\n          parser.state = S.ATTRIB_VALUE_QUOTED\n        } else {\n          strictFail(parser, \"Unquoted attribute value\")\n          parser.state = S.ATTRIB_VALUE_UNQUOTED\n          parser.attribValue = c\n        }\n      continue\n\n      case S.ATTRIB_VALUE_QUOTED:\n        if (c !== parser.q) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        parser.q = \"\"\n        parser.state = S.ATTRIB_VALUE_CLOSED\n      continue\n\n      case S.ATTRIB_VALUE_CLOSED:\n        if (is(whitespace, c)) {\n          parser.state = S.ATTRIB\n        } else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          strictFail(parser, \"No whitespace between attributes\")\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_VALUE_UNQUOTED:\n        if (not(attribEnd,c)) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        if (c === \">\") openTag(parser)\n        else parser.state = S.ATTRIB\n      continue\n\n      case S.CLOSE_TAG:\n        if (!parser.tagName) {\n          if (is(whitespace, c)) continue\n          else if (not(nameStart, c)) {\n            if (parser.script) {\n              parser.script += \"</\" + c\n              parser.state = S.SCRIPT\n            } else {\n              strictFail(parser, \"Invalid tagname in closing tag.\")\n            }\n          } else parser.tagName = c\n        }\n        else if (c === \">\") closeTag(parser)\n        else if (is(nameBody, c)) parser.tagName += c\n        else if (parser.script) {\n          parser.script += \"</\" + parser.tagName\n          parser.tagName = \"\"\n          parser.state = S.SCRIPT\n        } else {\n          if (not(whitespace, c)) strictFail(parser,\n            \"Invalid tagname in closing tag\")\n          parser.state = S.CLOSE_TAG_SAW_WHITE\n        }\n      continue\n\n      case S.CLOSE_TAG_SAW_WHITE:\n        if (is(whitespace, c)) continue\n        if (c === \">\") closeTag(parser)\n        else strictFail(parser, \"Invalid characters in closing tag\")\n      continue\n\n      case S.TEXT_ENTITY:\n      case S.ATTRIB_VALUE_ENTITY_Q:\n      case S.ATTRIB_VALUE_ENTITY_U:\n        switch(parser.state) {\n          case S.TEXT_ENTITY:\n            var returnState = S.TEXT, buffer = \"textNode\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_Q:\n            var returnState = S.ATTRIB_VALUE_QUOTED, buffer = \"attribValue\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_U:\n            var returnState = S.ATTRIB_VALUE_UNQUOTED, buffer = \"attribValue\"\n          break\n        }\n        if (c === \";\") {\n          parser[buffer] += parseEntity(parser)\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n        else if (is(entity, c)) parser.entity += c\n        else {\n          strictFail(parser, \"Invalid character entity\")\n          parser[buffer] += \"&\" + parser.entity + c\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n      continue\n\n      default:\n        throw new Error(parser, \"Unknown state: \" + parser.state)\n    }\n  } // while\n  // cdata blocks can get very big under normal conditions. emit and move on.\n  // if (parser.state === S.CDATA && parser.cdata) {\n  //   emitNode(parser, \"oncdata\", parser.cdata)\n  //   parser.cdata = \"\"\n  // }\n  if (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser)\n  return parser\n}\n\n/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\nif (!String.fromCodePoint) {\n        (function() {\n                var stringFromCharCode = String.fromCharCode;\n                var floor = Math.floor;\n                var fromCodePoint = function() {\n                        var MAX_SIZE = 0x4000;\n                        var codeUnits = [];\n                        var highSurrogate;\n                        var lowSurrogate;\n                        var index = -1;\n                        var length = arguments.length;\n                        if (!length) {\n                                return '';\n                        }\n                        var result = '';\n                        while (++index < length) {\n                                var codePoint = Number(arguments[index]);\n                                if (\n                                        !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                                        codePoint < 0 || // not a valid Unicode code point\n                                        codePoint > 0x10FFFF || // not a valid Unicode code point\n                                        floor(codePoint) != codePoint // not an integer\n                                ) {\n                                        throw RangeError('Invalid code point: ' + codePoint);\n                                }\n                                if (codePoint <= 0xFFFF) { // BMP code point\n                                        codeUnits.push(codePoint);\n                                } else { // Astral code point; split in surrogate halves\n                                        // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                                        codePoint -= 0x10000;\n                                        highSurrogate = (codePoint >> 10) + 0xD800;\n                                        lowSurrogate = (codePoint % 0x400) + 0xDC00;\n                                        codeUnits.push(highSurrogate, lowSurrogate);\n                                }\n                                if (index + 1 == length || codeUnits.length > MAX_SIZE) {\n                                        result += stringFromCharCode.apply(null, codeUnits);\n                                        codeUnits.length = 0;\n                                }\n                        }\n                        return result;\n                };\n                if (Object.defineProperty) {\n                        Object.defineProperty(String, 'fromCodePoint', {\n                                'value': fromCodePoint,\n                                'configurable': true,\n                                'writable': true\n                        });\n                } else {\n                        String.fromCodePoint = fromCodePoint;\n                }\n        }());\n}\n\n})(typeof exports === \"undefined\" ? sax = {} : exports)\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":25,\"stream\":34,\"string_decoder\":35}],58:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value\");\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return create(XMLAttribute.prototype, this);\n    };\n\n    XMLAttribute.prototype.toString = function(options, level) {\n      return ' ' + this.name + '=\"' + this.value + '\"';\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":87}],59:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, pretty, r, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLDeclaration\":66,\"./XMLDocType\":67,\"./XMLElement\":68,\"./XMLStringifier\":72}],60:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLCData, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(_super) {\n    __extends(XMLCData, _super);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return create(XMLCData.prototype, this);\n    };\n\n    XMLCData.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<![CDATA[' + this.text + ']]>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":69,\"lodash-node/modern/objects/create\":87}],61:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLComment, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(_super) {\n    __extends(XMLComment, _super);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return create(XMLComment.prototype, this);\n    };\n\n    XMLComment.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!-- ' + this.text + ' -->';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":69,\"lodash-node/modern/objects/create\":87}],62:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDAttList, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLDTDAttList = (function() {\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      this.stringify = parent.stringify;\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.clone = function() {\n      return create(XMLDTDAttList.prototype, this);\n    };\n\n    XMLDTDAttList.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ATTLIST ' + this.elementName + ' ' + this.attributeName + ' ' + this.attributeType;\n      if (this.defaultValueType !== '#DEFAULT') {\n        r += ' ' + this.defaultValueType;\n      }\n      if (this.defaultValue) {\n        r += ' \"' + this.defaultValue + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDAttList;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":87}],63:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDElement, create, isArray;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  module.exports = XMLDTDElement = (function() {\n    function XMLDTDElement(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.clone = function() {\n      return create(XMLDTDElement.prototype, this);\n    };\n\n    XMLDTDElement.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ELEMENT ' + this.name + ' ' + this.value + '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDElement;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":87,\"lodash-node/modern/objects/isArray\":89}],64:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDEntity, create, isObject;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  module.exports = XMLDTDEntity = (function() {\n    function XMLDTDEntity(parent, pe, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.clone = function() {\n      return create(XMLDTDEntity.prototype, this);\n    };\n\n    XMLDTDEntity.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ENTITY';\n      if (this.pe) {\n        r += ' %';\n      }\n      r += ' ' + this.name;\n      if (this.value) {\n        r += ' \"' + this.value + '\"';\n      } else {\n        if (this.pubID && this.sysID) {\n          r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n        } else if (this.sysID) {\n          r += ' SYSTEM \"' + this.sysID + '\"';\n        }\n        if (this.nData) {\n          r += ' NDATA ' + this.nData;\n        }\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDEntity;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":87,\"lodash-node/modern/objects/isObject\":92}],65:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDNotation, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLDTDNotation = (function() {\n    function XMLDTDNotation(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.clone = function() {\n      return create(XMLDTDNotation.prototype, this);\n    };\n\n    XMLDTDNotation.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!NOTATION ' + this.name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.pubID) {\n        r += ' PUBLIC \"' + this.pubID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDNotation;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":87}],66:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDeclaration, XMLNode, create, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(_super) {\n    __extends(XMLDeclaration, _super);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var _ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        _ref = version, version = _ref.version, encoding = _ref.encoding, standalone = _ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      if (version != null) {\n        this.version = this.stringify.xmlVersion(version);\n      }\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.clone = function() {\n      return create(XMLDeclaration.prototype, this);\n    };\n\n    XMLDeclaration.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?xml';\n      if (this.version != null) {\n        r += ' version=\"' + this.version + '\"';\n      }\n      if (this.encoding != null) {\n        r += ' encoding=\"' + this.encoding + '\"';\n      }\n      if (this.standalone != null) {\n        r += ' standalone=\"' + this.standalone + '\"';\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":69,\"lodash-node/modern/objects/create\":87,\"lodash-node/modern/objects/isObject\":92}],67:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDocType, create, isObject;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  module.exports = XMLDocType = (function() {\n    function XMLDocType(parent, pubID, sysID) {\n      var _ref, _ref1;\n      this.documentObject = parent;\n      this.stringify = this.documentObject.stringify;\n      this.children = [];\n      if (isObject(pubID)) {\n        _ref = pubID, pubID = _ref.pubID, sysID = _ref.sysID;\n      }\n      if (sysID == null) {\n        _ref1 = [pubID, sysID], sysID = _ref1[0], pubID = _ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.clone = function() {\n      return create(XMLDocType.prototype, this);\n    };\n\n    XMLDocType.prototype.element = function(name, value) {\n      var XMLDTDElement, child;\n      XMLDTDElement = require('./XMLDTDElement');\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var XMLDTDAttList, child;\n      XMLDTDAttList = require('./XMLDTDAttList');\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var XMLDTDEntity, child;\n      XMLDTDEntity = require('./XMLDTDEntity');\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var XMLDTDEntity, child;\n      XMLDTDEntity = require('./XMLDTDEntity');\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var XMLDTDNotation, child;\n      XMLDTDNotation = require('./XMLDTDNotation');\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.cdata = function(value) {\n      var XMLCData, child;\n      XMLCData = require('./XMLCData');\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.comment = function(value) {\n      var XMLComment, child;\n      XMLComment = require('./XMLComment');\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.instruction = function(target, value) {\n      var XMLProcessingInstruction, child;\n      XMLProcessingInstruction = require('./XMLProcessingInstruction');\n      child = new XMLProcessingInstruction(this, target, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.root = function() {\n      return this.documentObject.root();\n    };\n\n    XMLDocType.prototype.document = function() {\n      return this.documentObject;\n    };\n\n    XMLDocType.prototype.toString = function(options, level) {\n      var child, indent, newline, pretty, r, space, _i, _len, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!DOCTYPE ' + this.root().name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      if (this.children.length > 0) {\n        r += ' [';\n        if (pretty) {\n          r += newline;\n        }\n        _ref2 = this.children;\n        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n          child = _ref2[_i];\n          r += child.toString(options, level + 1);\n        }\n        r += ']';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocType.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocType.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root();\n    };\n\n    XMLDocType.prototype.doc = function() {\n      return this.document();\n    };\n\n    return XMLDocType;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":60,\"./XMLComment\":61,\"./XMLDTDAttList\":62,\"./XMLDTDElement\":63,\"./XMLDTDEntity\":64,\"./XMLDTDNotation\":65,\"./XMLProcessingInstruction\":70,\"lodash-node/modern/objects/create\":87,\"lodash-node/modern/objects/isObject\":92}],68:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, XMLProcessingInstruction, create, isArray, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  isFunction = require('lodash-node/modern/objects/isFunction');\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLElement = (function(_super) {\n    __extends(XMLElement, _super);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.children = [];\n      this.instructions = [];\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, pi, _i, _len, _ref, _ref1;\n      clonedSelf = create(XMLElement.prototype, this);\n      clonedSelf.attributes = {};\n      _ref = this.attributes;\n      for (attName in _ref) {\n        if (!__hasProp.call(_ref, attName)) continue;\n        att = _ref[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.instructions = [];\n      _ref1 = this.instructions;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        pi = _ref1[_i];\n        clonedSelf.instructions.push(pi.clone());\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!__hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, _i, _len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          attName = name[_i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, _i, _len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (isArray(target)) {\n        for (_i = 0, _len = target.length; _i < _len; _i++) {\n          insTarget = target[_i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!__hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.instructions.push(instruction);\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options, level) {\n      var att, child, indent, instruction, name, newline, pretty, r, space, _i, _j, _len, _len1, _ref, _ref1, _ref2, _ref3, _ref4;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      _ref2 = this.instructions;\n      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n        instruction = _ref2[_i];\n        r += instruction.toString(options, level + 1);\n      }\n      if (pretty) {\n        r += space;\n      }\n      r += '<' + this.name;\n      _ref3 = this.attributes;\n      for (name in _ref3) {\n        if (!__hasProp.call(_ref3, name)) continue;\n        att = _ref3[name];\n        r += att.toString(options);\n      }\n      if (this.children.length === 0) {\n        r += '/>';\n        if (pretty) {\n          r += newline;\n        }\n      } else if (pretty && this.children.length === 1 && (this.children[0].value != null)) {\n        r += '>';\n        r += this.children[0].value;\n        r += '</' + this.name + '>';\n        r += newline;\n      } else {\n        r += '>';\n        if (pretty) {\n          r += newline;\n        }\n        _ref4 = this.children;\n        for (_j = 0, _len1 = _ref4.length; _j < _len1; _j++) {\n          child = _ref4[_j];\n          r += child.toString(options, level + 1);\n        }\n        if (pretty) {\n          r += space;\n        }\n        r += '</' + this.name + '>';\n        if (pretty) {\n          r += newline;\n        }\n      }\n      return r;\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLAttribute\":58,\"./XMLNode\":69,\"./XMLProcessingInstruction\":70,\"lodash-node/modern/objects/create\":87,\"lodash-node/modern/objects/isArray\":89,\"lodash-node/modern/objects/isFunction\":91,\"lodash-node/modern/objects/isObject\":92}],69:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, isArray, isEmpty, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty;\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  isFunction = require('lodash-node/modern/objects/isFunction');\n\n  isEmpty = require('lodash-node/modern/objects/isEmpty');\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      this.options = this.parent.options;\n      this.stringify = this.parent.stringify;\n    }\n\n    XMLNode.prototype.clone = function() {\n      throw new Error(\"Cannot clone generic XMLNode\");\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var item, key, lastChild, val, _i, _len, _ref;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          item = name[_i];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!__hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && key.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(key.substr(this.stringify.convertPIKey.length), val);\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertListKey && key.indexOf(this.stringify.convertListKey) === 0 && isArray(val)) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, _ref;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(_ref = [])), _ref;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var XMLElement, child, _ref;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      XMLElement = require('./XMLElement');\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var XMLText, child;\n      XMLText = require('./XMLText');\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var XMLCData, child;\n      XMLCData = require('./XMLCData');\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var XMLComment, child;\n      XMLComment = require('./XMLComment');\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var XMLRaw, child;\n      XMLRaw = require('./XMLRaw');\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var XMLDeclaration, doc, xmldec;\n      doc = this.document();\n      XMLDeclaration = require('./XMLDeclaration');\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      doc.xmldec = xmldec;\n      return doc.root();\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var XMLDocType, doc, doctype;\n      doc = this.document();\n      XMLDocType = require('./XMLDocType');\n      doctype = new XMLDocType(doc, pubID, sysID);\n      doc.doctype = doctype;\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var child;\n      if (this.isRoot) {\n        return this;\n      }\n      child = this.parent;\n      while (!child.isRoot) {\n        child = child.parent;\n      }\n      return child;\n    };\n\n    XMLNode.prototype.document = function() {\n      return this.root().documentObject;\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().toString(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(xmlbuilder) {\n      var clonedRoot;\n      clonedRoot = xmlbuilder.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":60,\"./XMLComment\":61,\"./XMLDeclaration\":66,\"./XMLDocType\":67,\"./XMLElement\":68,\"./XMLRaw\":71,\"./XMLText\":73,\"lodash-node/modern/objects/isArray\":89,\"lodash-node/modern/objects/isEmpty\":90,\"lodash-node/modern/objects/isFunction\":91,\"lodash-node/modern/objects/isObject\":92}],70:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLProcessingInstruction, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLProcessingInstruction = (function() {\n    function XMLProcessingInstruction(parent, target, value) {\n      this.stringify = parent.stringify;\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return create(XMLProcessingInstruction.prototype, this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?';\n      r += this.target;\n      if (this.value) {\n        r += ' ' + this.value;\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLProcessingInstruction;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":87}],71:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLRaw, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(_super) {\n    __extends(XMLRaw, _super);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return create(XMLRaw.prototype, this);\n    };\n\n    XMLRaw.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":69,\"lodash-node/modern/objects/create\":87}],72:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLStringifier,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    __hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = __bind(this.assertLegalChar, this);\n      var key, value, _ref;\n      this.allowSurrogateChars = options != null ? options.allowSurrogateChars : void 0;\n      _ref = (options != null ? options.stringify : void 0) || {};\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      if (val.match(/]]>/)) {\n        throw new Error(\"Invalid CDATA text: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/)) {\n        throw new Error(\"Invalid encoding: \" + options.val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.convertListKey = '#list';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var chars, chr;\n      if (this.allowSurrogateChars) {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uFFFE-\\uFFFF]/;\n      } else {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE-\\uFFFF]/;\n      }\n      chr = str.match(chars);\n      if (chr) {\n        throw new Error(\"Invalid character (\" + chr + \") in string: \" + str + \" at index \" + chr.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n\n},{}],73:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLText, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(_super) {\n    __extends(XMLText, _super);\n\n    function XMLText(parent, text) {\n      this.parent = parent;\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return create(XMLText.prototype, this);\n    };\n\n    XMLText.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":69,\"lodash-node/modern/objects/create\":87}],74:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, assign;\n\n  assign = require('lodash-node/modern/objects/assign');\n\n  XMLBuilder = require('./XMLBuilder');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    options = assign({}, xmldec, doctype, options);\n    return new XMLBuilder(name, options).root();\n  };\n\n}).call(this);\n\n},{\"./XMLBuilder\":59,\"lodash-node/modern/objects/assign\":86}],75:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar createWrapper = require('../internals/createWrapper'),\n    slice = require('../internals/slice');\n\n/**\n * Creates a function that, when called, invokes `func` with the `this`\n * binding of `thisArg` and prepends any additional `bind` arguments to those\n * provided to the bound function.\n *\n * @static\n * @memberOf _\n * @category Functions\n * @param {Function} func The function to bind.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {...*} [arg] Arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * var func = function(greeting) {\n *   return greeting + ' ' + this.name;\n * };\n *\n * func = _.bind(func, { 'name': 'fred' }, 'hi');\n * func();\n * // => 'hi fred'\n */\nfunction bind(func, thisArg) {\n  return arguments.length > 2\n    ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n    : createWrapper(func, 1, null, null, thisArg);\n}\n\nmodule.exports = bind;\n\n},{\"../internals/createWrapper\":80,\"../internals/slice\":85}],76:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreate = require('./baseCreate'),\n    isObject = require('../objects/isObject'),\n    setBindData = require('./setBindData'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push;\n\n/**\n * The base implementation of `_.bind` that creates the bound function and\n * sets its meta data.\n *\n * @private\n * @param {Array} bindData The bind data array.\n * @returns {Function} Returns the new bound function.\n */\nfunction baseBind(bindData) {\n  var func = bindData[0],\n      partialArgs = bindData[2],\n      thisArg = bindData[4];\n\n  function bound() {\n    // `Function#bind` spec\n    // http://es5.github.io/#x15.3.4.5\n    if (partialArgs) {\n      // avoid `arguments` object deoptimizations by using `slice` instead\n      // of `Array.prototype.slice.call` and not assigning `arguments` to a\n      // variable as a ternary expression\n      var args = slice(partialArgs);\n      push.apply(args, arguments);\n    }\n    // mimic the constructor's `return` behavior\n    // http://es5.github.io/#x13.2.2\n    if (this instanceof bound) {\n      // ensure `new bound` is an instance of `func`\n      var thisBinding = baseCreate(func.prototype),\n          result = func.apply(thisBinding, args || arguments);\n      return isObject(result) ? result : thisBinding;\n    }\n    return func.apply(thisArg, args || arguments);\n  }\n  setBindData(bound, bindData);\n  return bound;\n}\n\nmodule.exports = baseBind;\n\n},{\"../objects/isObject\":92,\"./baseCreate\":77,\"./setBindData\":83,\"./slice\":85}],77:[function(require,module,exports){\n(function (global){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./isNative'),\n    isObject = require('../objects/isObject'),\n    noop = require('../utilities/noop');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(prototype, properties) {\n  return isObject(prototype) ? nativeCreate(prototype) : {};\n}\n// fallback for browsers without `Object.create`\nif (!nativeCreate) {\n  baseCreate = (function() {\n    function Object() {}\n    return function(prototype) {\n      if (isObject(prototype)) {\n        Object.prototype = prototype;\n        var result = new Object;\n        Object.prototype = null;\n      }\n      return result || global.Object();\n    };\n  }());\n}\n\nmodule.exports = baseCreate;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../objects/isObject\":92,\"../utilities/noop\":96,\"./isNative\":81}],78:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar bind = require('../functions/bind'),\n    identity = require('../utilities/identity'),\n    setBindData = require('./setBindData'),\n    support = require('../support');\n\n/** Used to detected named functions */\nvar reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n/** Used to detect functions containing a `this` reference */\nvar reThis = /\\bthis\\b/;\n\n/** Native method shortcuts */\nvar fnToString = Function.prototype.toString;\n\n/**\n * The base implementation of `_.createCallback` without support for creating\n * \"_.pluck\" or \"_.where\" style callbacks.\n *\n * @private\n * @param {*} [func=identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of the created callback.\n * @param {number} [argCount] The number of arguments the callback accepts.\n * @returns {Function} Returns a callback function.\n */\nfunction baseCreateCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  // exit early for no `thisArg` or already bound by `Function#bind`\n  if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n    return func;\n  }\n  var bindData = func.__bindData__;\n  if (typeof bindData == 'undefined') {\n    if (support.funcNames) {\n      bindData = !func.name;\n    }\n    bindData = bindData || !support.funcDecomp;\n    if (!bindData) {\n      var source = fnToString.call(func);\n      if (!support.funcNames) {\n        bindData = !reFuncName.test(source);\n      }\n      if (!bindData) {\n        // checks if `func` references the `this` keyword and stores the result\n        bindData = reThis.test(source);\n        setBindData(func, bindData);\n      }\n    }\n  }\n  // exit early if there are no `this` references or `func` is bound\n  if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 2: return function(a, b) {\n      return func.call(thisArg, a, b);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n  }\n  return bind(func, thisArg);\n}\n\nmodule.exports = baseCreateCallback;\n\n},{\"../functions/bind\":75,\"../support\":94,\"../utilities/identity\":95,\"./setBindData\":83}],79:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreate = require('./baseCreate'),\n    isObject = require('../objects/isObject'),\n    setBindData = require('./setBindData'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push;\n\n/**\n * The base implementation of `createWrapper` that creates the wrapper and\n * sets its meta data.\n *\n * @private\n * @param {Array} bindData The bind data array.\n * @returns {Function} Returns the new function.\n */\nfunction baseCreateWrapper(bindData) {\n  var func = bindData[0],\n      bitmask = bindData[1],\n      partialArgs = bindData[2],\n      partialRightArgs = bindData[3],\n      thisArg = bindData[4],\n      arity = bindData[5];\n\n  var isBind = bitmask & 1,\n      isBindKey = bitmask & 2,\n      isCurry = bitmask & 4,\n      isCurryBound = bitmask & 8,\n      key = func;\n\n  function bound() {\n    var thisBinding = isBind ? thisArg : this;\n    if (partialArgs) {\n      var args = slice(partialArgs);\n      push.apply(args, arguments);\n    }\n    if (partialRightArgs || isCurry) {\n      args || (args = slice(arguments));\n      if (partialRightArgs) {\n        push.apply(args, partialRightArgs);\n      }\n      if (isCurry && args.length < arity) {\n        bitmask |= 16 & ~32;\n        return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n      }\n    }\n    args || (args = arguments);\n    if (isBindKey) {\n      func = thisBinding[key];\n    }\n    if (this instanceof bound) {\n      thisBinding = baseCreate(func.prototype);\n      var result = func.apply(thisBinding, args);\n      return isObject(result) ? result : thisBinding;\n    }\n    return func.apply(thisBinding, args);\n  }\n  setBindData(bound, bindData);\n  return bound;\n}\n\nmodule.exports = baseCreateWrapper;\n\n},{\"../objects/isObject\":92,\"./baseCreate\":77,\"./setBindData\":83,\"./slice\":85}],80:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseBind = require('./baseBind'),\n    baseCreateWrapper = require('./baseCreateWrapper'),\n    isFunction = require('../objects/isFunction'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push,\n    unshift = arrayRef.unshift;\n\n/**\n * Creates a function that, when called, either curries or invokes `func`\n * with an optional `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to reference.\n * @param {number} bitmask The bitmask of method flags to compose.\n *  The bitmask may be composed of the following flags:\n *  1 - `_.bind`\n *  2 - `_.bindKey`\n *  4 - `_.curry`\n *  8 - `_.curry` (bound)\n *  16 - `_.partial`\n *  32 - `_.partialRight`\n * @param {Array} [partialArgs] An array of arguments to prepend to those\n *  provided to the new function.\n * @param {Array} [partialRightArgs] An array of arguments to append to those\n *  provided to the new function.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new function.\n */\nfunction createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n  var isBind = bitmask & 1,\n      isBindKey = bitmask & 2,\n      isCurry = bitmask & 4,\n      isCurryBound = bitmask & 8,\n      isPartial = bitmask & 16,\n      isPartialRight = bitmask & 32;\n\n  if (!isBindKey && !isFunction(func)) {\n    throw new TypeError;\n  }\n  if (isPartial && !partialArgs.length) {\n    bitmask &= ~16;\n    isPartial = partialArgs = false;\n  }\n  if (isPartialRight && !partialRightArgs.length) {\n    bitmask &= ~32;\n    isPartialRight = partialRightArgs = false;\n  }\n  var bindData = func && func.__bindData__;\n  if (bindData && bindData !== true) {\n    // clone `bindData`\n    bindData = slice(bindData);\n    if (bindData[2]) {\n      bindData[2] = slice(bindData[2]);\n    }\n    if (bindData[3]) {\n      bindData[3] = slice(bindData[3]);\n    }\n    // set `thisBinding` is not previously bound\n    if (isBind && !(bindData[1] & 1)) {\n      bindData[4] = thisArg;\n    }\n    // set if previously bound but not currently (subsequent curried functions)\n    if (!isBind && bindData[1] & 1) {\n      bitmask |= 8;\n    }\n    // set curried arity if not yet set\n    if (isCurry && !(bindData[1] & 4)) {\n      bindData[5] = arity;\n    }\n    // append partial left arguments\n    if (isPartial) {\n      push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n    }\n    // append partial right arguments\n    if (isPartialRight) {\n      unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n    }\n    // merge flags\n    bindData[1] |= bitmask;\n    return createWrapper.apply(null, bindData);\n  }\n  // fast path for `_.bind`\n  var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n  return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n}\n\nmodule.exports = createWrapper;\n\n},{\"../objects/isFunction\":91,\"./baseBind\":76,\"./baseCreateWrapper\":79,\"./slice\":85}],81:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/** Used to detect if a method is native */\nvar reNative = RegExp('^' +\n  String(toString)\n    .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n */\nfunction isNative(value) {\n  return typeof value == 'function' && reNative.test(value);\n}\n\nmodule.exports = isNative;\n\n},{}],82:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used to determine if values are of the language type Object */\nvar objectTypes = {\n  'boolean': false,\n  'function': true,\n  'object': true,\n  'number': false,\n  'string': false,\n  'undefined': false\n};\n\nmodule.exports = objectTypes;\n\n},{}],83:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./isNative'),\n    noop = require('../utilities/noop');\n\n/** Used as the property descriptor for `__bindData__` */\nvar descriptor = {\n  'configurable': false,\n  'enumerable': false,\n  'value': null,\n  'writable': false\n};\n\n/** Used to set meta data on functions */\nvar defineProperty = (function() {\n  // IE 8 only accepts DOM elements\n  try {\n    var o = {},\n        func = isNative(func = Object.defineProperty) && func,\n        result = func(o, o, o) && func;\n  } catch(e) { }\n  return result;\n}());\n\n/**\n * Sets `this` binding data on a given function.\n *\n * @private\n * @param {Function} func The function to set data on.\n * @param {Array} value The data array to set.\n */\nvar setBindData = !defineProperty ? noop : function(func, value) {\n  descriptor.value = value;\n  defineProperty(func, '__bindData__', descriptor);\n};\n\nmodule.exports = setBindData;\n\n},{\"../utilities/noop\":96,\"./isNative\":81}],84:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('./objectTypes');\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Native method shortcuts */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A fallback implementation of `Object.keys` which produces an array of the\n * given object's own enumerable property names.\n *\n * @private\n * @type Function\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns an array of property names.\n */\nvar shimKeys = function(object) {\n  var index, iterable = object, result = [];\n  if (!iterable) return result;\n  if (!(objectTypes[typeof object])) return result;\n    for (index in iterable) {\n      if (hasOwnProperty.call(iterable, index)) {\n        result.push(index);\n      }\n    }\n  return result\n};\n\nmodule.exports = shimKeys;\n\n},{\"./objectTypes\":82}],85:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Slices the `collection` from the `start` index up to, but not including,\n * the `end` index.\n *\n * Note: This function is used instead of `Array#slice` to support node lists\n * in IE < 9 and to ensure dense arrays are returned.\n *\n * @private\n * @param {Array|Object|string} collection The collection to slice.\n * @param {number} start The start index.\n * @param {number} end The end index.\n * @returns {Array} Returns the new array.\n */\nfunction slice(array, start, end) {\n  start || (start = 0);\n  if (typeof end == 'undefined') {\n    end = array ? array.length : 0;\n  }\n  var index = -1,\n      length = end - start || 0,\n      result = Array(length < 0 ? 0 : length);\n\n  while (++index < length) {\n    result[index] = array[start + index];\n  }\n  return result;\n}\n\nmodule.exports = slice;\n\n},{}],86:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreateCallback = require('../internals/baseCreateCallback'),\n    keys = require('./keys'),\n    objectTypes = require('../internals/objectTypes');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources will overwrite property assignments of previous\n * sources. If a callback is provided it will be executed to produce the\n * assigned values. The callback is bound to `thisArg` and invoked with two\n * arguments; (objectValue, sourceValue).\n *\n * @static\n * @memberOf _\n * @type Function\n * @alias extend\n * @category Objects\n * @param {Object} object The destination object.\n * @param {...Object} [source] The source objects.\n * @param {Function} [callback] The function to customize assigning values.\n * @param {*} [thisArg] The `this` binding of `callback`.\n * @returns {Object} Returns the destination object.\n * @example\n *\n * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n * // => { 'name': 'fred', 'employer': 'slate' }\n *\n * var defaults = _.partialRight(_.assign, function(a, b) {\n *   return typeof a == 'undefined' ? b : a;\n * });\n *\n * var object = { 'name': 'barney' };\n * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n * // => { 'name': 'barney', 'employer': 'slate' }\n */\nvar assign = function(object, source, guard) {\n  var index, iterable = object, result = iterable;\n  if (!iterable) return result;\n  var args = arguments,\n      argsIndex = 0,\n      argsLength = typeof guard == 'number' ? 2 : args.length;\n  if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n    var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n  } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n    callback = args[--argsLength];\n  }\n  while (++argsIndex < argsLength) {\n    iterable = args[argsIndex];\n    if (iterable && objectTypes[typeof iterable]) {\n    var ownIndex = -1,\n        ownProps = objectTypes[typeof iterable] && keys(iterable),\n        length = ownProps ? ownProps.length : 0;\n\n    while (++ownIndex < length) {\n      index = ownProps[ownIndex];\n      result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];\n    }\n    }\n  }\n  return result\n};\n\nmodule.exports = assign;\n\n},{\"../internals/baseCreateCallback\":78,\"../internals/objectTypes\":82,\"./keys\":93}],87:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar assign = require('./assign'),\n    baseCreate = require('../internals/baseCreate');\n\n/**\n * Creates an object that inherits from the given `prototype` object. If a\n * `properties` object is provided its own enumerable properties are assigned\n * to the created object.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties) {\n  var result = baseCreate(prototype);\n  return properties ? assign(result, properties) : result;\n}\n\nmodule.exports = create;\n\n},{\"../internals/baseCreate\":77,\"./assign\":86}],88:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreateCallback = require('../internals/baseCreateCallback'),\n    keys = require('./keys'),\n    objectTypes = require('../internals/objectTypes');\n\n/**\n * Iterates over own enumerable properties of an object, executing the callback\n * for each property. The callback is bound to `thisArg` and invoked with three\n * arguments; (value, key, object). Callbacks may exit iteration early by\n * explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Objects\n * @param {Object} object The object to iterate over.\n * @param {Function} [callback=identity] The function called per iteration.\n * @param {*} [thisArg] The `this` binding of `callback`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n *   console.log(key);\n * });\n * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n */\nvar forOwn = function(collection, callback, thisArg) {\n  var index, iterable = collection, result = iterable;\n  if (!iterable) return result;\n  if (!objectTypes[typeof iterable]) return result;\n  callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n    var ownIndex = -1,\n        ownProps = objectTypes[typeof iterable] && keys(iterable),\n        length = ownProps ? ownProps.length : 0;\n\n    while (++ownIndex < length) {\n      index = ownProps[ownIndex];\n      if (callback(iterable[index], index, collection) === false) return result;\n    }\n  return result\n};\n\nmodule.exports = forOwn;\n\n},{\"../internals/baseCreateCallback\":78,\"../internals/objectTypes\":82,\"./keys\":93}],89:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('../internals/isNative');\n\n/** `Object#toString` result shortcuts */\nvar arrayClass = '[object Array]';\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray;\n\n/**\n * Checks if `value` is an array.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n * @example\n *\n * (function() { return _.isArray(arguments); })();\n * // => false\n *\n * _.isArray([1, 2, 3]);\n * // => true\n */\nvar isArray = nativeIsArray || function(value) {\n  return value && typeof value == 'object' && typeof value.length == 'number' &&\n    toString.call(value) == arrayClass || false;\n};\n\nmodule.exports = isArray;\n\n},{\"../internals/isNative\":81}],90:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar forOwn = require('./forOwn'),\n    isFunction = require('./isFunction');\n\n/** `Object#toString` result shortcuts */\nvar argsClass = '[object Arguments]',\n    arrayClass = '[object Array]',\n    objectClass = '[object Object]',\n    stringClass = '[object String]';\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/**\n * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n * length of `0` and objects with no own enumerable properties are considered\n * \"empty\".\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Array|Object|string} value The value to inspect.\n * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({});\n * // => true\n *\n * _.isEmpty('');\n * // => true\n */\nfunction isEmpty(value) {\n  var result = true;\n  if (!value) {\n    return result;\n  }\n  var className = toString.call(value),\n      length = value.length;\n\n  if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n      (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n    return !length;\n  }\n  forOwn(value, function() {\n    return (result = false);\n  });\n  return result;\n}\n\nmodule.exports = isEmpty;\n\n},{\"./forOwn\":88,\"./isFunction\":91}],91:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Checks if `value` is a function.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n */\nfunction isFunction(value) {\n  return typeof value == 'function';\n}\n\nmodule.exports = isFunction;\n\n},{}],92:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('../internals/objectTypes');\n\n/**\n * Checks if `value` is the language type of Object.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // check if the value is the ECMAScript language type of Object\n  // http://es5.github.io/#x8\n  // and avoid a V8 bug\n  // http://code.google.com/p/v8/issues/detail?id=2291\n  return !!(value && objectTypes[typeof value]);\n}\n\nmodule.exports = isObject;\n\n},{\"../internals/objectTypes\":82}],93:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('../internals/isNative'),\n    isObject = require('./isObject'),\n    shimKeys = require('../internals/shimKeys');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n/**\n * Creates an array composed of the own enumerable property names of an object.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns an array of property names.\n * @example\n *\n * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  if (!isObject(object)) {\n    return [];\n  }\n  return nativeKeys(object);\n};\n\nmodule.exports = keys;\n\n},{\"../internals/isNative\":81,\"../internals/shimKeys\":84,\"./isObject\":92}],94:[function(require,module,exports){\n(function (global){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./internals/isNative');\n\n/** Used to detect functions containing a `this` reference */\nvar reThis = /\\bthis\\b/;\n\n/**\n * An object used to flag environments features.\n *\n * @static\n * @memberOf _\n * @type Object\n */\nvar support = {};\n\n/**\n * Detect if functions can be decompiled by `Function#toString`\n * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n *\n * @memberOf _.support\n * @type boolean\n */\nsupport.funcDecomp = !isNative(global.WinRTError) && reThis.test(function() { return this; });\n\n/**\n * Detect if `Function#name` is supported (all but IE).\n *\n * @memberOf _.support\n * @type boolean\n */\nsupport.funcNames = typeof Function.name == 'string';\n\nmodule.exports = support;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./internals/isNative\":81}],95:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'name': 'fred' };\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n},{}],96:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * A no-operation function.\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @example\n *\n * var object = { 'name': 'fred' };\n * _.noop(object) === undefined;\n * // => true\n */\nfunction noop() {\n  // no operation performed\n}\n\nmodule.exports = noop;\n\n},{}]},{},[3])(3)\n});"]}