{"version":3,"file":"jsforce-api-metadata.min.js","sources":["jsforce-api-metadata.js"],"names":["e","exports","module","define","amd","o","window","global","self","f","jsforce","modules","api","Metadata","t","n","r","s","u","a","require","i","Error","code","l","call","length",1,"process","Buffer","convertToSaveResult","result","saveResult","_","clone","success","convertToMetadataInfo","rec","metadataInfo","$","util","events","stream","Stream","Promise","SOAP","conn","this","_conn","prototype","pollInterval","pollTimeout","_invoke","method","message","callback","soapEndpoint","sessionId","accessToken","serverUrl","instanceUrl","version","xmlns","_transport","invoke","then","res","thenCall","createAsync","type","metadata","Number","convert","md","isArray","map","AsyncResultLocator","createSync","create","results","readSync","read","fullNames","records","updateAsync","updateMetadata","umd","updateSync","update","upsertSync","upsert","deleteAsync","isString","fullName","del","deleteSync","rename","oldFullName","newFullName","checkStatus","ids","asyncProcessId","describe","asOfVersion","metadataObjects","mo","childXmlNames","inFolder","metaFile","partialSaveAllowed","testRequired","list","queries","retrieve","request","RetrieveResultLocator","checkRetrieveStatus","id","deploy","zipInput","options","isFunction","deferred","defer","bufs","on","d","push","resolve","concat","resume","promise","zipContentBuffer","zipContentB64","toString","ZipFile","DeployOptions","DeployResultLocator","checkDeployStatus","includeDetails","isObject","isBoolean","done","checkOnly","ignoreWarnings","rollbackOnError","numberComponentErrors","numberComponentsDeployed","numberComponentsTotal","numberTestErrors","numberTestsCompleted","numberTestsTotal","meta","_meta","_results","_isArray","inherits","EventEmitter","onResolve","onReject","convertType","nextTick","err","check","poll","interval","timeout","startTime","Date","getTime","now","emit","resultArr","len","setTimeout","complete","reject","super_","rstream","readable","zipFile","../promise","../soap","_process","buffer",2,"parseHeaders","hs","headers","split","forEach","line","pair","name","toLowerCase","value","supported","Sfdc","canvas","createRequest","signedRequest","params","send","body","settings","client","data","contentType","responseHeaders","payload","JSON","stringify","response","statusCode","status","str","end","failure","ajax","url","Duplex","_read","sent","_write","chunk","encoding","join","test",3,"_index","jsonpParam","toUpperCase","cbFuncName","callbacks","indexOf","script","document","createElement","src","documentElement","appendChild","pid","cleanup","content-type","clearTimeout","removeChild",4,"xhr","XMLHttpRequest","open","header","setRequestHeader","onreadystatechange","readyState","getResponseHeader",5,"Q","_promise","apply","arguments","fail","when","reason","all","Deferred","_deferred","q",6,"lookupValue","obj","propRegExps","regexp","shift","prop","toXML","v","attrs","elems","k","substring","String","startTag","endTag","xml2js","Transport","transport","proxyUrl","ProxyTransport","args","soapEnvelope","_createEnvelope","httpRequest","Content-Type","SOAPAction","ret","parseString","explicitArray","error","./transport",7,"streamify","factory","_then","newPromise","normalizeApiHost","apiHost","m","exec","baseUrl","nodeRequest","xhrRequest","jsonp","defaults","followAllRedirects","env","HTTP_PROXY","proxy","HTTP_TIMEOUT","LOCATION_BASE_URL","location","host","req","_proxyUrl","proxyParams","Math","random","salesforceproxy-endpoint","./browser/canvas","./browser/jsonp","./browser/request","./promise",8,9,"/Users/stomita/Work/Salesforce/jsforce/node_modules/browserify/lib/_empty.js",10,"subject","noZero","base64clean","byteLength","floor","buf","TYPED_ARRAY_SUPPORT","_augment","Uint8Array","_isBuffer","_set","isArrayish","isBuffer","readUInt8","write","hexWrite","string","offset","remaining","strLen","assert","byte","parseInt","substr","isNaN","utf8Write","charsWritten","blitBuffer","utf8ToBytes","asciiWrite","asciiToBytes","binaryWrite","base64Write","base64ToBytes","utf16leWrite","utf16leToBytes","base64Slice","start","base64","fromByteArray","slice","utf8Slice","tmp","min","decodeUtf8Char","fromCharCode","asciiSlice","binarySlice","hexSlice","out","toHex","utf16leSlice","bytes","readUInt16","littleEndian","noAssert","undefined","val","readUInt32","readInt16","neg","readInt32","readFloat","ieee754","readDouble","writeUInt16","verifuint","j","writeUInt32","writeInt16","verifsint","writeInt32","writeFloat","verifIEEE754","writeDouble","stringtrim","replace","INVALID_BASE64_RE","trim","Array","Object","byteArray","b","charCodeAt","h","encodeURIComponent","c","hi","lo","toByteArray","dst","decodeURIComponent","max","SlowBuffer","INSPECT_MAX_BYTES","poolSize","ArrayBuffer","arr","foo","subarray","isEncoding","totalLength","pos","item","copy","compare","x","y","isFinite","swap","toJSON","_arr","equals","target","target_start","source","sliceLen","newBuf","get","console","log","set","writeUInt8","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","fill","inspect","toArrayBuffer","BP","_get","toLocaleString","base64-js",11,"lookup","decode","elt","PLUS","SLASH","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","placeHolders","charAt","Arr","uint8ToBase64","uint8","encode","num","tripletToBase64","temp","extraBytes","output","base64js",12,"isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","pow","rt","abs","LN2",13,"_events","_maxListeners","arg","isNumber","isUndefined","defaultMaxListeners","setMaxListeners","TypeError","er","handler","listeners","addListener","listener","newListener","warned","trace","once","g","removeListener","fired","position","splice","removeAllListeners","key","listenerCount","emitter",14,"ctor","superCtor","constructor","enumerable","writable","configurable","TempCtor",15,"noop","canSetImmediate","setImmediate","canPost","postMessage","addEventListener","queue","ev","stopPropagation","fn","title","browser","argv","off","binding","cwd","chdir",16,"EE","Readable","Writable","Transform","PassThrough","pipe","dest","ondata","pause","ondrain","onend","didOnEnd","onclose","destroy","onerror","_isStdio","readable-stream/duplex.js","readable-stream/passthrough.js","readable-stream/readable.js","readable-stream/transform.js","readable-stream/writable.js",17,"assertEncoding","passThroughWrite","utf16DetectIncompleteChar","incomplete","charReceived","charLength","base64DetectIncompleteChar","StringDecoder","surrogateSize","detectIncompleteChar","charBuffer","charStr","charCode","lenIncomplete","size","cr","enc",18,"definition","bootstrap","ses","ok","makeQ","uncurryThis","isStopIteration","exception","object_toString","QReturnValue","makeStackTraceLong","hasStacks","stack","STACK_JUMP_SEPARATOR","stacks","p","unshift","concatedStacks","filterStackString","stackString","lines","desiredLines","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qFileName","qStartingLine","qEndingLine","captureLine","firstLine","deprecate","alternative","warn","isPromise","isPromiseAlike","coerce","fulfill","become","resolvedPromise","array_reduce","messages","promiseDispatch","progressListeners","object_create","op","operands","array_slice","valueOf","nearerValue","nearer","state","longStackSupport","notify","progress","progressListener","resolver","race","answerPs","descriptor","fallback","inspected","fulfilled","rejected","progressed","object","isPending","isFulfilled","isRejected","displayUnhandledReasons","unhandledReasonsDisplayed","Touch","unhandledReasons","logUnhandledReasons","resetUnhandledRejections","unhandledRejections","trackUnhandledRejections","trackRejection","untrackRejection","at","array_indexOf","rejection","rhs","delete","post","thisp","keys","object_keys","master","isDef","dispatch","spread","async","makeGenerator","continuer","verb","hasES6Generators","generator","errback","bind","spawn","_return","promised","promises","countDown","index","snapshot","allResolved","array_map","allSettled","nodeify","nodeback","flush","head","next","task","domain","enter","isNodeJS","exit","flushing","tail","requestTick","MessageChannel","channel","port1","onmessage","requestPortTick","port2","Function","reduce","basis","collect","Type","object_hasOwnProperty","hasOwnProperty","ReturnValue","makeNodeResolver","passByCopy","that","makePromise","_fulfilled","_rejected","newException","_progressed","newValue","threw","thenResolve","thenReject","getUnhandledReasons","stopUnhandledRejectionTracking","array","mapply","mcall","fapply","fcall","fbind","regardless","fin","onUnhandledError","ms","timeoutId","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke",19,"./lib/_stream_duplex.js",20,"allowHalfOpen","_writableState","ended","xs","objectKeys","./_stream_readable","./_stream_writable","core-util-is",21,"_transform","cb","./_stream_transform",22,"ReadableState","hwm","highWaterMark","defaultHwm","objectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","readableObjectMode","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readableAddChunk","addToFront","chunkInvalid","isNullOrUndefined","onEofChunk","emitReadable","maybeReadMore","needMoreData","roundUpToNextPowerOf2","MAX_HWM","howMuchToRead","isNull","debug","emitReadable_","flow","maybeReadMore_","pipeOnDrain","resumeScheduled","resume_","fromList","stringMode","cpy","endReadable","debuglog","setEncoding","nOrig","doRead","pipeOpts","onunpipe","onfinish","needDrain","unpipe","doEnd","stdout","stderr","endFn","dests","wrap","paused","_fromList","./_stream_duplex","isarray","string_decoder/",23,"TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","rs","_flush","ws","writeencoding",24,"WriteReq","WritableState","writableObjectMode","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","pendingcb","prefinished","errorEmitted","writeAfterEnd","validChunk","valid","decodeChunk","writeOrBuffer","doWrite","writev","_writev","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","cbs","entry","prefinish","need","endWritable","cork","uncork",25,"ar","isSymbol","isRegExp","re","objectToString","isDate","isError","isPrimitive",26,"/Users/stomita/Work/Salesforce/jsforce/node_modules/browserify/node_modules/inherits/inherits_browser.js",27,28,"isBufferEncoding","available",29,"./lib/_stream_passthrough.js",30,"./lib/_stream_readable.js","./lib/_stream_transform.js","./lib/_stream_writable.js",31,32,33,"stripBOM","../lib/xml2js",34,"prefixMatch","RegExp","normalize","firstCharLowerCase","stripPrefix",35,"bom","builder","isEmpty","processName","processors","sax","__hasProp","__extends","child","parent","__super__","__bind","me","thing","processedName","_i","_len","0.1","explicitCharkey","normalizeTags","attrkey","charkey","ignoreAttrs","mergeAttrs","explicitRoot","validator","explicitChildren","childkey","charsAsChildren","strict","attrNameProcessors","tagNameProcessors","0.2","rootName","xmldec","standalone","doctype","renderOpts","pretty","indent","newline","headless","ValidationError","_super","Builder","opts","_ref","buildObject","rootObj","render","rootElement","element","attr","_ref1","txt","att","ele","up","callee","Parser","reset","assignOrPush","xmlnskey","ontext","saxParser","parser","errThrown","_this","EXPLICIT_CHARKEY","resultObject","onopentag","node","processedKey","attributes","uri","local","onclosetag","cdata","emptyStr","nodeName","old","xpath","pop","match","emptyTag","_error","getOwnPropertyNames","text","oncdata","close","./bom","./processors","xmlbuilder",36,"SAXParser","opt","clearBuffers","bufferCheckPosition","MAX_BUFFER_LENGTH","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","noscript","S","BEGIN","ENTITIES","attribList","ns","rootNS","trackPosition","column","checkBufferLength","maxAllowed","maxActual","buffers","closeText","emitNode","flushBuffers","createStream","SAXStream","_parser","_decoder","streamWraps","defineProperty","charClass","is","charclass","not","event","nodeType","textNode","textopts","strictFail","TEXT","newTag","tagName","qname","attribute","qualName","prefix","attrib","attribName","attribValue","qn","XML_NAMESPACE","XMLNS_NAMESPACE","openTag","selfClosing","nv","isSelfClosing","SCRIPT","closeTag","closeTo","parseEntity","entity","entityLC","numStr","fromCodePoint","OPEN_WAKA","startTagPosition","whitespace","starti","TEXT_ENTITY","SCRIPT_ENDING","CLOSE_TAG","SGML_DECL","sgmlDecl","nameStart","OPEN_TAG","PROC_INST","procInstName","procInstBody","pad","CDATA","COMMENT","comment","DOCTYPE","quote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","OPEN_TAG_SLASH","ATTRIB","ATTRIB_NAME","ATTRIB_VALUE","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","attribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","returnState","EVENTS","__proto__","getPrototypeOf","ex","filter","SD","number","letter","xml","STATE","COMMENT_STARTING","amp","gt","lt","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","stringFromCharCode","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","RangeError","string_decoder",37,"XMLAttribute","attName","attValue","lodash-node/modern/objects/create",38,"XMLBuilder","XMLDeclaration","XMLDocType","XMLElement","XMLStringifier","root","isRoot","documentObject","rootObject","declaration","pubID","sysID","./XMLDeclaration","./XMLDocType","./XMLElement","./XMLStringifier",39,"XMLCData","XMLNode","level","space","./XMLNode",40,"XMLComment",41,"XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","eleName","dtdAttType","dtdAttDefault",42,"XMLDTDElement","dtdElementValue","lodash-node/modern/objects/isArray",43,"XMLDTDEntity","pe","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","lodash-node/modern/objects/isObject",44,"XMLDTDNotation",45,"xmlVersion","xmlEncoding","xmlStandalone",46,"children","attList","pEntity","notation","instruction","XMLProcessingInstruction","_ref2","ent","pent","dat","com","ins","doc","./XMLCData","./XMLComment","./XMLDTDAttList","./XMLDTDElement","./XMLDTDEntity","./XMLDTDNotation","./XMLProcessingInstruction",47,"instructions","clonedSelf","clonedChild","skipNullAttributes","removeAttribute","insTarget","insValue","_j","_len1","_ref3","_ref4","./XMLAttribute","lodash-node/modern/objects/isFunction",48,"lastChild","ignoreDecorators","convertAttKey","convertPIKey","convertListKey","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","raw","insertBefore","removed","insertAfter","remove","XMLText","XMLRaw","prev","importXMLBuilder","clonedRoot","nod","dec","dtd","./XMLRaw","./XMLText","lodash-node/modern/objects/isEmpty",49,50,51,"assertLegalChar","allowSurrogateChars","eleText","elEscape","attEscape","chars","chr",52,53,"assign","./XMLBuilder","lodash-node/modern/objects/assign",54,"func","thisArg","createWrapper","../internals/createWrapper","../internals/slice",55,"baseBind","bindData","partialArgs","thisBinding","baseCreate","setBindData","arrayRef","../objects/isObject","./baseCreate","./setBindData","./slice",56,"nativeCreate","isNative","../utilities/noop","./isNative",57,"baseCreateCallback","argCount","identity","__bindData__","support","funcNames","funcDecomp","fnToString","reFuncName","reThis","collection","accumulator","../functions/bind","../support","../utilities/identity",58,"baseCreateWrapper","isBind","partialRightArgs","isCurry","arity","bitmask","isCurryBound","isBindKey",59,"isPartial","isPartialRight","creater","../objects/isFunction","./baseBind","./baseCreateWrapper",60,"reNative","objectProto",61,"objectTypes","boolean","function",62,63,"shimKeys","iterable","./objectTypes",64,65,"guard","argsIndex","argsLength","ownIndex","ownProps","../internals/baseCreateCallback","../internals/objectTypes","./keys",66,"properties","../internals/baseCreate","./assign",67,"forOwn",68,"arrayClass","nativeIsArray","../internals/isNative",69,"className","stringClass","argsClass","objectClass","./forOwn","./isFunction",70,71,72,"nativeKeys","../internals/shimKeys","./isObject",73,"WinRTError","./internals/isNative",74,75],"mappings":"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","sourcesContent":["!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var o;\"undefined\"!=typeof window?o=window:\"undefined\"!=typeof global?o=global:\"undefined\"!=typeof self&&(o=self);var f=o;f=f.jsforce||(f.jsforce={}),f=f.modules||(f.modules={}),f=f.api||(f.api={}),f.Metadata=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process,Buffer){\n/*global process, Buffer */\n/**\n * @file Manages Salesforce Metadata API\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\n\nvar util    = jsforce.require('util'),\n    events  = jsforce.require('events'),\n    stream  = jsforce.require('stream'),\n    Stream  = stream.Stream,\n    _       = jsforce.require('underscore'),\n    Promise = require('../promise'),\n    SOAP    = require('../soap');\n\n/*--------------------------------------------*/\n/**\n * Class for Salesforce Metadata API\n *\n * @class\n * @param {Connection} conn - Connection object\n */\nvar Metadata = module.exports = function(conn) {\n  this._conn = conn;\n};\n\n\n/**\n * Polling interval in milliseconds\n * @type {Number}\n */\nMetadata.prototype.pollInterval = 1000;\n\n/**\n * Polling timeout in milliseconds\n * @type {Number}\n */\nMetadata.prototype.pollTimeout = 10000;\n\n\n/**\n * Call Metadata API SOAP endpoint\n *\n * @private\n */\nMetadata.prototype._invoke = function(method, message, callback) {\n  var soapEndpoint = new SOAP({\n    sessionId: this._conn.accessToken,\n    serverUrl: this._conn.instanceUrl + \"/services/Soap/m/\" + this._conn.version,\n    xmlns: \"http://soap.sforce.com/2006/04/metadata\"\n  }, this._conn._transport);\n  return soapEndpoint.invoke(method, message).then(function(res) {\n    return res.result;\n  }).thenCall(callback);\n};\n\n\n/**\n * @typedef {Object} Metadata~MetadataInfo\n * @prop {String} fullName - The name of the component\n */\n\n/**\n * Asynchronously adds one or more new metadata components to the organization.\n *\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.createAsync = function(type, metadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  var res = this._invoke(\"create\", { metadata: metadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * @private\n */\nfunction convertToSaveResult(result) {\n  var saveResult = _.clone(result);\n  saveResult.success = saveResult.success === 'true';\n  return saveResult;\n}\n\n/**\n * Synonym of Metadata#create().\n *\n * @method createSync\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n/**\n * Synchronously adds one or more new metadata components to the organization.\n *\n * @method Metadata#create\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.createSync =\nMetadata.prototype.create = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"createMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * @private\n */\nfunction convertToMetadataInfo(rec) {\n  var metadataInfo = _.clone(rec);\n  delete metadataInfo.$;\n  return metadataInfo;\n}\n\n/**\n * Synonym of Metadata#read()\n *\n * @method Metadata#readSync\n * @param {String} type - The type of metadata to read\n * @param {String|Array.<String>} fullNames - full name(s) of metadata objects to read\n * @param {Callback.<Metadata~ReadResult|Array.<Metadata~ReadResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>>>}\n */\n/**\n * Synchronously read specified metadata components in the organization.\n *\n * @method Metadata#read\n * @param {String} type - The type of metadata to read\n * @param {String|Array.<String>} fullNames - full name(s) of metadata objects to read\n * @param {Callback.<Metadata~ReadResult|Array.<Metadata~ReadResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>>>}\n */\nMetadata.prototype.readSync =\nMetadata.prototype.read = function(type, fullNames, callback) {\n  return this._invoke(\"readMetadata\", { type: type, fullNames: fullNames }).then(function(res) {\n    return _.isArray(res.records) ? _.map(res.records, convertToMetadataInfo) : convertToMetadataInfo(res.records);\n  }).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~UpdateMetadataInfo\n * @prop {String} currentName - The API name of the component or field before the update\n * @prop {Metadata~MetadataInfo} metadata - Full specification of the component or field you wish to update\n */\n\n/**\n * Asynchronously updates one or more metadata components in the organization.\n *\n * @param {String} type - The type of metadata to update\n * @param {Metadata~UpdateMetadataInfo|Array.<Metadata~UpdateMetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.updateAsync = function(type, updateMetadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(umd) {\n    umd.metadata[\"@xsi:type\"] = type;\n    return umd;\n  };\n  var isArray = _.isArray(updateMetadata);\n  updateMetadata = isArray ? _.map(updateMetadata, convert) : convert(updateMetadata);\n  var res = this._invoke(\"update\", { updateMetadata: updateMetadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * Synonym of Metadata#update().\n *\n * @method Metadata#updateSync\n * @param {String} type - The type of metadata to update\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n/**\n * Synchronously updates one or more metadata components in the organization.\n *\n * @method Metadata#update\n * @param {String} type - The type of metadata to update\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.updateSync =\nMetadata.prototype.update = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"updateMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Upserts one or more components in your organization's data.\n *\n * @param {String} type - The type of metadata to upsert\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Upserting metadata\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.upsertSync =\nMetadata.prototype.upsert = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"upsertMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Asynchronously deletes specified metadata components in the organization.\n *\n * @param {String} type - The type of metadata to delete\n * @param {String|Metadata~MetadataInfo|Array.<String>|Array.<Metadata~MetadataInfo>} metadata - The fullName of metadata or metadata info to delete. If it is passed in fullName, the type parameter should not be empty.\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.deleteAsync = function(type, metadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(md) {\n    if (_.isString(md)) {\n      md = { fullName : md };\n    }\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  var res = this._invoke(\"delete\", { metadata: metadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * Synonym of Metadata#delete().\n *\n * @deprecated\n * @method Metadata#del\n * @param {String} [type] - The type of metadata to delete\n * @param {String|Metadata~MetadataInfo|Array.<String>|Array.<Metadata~MetadataInfo>} metadata - The fullName of metadata or metadata info to delete. If it is passed in fullName, the type parameter should not be empty.\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\n/**\n * Synonym of Metadata#delete().\n *\n * @method Metadata#deleteSync\n * @param {String} type - The type of metadata to delete\n * @param {String|Array.<String>} fullNames - The fullName of metadata to delete.\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n\n/**\n * Synchronously deletes specified metadata components in the organization.\n *\n * @method Metadata#delete\n * @param {String} type - The type of metadata to delete\n * @param {String|Array.<String>} fullNames - The fullName of metadata to delete.\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.del =\nMetadata.prototype.deleteSync =\nMetadata.prototype[\"delete\"] = function(type, fullNames, callback) {\n  return this._invoke(\"deleteMetadata\", { type: type, fullNames: fullNames }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Rename fullname of a metadata component in the organization\n *\n * @param {String} type - The type of metadata to delete\n * @param {String} oldFullName - The original fullName of metadata\n * @param {String} newFullName - The new fullName of metadata\n * @param {Callback.<Metadata~SaveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult>}\n */\nMetadata.prototype.rename = function(type, oldFullName, newFullName, callback) {\n  return this._invoke(\"renameMetadata\", { type: type, oldFullName: oldFullName, newFullName: newFullName }).then(function(result) {\n    return convertToSaveResult(result);\n  }).thenCall(callback);\n};\n\n/**\n * Checks the status of asynchronous metadata calls\n *\n * @param {String|Array.<String>} ids - The asynchronous process ID(s)\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.checkStatus = function(ids, callback) {\n  var isArray = _.isArray(ids);\n  var res = this._invoke(\"checkStatus\", { asyncProcessId: ids });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~DescribeMetadataResult\n * @prop {Array.<Object>} metadataObjects - One or more metadata components and their attributes\n * @prop {Array.<String>} metadataObjects.childXmlNames - List of child sub-components for this component\n * @prop {String} metadataObjects.directoryName - The name of the directory in the .zip file that contains this component\n * @prop {Boolean} metadataObjects.inFolder - Indicates whether the component is in a folder or not\n * @prop {Boolean} metadataObjects.metaFile - Indicates whether the component requires an accompanying metadata file\n * @prop {String} metadataObjects.suffix - The file suffix for this component\n * @prop {String} metadataObjects.xmlName - The name of the root element in the metadata file for this component\n * @prop {String} organizationNamespace - The namespace of the organization\n * @prop {Boolean} partialSaveAllowed - Indicates whether rollbackOnError is allowed or not\n * @prop {Boolean} testRequired - Indicates whether tests are required or not\n */\n\n/**\n * Retrieves the metadata which describes your organization, including Apex classes and triggers,\n * custom objects, custom fields on standard objects, tab sets that define an app,\n * and many other components.\n *\n * @param {String} [version] - The API version for which you want metadata; for example, 29.0\n * @param {Callback.<Metadata~DescribeMetadataResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DescribeMetadataResult>}\n */\nMetadata.prototype.describe = function(version, callback) {\n  if (!_.isString(version)) {\n    callback = version;\n    version = this._conn.version;\n  }\n  return this._invoke(\"describeMetadata\", { asOfVersion: version }).then(function(res) {\n    res.metadataObjects = _.isArray(res.metadataObjects) ? res.metadataObjects : [ res.metadataObjects ];\n    res.metadataObjects = _.map(res.metadataObjects, function(mo) {\n      if (mo.childXmlNames) {\n        mo.childXmlNames = _.isArray(mo.childXmlNames) ? mo.childXmlNames: [ mo.childXmlNames ];\n      }\n      mo.inFolder = mo.inFolder === 'true';\n      mo.metaFile = mo.metaFile === 'true';\n      return mo;\n    });\n    res.partialSaveAllowed = res.partialSaveAllowed === 'true';\n    res.testRequired = res.testRequired === 'true';\n    return res;\n  }).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~ListMetadataQuery\n * @prop {String} type - The metadata type, such as CustomObject, CustomField, or ApexClass\n * @prop {String} [folder] - The folder associated with the component.\n */\n\n/**\n * @typedef {Object} Metadata~FileProperties\n * @prop {String} type - The metadata type, such as CustomObject, CustomField, or ApexClass\n * @prop {String} createdById - ID of the user who created the file\n * @prop {String} createdByName - Name of the user who created the file\n * @prop {String} createdDate - Date and time when the file was created\n * @prop {String} fileName - Name of the file\n * @prop {String} fullName - The file developer name used as a unique identifier for API access\n * @prop {String} id - ID of the file\n * @prop {String} lastModifiedById - ID of the user who last modified the file\n * @prop {String} lastModifiedByName - Name of the user who last modified the file\n * @prop {String} lastModifiedDate - Date and time that the file was last modified\n * @prop {String} [manageableState] - Indicates the manageable state of the specified component if it is contained in a package\n * @prop {String} [namespacePrefix] - The namespace prefix of the component\n */\n\n/**\n * Retrieves property information about metadata components in your organization\n *\n * @param {Metadata~ListMetadataQuery|Array.<Metadata~ListMetadataQuery>} queries - The criteria object(s) specifing metadata to list\n * @param {String} [version] - The API version for which you want metadata; for example, 29.0\n * @param {Callback.<Array.<Metadata~FileProperties>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~FileProperties>>}\n */\nMetadata.prototype.list = function(queries, version, callback) {\n  if (!_.isString(version)) {\n    callback = version;\n    version = this._conn.version;\n  }\n  if (!_.isArray(queries)) {\n    queries = [ queries ];\n  }\n  return this._invoke(\"listMetadata\", { queries: queries, asOfVersion: version }, callback);\n};\n\n/**\n * @typedef {Object} Metadata~RetrieveRequest\n */\n\n/**\n * Retrieves XML file representations of components in an organization\n *\n * @param {Metadata~RetrieveRequest} request - Options for determining which packages or files are retrieved\n * @param {Callback.<Metadata~AsyncResult>} [callback] - Callback function\n * @returns {Metadata~RetrieveResultLocator}\n */\nMetadata.prototype.retrieve = function(request, callback) {\n  var res = this._invoke(\"retrieve\", { request: request });\n  return new RetrieveResultLocator(this, res).thenCall(callback);\n};\n\n/**\n * Checks the status of declarative metadata call retrieve() and returns the zip file contents\n *\n * @param {String} id - Async process id returned from previous retrieve request\n * @param {Callback.<Metadata~RetrieveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~RetrieveResult>}\n */\nMetadata.prototype.checkRetrieveStatus = function(id, callback) {\n  return this._invoke(\"checkRetrieveStatus\", { asyncProcessId: id }, callback);\n};\n\n/**\n * Deploy components into an organization using zipped file representations\n *\n * @param {stream.Stream|Buffer} zipInput - Zipped file input source in readable stream or binary buffer\n * @param {Object} [options] - Options used in deployment\n * @param {Boolean} [options.allowMissingFiles] - Specifies whether a deploy succeeds even if files that are specified in package.xml but are not in the .zip file or not.\n * @param {Boolean} [options.autoUpdatePackage] - If a file is in the .zip file but not specified in package.xml, specifies whether the file should be automatically added to the package or not.\n * @param {Boolean} [options.checkOnly] - Indicates whether Apex classes and triggers are saved to the organization as part of the deployment (false) or not (true).\n * @param {Boolean} [options.ignoreWarnings] - Indicates whether a warning should allow a deployment to complete successfully (true) or not (false). Defaults to false.\n * @param {Boolean} [options.performRetrieve] - Indicates whether a retrieve() call is performed immediately after the deployment (true) or not (false).\n * @param {Boolean} [options.purgeOnDelete] - If true, the deleted components in the destructiveChanges.xml manifest file aren't stored in the Recycle Bin.\n * @param {Boolean} [options.rollbackOnError] - Indicates whether any failure causes a complete rollback (true) or not (false).\n * @param {Boolean} [options.runAllTests] - If true, all Apex tests defined in the organization are run.\n * @param {Array.<String>} [options.runTests] - A list of Apex tests to be run during deployment.\n * @param {Boolean} [options.singlePackage] - Indicates whether the specified .zip file points to a directory structure with a single package (true) or a set of packages (false).\n * @param {Callback.<Metadata~AsyncResult>} [callback] - Callback function\n * @returns {Metadata~DeployResultLocator}\n */\nMetadata.prototype.deploy = function(zipInput, options, callback) {\n  if (!options || _.isFunction(options)) {\n    callback = options;\n    options = {};\n  }\n  var deferred = Promise.defer();\n  if (zipInput instanceof Stream) {\n    var bufs = [];\n    zipInput.on('data', function(d) {\n      bufs.push(d);\n    });\n    zipInput.on('end', function() {\n      deferred.resolve(Buffer.concat(bufs));\n    });\n    zipInput.resume();\n  } else if (zipInput instanceof Buffer) {\n    deferred.resolve(zipInput);\n  } else {\n    throw \"Unexpected zipInput type\";\n  }\n\n  var self = this;\n  var res = deferred.promise.then(function(zipContentBuffer) {\n    var zipContentB64 = zipContentBuffer.toString('base64');\n    return self._invoke(\"deploy\", { ZipFile: zipContentB64, DeployOptions: options }, callback);\n  });\n  return new DeployResultLocator(this, res).thenCall(callback);\n};\n\n/**\n * Checks the status of declarative metadata call deploy()\n *\n * @param {String} id - Async process id returned from previous deploy request\n * @param {Boolean} [includeDetails] - Sets the DeployResult object to include details information (default: false)\n * @param {Callback.<Metadata~DeployResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DeployResult>}\n */\nMetadata.prototype.checkDeployStatus = function(id, includeDetails, callback) {\n  if (_.isObject(includeDetails) || _.isBoolean(includeDetails)) {\n    includeDetails = !!includeDetails;\n  } else {\n    callback = includeDetails;\n    includeDetails = false;\n  }\n  return this._invoke(\"checkDeployStatus\", {\n    asyncProcessId: id,\n    includeDetails : includeDetails\n  }).then(function(res) {\n    res.done = res.done === 'true';\n    res.success = res.success === 'true';\n    res.checkOnly = res.checkOnly === 'true';\n    if (res.ignoreWarnings) {\n      res.ignoreWarnings = res.ignoreWarnings === 'true';\n    }\n    if (res.rollbackOnError) {\n      res.rollbackOnError = res.rollbackOnError === 'true';\n    }\n    res.numberComponentErrors = Number(res.numberComponentErrors);\n    res.numberComponentsDeployed = Number(res.numberComponentsDeployed);\n    res.numberComponentsTotal = Number(res.numberComponentsTotal);\n    res.numberTestErrors = Number(res.numberTestErrors);\n    res.numberTestsCompleted = Number(res.numberTestsCompleted);\n    res.numberTestsTotal = Number(res.numberTestsTotal);\n\n    return res;\n  }).thenCall(callback);\n};\n\n/*--------------------------------------------*/\n\n/**\n * @typedef {Object} Metadata~AsyncResult\n * @prop {Boolean} done - Indicates whether the call has completed or not\n * @prop {String} id - ID of the component being created, updated, deleted, deployed, or retrieved\n * @prop {String} state - The state four possible values: Queued, InProgress, Completed, and Error.\n * @prop {String} [statusCode] - If an error occurred during the create(), update(), or delete() call, a status code is returned\n * @prop {String} [message] - Message corresponding to the statusCode field returned\n */\n\n/**\n * The locator class for Metadata API asynchronous call result\n *\n * @protected\n * @class Metadata~AsyncResultLocator\n * @extends events.EventEmitter\n * @implements Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} results - Promise object for async result info\n * @param {Boolean} [isArray] - Indicates whether the async request is given in array or single object\n */\nvar AsyncResultLocator = function(meta, results, isArray) {\n  this._meta = meta;\n  this._results = results;\n  this._isArray = isArray;\n};\n\nutil.inherits(AsyncResultLocator, events.EventEmitter);\n\n/**\n * Promise/A+ interface\n * http://promises-aplus.github.io/promises-spec/\n *\n * Delegate to deferred promise, return promise instance for batch result\n *\n * @method Metadata~AsyncResultLocator#then\n */\nAsyncResultLocator.prototype.then = function(onResolve, onReject) {\n  var self = this;\n  return this._results.then(function(results) {\n    var convertType = function(res) {\n      if (res.$ && res.$[\"xsi:nil\"] === 'true') {\n        return null;\n      }\n      res.done = res.done === 'true';\n      return res;\n    };\n    results = _.isArray(results) ? _.map(results, convertType) : convertType(results);\n    if (self._isArray && !_.isArray(results)) {\n      results = [ results ];\n    }\n    return onResolve(results);\n  }, onReject);\n};\n\n/**\n * Promise/A+ extension\n * Call \"then\" using given node-style callback function\n *\n * @method Metadata~AsyncResultLocator#thenCall\n */\nAsyncResultLocator.prototype.thenCall = function(callback) {\n  return _.isFunction(callback) ? this.then(function(res) {\n    process.nextTick(function() {\n      callback(null, res);\n    });\n  }, function(err) {\n    process.nextTick(function() {\n      callback(err);\n    });\n  }) : this;\n};\n\n/**\n * Check the status of async request\n *\n * @method Metadata~AsyncResultLocator#check\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>}\n */\nAsyncResultLocator.prototype.check = function(callback) {\n  var self = this;\n  var meta = this._meta;\n  return this.then(function(results) {\n    var ids = _.isArray(results) ? _.map(results, function(res){ return res.id; }) : results.id;\n    return meta.checkStatus(ids);\n  }).thenCall(callback);\n};\n\n/**\n * Polling until async call status becomes complete or error\n *\n * @method Metadata~AsyncResultLocator#poll\n * @param {Number} interval - Polling interval in milliseconds\n * @param {Number} timeout - Polling timeout in milliseconds\n */\nAsyncResultLocator.prototype.poll = function(interval, timeout) {\n  var self = this;\n  var startTime = new Date().getTime();\n  var poll = function() {\n    var now = new Date().getTime();\n    if (startTime + timeout < now) {\n      self.emit('error', new Error(\"polling time out\"));\n      return;\n    }\n    self.check().then(function(results) {\n      var done = true;\n      var resultArr = _.isArray(results) ? results : [ results ];\n      for (var i=0, len=resultArr.length; i<len; i++) {\n        var result = resultArr[i];\n        if (result && !result.done) {\n          done = false;\n        }\n      }\n      if (done) {\n        self.emit('complete', results);\n      } else {\n        setTimeout(poll, interval);\n      }\n    }, function(err) {\n      self.emit('error', err);\n    });\n  };\n  setTimeout(poll, interval);\n};\n\n/**\n * Check and wait until the async requests become in completed status\n *\n * @method Metadata~AsyncResultLocator#complete\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>}\n */\nAsyncResultLocator.prototype.complete = function(callback) {\n  var deferred = Promise.defer();\n  this.on('complete', function(results) {\n    deferred.resolve(results);\n  });\n  this.on('error', function(err) {\n    deferred.reject(err);\n  });\n  var meta = this._meta;\n  this.poll(meta.pollInterval, meta.pollTimeout);\n  return deferred.promise.thenCall(callback);\n};\n\n/*--------------------------------------------*/\n/**\n * The locator class to track retreive() Metadata API call result\n *\n * @protected\n * @class Metadata~RetrieveResultLocator\n * @extends Metadata~AsyncResultLocator\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult>} result - Promise object for async result of retrieve call()\n */\nvar RetrieveResultLocator = function(meta, result) {\n  RetrieveResultLocator.super_.call(this, meta, result);\n};\n\nutil.inherits(RetrieveResultLocator, AsyncResultLocator);\n\n/**\n * @typedef {Object} Metadata~RetrieveResult\n * @prop {Array.<Metadata~FileProperties>} fileProperties - Contains information about the properties of each component in the .zip file, and the manifest file package.xml\n * @prop {String} id - ID of the component being retrieved\n * @prop {Array.<Object>} messages - Contains information about the success or failure of the retrieve() call\n * @prop {String} zipFile - The zip file returned by the retrieve request. Base 64-encoded binary data\n */\n\n/**\n * Check and wait until the async request becomes in completed status,\n * and retrieve the result data.\n *\n * @memthod Metadata~RetrieveResultLocator#complete\n * @param {Callback.<Metadata~RetrieveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~RetrieveResult>}\n */\nRetrieveResultLocator.prototype.complete = function(callback) {\n  var meta = this._meta;\n  return RetrieveResultLocator.super_.prototype.complete.call(this).then(function(result) {\n    return meta.checkRetrieveStatus(result.id);\n  }).thenCall(callback);\n};\n\n/**\n * Change the retrieved result to Node.js readable stream\n *\n * @method Metadata~RetrieveResultLocator#stream\n * @returns {stream.Stream}\n */\nRetrieveResultLocator.prototype.stream = function() {\n  var rstream = new Stream();\n  rstream.readable = true;\n  this.complete(function(err, result) {\n    if (err) {\n      rstream.emit('error', err);\n    } else {\n      rstream.emit('data', new Buffer(result.zipFile, 'base64'));\n      rstream.emit('end');\n    }\n  });\n  return rstream;\n};\n\n/*--------------------------------------------*/\n/**\n * The locator class to track deploy() Metadata API call result\n *\n * @protected\n * @class Metadata~DeployResultLocator\n * @extends Metadata~AsyncResultLocator\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult>} result - Promise object for async result of deploy() call\n */\nvar DeployResultLocator = function(meta, result) {\n  DeployResultLocator.super_.call(this, meta, result);\n};\n\nutil.inherits(DeployResultLocator, AsyncResultLocator);\n\n/**\n * @typedef {Object} Metadata~DeployResult\n * @prop {String} id - ID of the component being deployed\n * @prop {Boolean} checkOnly - Indicates whether this deployment is being used to check the validity of the deployed files without making any changes in the organization or not\n * @prop {String} completedDate - Timestamp for when the deployment process ended\n * @prop {String} createdDate - Timestamp for when the deploy() call was received\n * @prop {Array.<Object>} [details] - Provides the details of a deployment that is in-progress or ended, if includeDetails is set to true in checkDeployStatus() call\n * @prop {Boolean} done - Indicates whether the server finished processing the deploy() call for the specified id\n * @prop {String} [errorMessage] - Message corresponding to the values in the errorStatusCode field\n * @prop {String} [errorStatusCode] - If an error occurred during the deploy() call, a status code is returned, and the message corresponding to the status code is returned in the errorMessagefield\n * @prop {Boolean} [ignoreWarnings] - Specifies whether a deployment should continue even if the deployment generates warnings\n * @prop {String} lastModifiedDate - Timestamp of the last update for the deployment process\n * @prop {Number} numberComponentErrors - The number of components that generated errors during this deployment\n * @prop {Number} numberComponentsDeployed - The number of components deployed in the deployment process\n * @prop {Number} numberComponentsTotal - The total number of components in the deployment\n * @prop {Number} numberTestErrors - The number of Apex tests that have generated errors during this deployment\n * @prop {Number} numberTestsCompleted - The number of completedApex tests for this deployment\n * @prop {Number} numberTestsTotal - The total number of Apex tests for this deployment\n * @prop {Boolean} [rollbackOnError] - Indicates whether any failure causes a complete rollback or not. Default is true.\n * @prop {String} startDate - Timestamp for when the deployment process began\n * @prop {String} status - Indicates the current state of the deployment\n * @prop {Boolean} success - Indicates whether the deployment was successful or not\n */\n\n/**\n * Check and wait until the async request becomes in completed status,\n * and retrieve the result data.\n *\n * @method Metadata~DeployResultLocator#complete\n * @param {Callback.<Metadata~DeployResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DeployResult>}\n */\nDeployResultLocator.prototype.complete = function(includeDetails, callback) {\n  if (_.isFunction(includeDetails)) {\n    callback = includeDetails;\n    includeDetails = false;\n  }\n  var meta = this._meta;\n  return DeployResultLocator.super_.prototype.complete.call(this).then(function(result) {\n    return meta.checkDeployStatus(result.id, includeDetails);\n  }).thenCall(callback);\n};\n\n}).call(this,require('_process'),require(\"buffer\").Buffer)\n},{\"../promise\":5,\"../soap\":6,\"_process\":15,\"buffer\":10}],2:[function(require,module,exports){\n/*global Sfdc */\nvar stream = jsforce.require('stream'),\n    _ = jsforce.require('underscore');\n\nfunction parseHeaders(hs) {\n  var headers = {};\n  hs.split(/\\n/).forEach(function(line) {\n    var pair = line.split(/\\s*:\\s*/);\n    var name = pair[0].toLowerCase();\n    var value = pair[1];\n    headers[name] = value;\n  });\n  return headers;\n}\n\nmodule.exports = {\n  \n  supported: typeof Sfdc === 'object' && typeof Sfdc.canvas !== 'undefined',\n\n  createRequest: function(signedRequest) {\n    return function(params, callback) {\n      var response;\n      var str = new stream.Duplex();\n      str._read = function(size) {\n        if (response) {\n          str.push(response.body);\n        }\n      };\n      var bufs = [];\n      var sent = false;\n      str._write = function(chunk, encoding, callback) {\n        bufs.push(chunk.toString(encoding));\n        callback();\n      };\n      str.on('finish', function() {\n        if (!sent) {\n          send(bufs.join(''));\n          sent = true;\n        }\n      });\n      if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n        send(params.body);\n        sent = true;\n      }\n\n      function send(body) {\n        var settings = {\n          client: signedRequest.client,\n          method: params.method,\n          data: body\n        };\n        if (params.headers) {\n          settings.headers = {};\n          for (var name in params.headers) {\n            if (name.toLowerCase() === 'content-type') {\n              settings.contentType = params.headers[name];\n            } else {\n              settings.headers[name] = params.headers[name];\n            }\n          }\n        }\n        settings.success = function(data) {\n          var headers = parseHeaders(data.responseHeaders);\n          var body = data.payload;\n          if (!_.isString(body)) {\n            body = JSON.stringify(body);\n          }\n          response = {\n            statusCode : data.status,\n            headers: headers,\n            body: body\n          };\n          if (callback) {\n            callback(null, response, response.body);\n          }\n          str.end();\n        };\n        settings.failure = function(err) {\n          if (callback) {\n            callback(err);\n          }\n        };\n        Sfdc.canvas.client.ajax(params.url, settings);\n      }\n      return str;\n    };\n  }\n};\n\n\n},{}],3:[function(require,module,exports){\n/*global window, document */\nvar _index = 0;\n\nmodule.exports = {\n\n  supported: typeof window !== 'undefined',\n\n  createRequest: function(jsonpParam, timeout) {\n    jsonpParam = jsonpParam || 'callback';\n    timeout = timeout || 10000;\n\n    return function(params, callback) {\n      if (params.method.toUpperCase() !== 'GET') {\n        return callback(new Error('JSONP only supports GET request.'));\n      }\n      var cbFuncName = '_jsforce_jsonpCallback_' + (++_index);\n      var callbacks = window;\n      var url = params.url;\n      url += url.indexOf('?')>0 ? '&' : '?';\n      url += jsonpParam + '=' + cbFuncName;\n\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = url;\n      document.documentElement.appendChild(script);\n\n      var pid = setTimeout(function() {\n        cleanup();\n        callback(new Error(\"JSONP call time out.\"));\n      }, timeout);\n\n      callbacks[cbFuncName] = function(res) {\n        cleanup();\n        callback(null, {\n          statusCode: 200,\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify(res)\n        });\n      };\n\n      var cleanup = function() {\n        clearTimeout(pid);\n        document.documentElement.removeChild(script);\n        delete callbacks[cbFuncName];\n      };\n    };\n\n  }\n\n};\n},{}],4:[function(require,module,exports){\nvar stream = jsforce.require('stream');\n\nmodule.exports = function(params, callback) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(params.method, params.url);\n  if (params.headers) {\n    for (var header in params.headers) {\n      xhr.setRequestHeader(header, params.headers[header]);\n    }\n  }\n  xhr.setRequestHeader(\"Accept\", \"*/*\");\n  var response;\n  var str = new stream.Duplex();\n  str._read = function(size) {\n    if (response) {\n      str.push(response.body);\n    }\n  };\n  var bufs = [];\n  var sent = false;\n  str._write = function(chunk, encoding, callback) {\n    bufs.push(chunk.toString(encoding === \"buffer\" ? \"binary\" : encoding));\n    callback();\n  };\n  str.on('finish', function() {\n    if (!sent) {\n      xhr.send(bufs.join(''));\n      sent = true;\n    }\n  });\n  if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n    xhr.send(params.body);\n    sent = true;\n  }\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 4) {\n      var headers = {\n        \"content-type\": xhr.getResponseHeader(\"content-type\")\n      };\n      response = {\n        statusCode: xhr.status,\n        headers: headers,\n        body: xhr.response\n      };\n      if (!response.statusCode) {\n        response.statusCode = 400;\n        response.body = \"Access Declined\";\n      }\n      if (callback) {\n        callback(null, response, response.body);\n      }\n      str.end();\n    }\n  };\n  return str;\n};\n\n\n},{}],5:[function(require,module,exports){\n(function (process){\n/*global process*/\nvar Q = require('q'),\n    _ = jsforce.require('underscore')._;\n\n/**\n * Promises/A+ spec compliant class, with a little extension\n * http://promises-aplus.github.io/promises-spec/\n *\n * @class Promise\n * @constructor\n * @param {Promise.<T>|T} o - Object to wrap with promise\n * @template T\n */\nvar Promise = function(o) {\n  this._promise = Q(o);\n};\n\n/**\n * @callback FulfilledCallback\n * @param {T} result - Fulfilled value\n * @returns {S}\n * @template T,S\n */\n\n/**\n * @callback RejectedCallback\n * @param {Error} reason - Rejected reason\n * @returns {S}\n * @template S\n */\n\n/**\n * The \"then\" method from the Promises/A+ specification\n *\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\n * @param {RejectedCallback.<S2>} [onRejected]\n * @returns {Promise.<S1|S2>}\n */\nPromise.prototype.then = function() {\n  // Delegate Q promise implementation and wrap by our Promise instance\n  return new Promise(this._promise.then.apply(this._promise, arguments));\n};\n\n/**\n * Call \"then\" using given node-style callback function\n *\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Promise}\n */\nPromise.prototype.thenCall = function(callback) {\n  if (_.isFunction(callback)) {\n    this.then(function(res) {\n      process.nextTick(function() {\n        callback(null, res);\n      });\n    }, function(err) {\n      process.nextTick(function() {\n        callback(err);\n      });\n    });\n  }\n  return this;\n};\n\n/**\n * A sugar method, equivalent to promise.then(undefined, onRejected).\n *\n * @param {RejectedCallback.<S>} onRejected\n * @returns {Promise.<S>}\n */\nPromise.prototype.fail = function() {\n  return new Promise(this._promise.fail.apply(this._promise, arguments));\n};\n\n/**\n * Alias for completion\n *\n * @param {FulfilledCallback.<T, S>} [onFulfilled]\n * @returns {Promise.<S>}\n */\nPromise.prototype.done = function() {\n  return new Promise(this._promise.done.apply(this._promise, arguments));\n};\n\n/**\n * @param {...Promise.<*>} p\n */\nPromise.when = function() {\n  return new Promise(Q.when.apply(Q, arguments));\n};\n\n/**\n * Returns rejecting promise with given reason\n *\n * @param {Error} reason - Rejecting reason\n * @returns {Promise}\n */\nPromise.reject = function(reason) {\n  return new Promise(Q.reject(reason));\n};\n\n/**\n * Returns a promise that is fulfilled with an array containing the fulfillment value of each promise, \n * or is rejected with the same rejection reason as the first promise to be rejected.\n *\n * @param {Array.<Promise.<*>|*>} promises\n * @returns {Promise.<Array.<*>>}\n */\nPromise.all = function() {\n  return new Promise(Q.all.apply(Q, arguments));\n};\n\n/**\n * Returns a deferred object\n *\n * @returns {Deferred}\n */\nPromise.defer = function() {\n  return new Deferred();\n};\n\n/**\n * Deferred object\n *\n * @protected\n * @constructor\n */\nvar Deferred = function() {\n  this._deferred = Q.defer();\n  this.promise = new Promise(this._deferred.promise);\n};\n\n/**\n * Resolve promise\n * @param {*} result - Resolving result\n */\nDeferred.prototype.resolve = function() {\n  return this._deferred.resolve.apply(this._promise, arguments);\n};\n\n/**\n * Reject promise\n * @param {Error} error - Rejecting reason\n */\nDeferred.prototype.reject = function() {\n  return this._deferred.reject.apply(this._promise, arguments);\n};\n\n/**\n *\n */\nmodule.exports = Promise;\n\n}).call(this,require('_process'))\n},{\"_process\":15,\"q\":18}],6:[function(require,module,exports){\n/**\n * @file Manages method call to SOAP endpoint\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _ = jsforce.require('underscore'),\n    xml2js = require('xml2js'),\n    Transport = require('./transport');\n\n/**\n * Class for SOAP endpoint of Salesforce\n *\n * @protected\n * @class\n * @constructor\n * @param {Object} options - SOAP endpoint setting options\n * @param {String} options.serverUrl - SOAP endpoint URL\n * @param {String} options.sessionId - Salesforce session ID\n * @param {String} [options.xmlns] - XML namespace for method call (default is \"urn:partner.soap.sforce.com\")\n * @param {Transport} [transport] - HTTP request transport instance\n */\nvar SOAP = module.exports = function(options, transport) {\n  this.serverUrl = options.serverUrl;\n  this.sessionId = options.sessionId;\n  this.xmlns = options.xmlns || 'urn:partner.soap.sforce.com';\n  this._transport = transport;\n  if (!this._transport) {\n    this._transport = options.proxyUrl ? new Transport() : new Transport.ProxyTransport(options.proxyUrl);\n  }\n};\n\n/**\n * Invoke SOAP call using method and arguments\n * \n * @param {String} method - Method name\n * @param {Object} args - Arguments for the method call\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nSOAP.prototype.invoke = function(method, args, callback) {\n  var message = {};\n  message[method] = args;\n  var soapEnvelope = this._createEnvelope(message);\n  return this._transport.httpRequest({\n    method: 'POST',\n    url: this.serverUrl,\n    headers: {\n      'Content-Type': 'text/xml',\n      'SOAPAction': '\"\"'\n    },\n    body: soapEnvelope\n  }).then(function(res) {\n    var ret = null;\n    xml2js.parseString(res.body, { explicitArray: false }, function(err, value) { ret = value; });\n    if (ret) {\n      var error = lookupValue(ret, [ /:Envelope$/, /:Body$/, /:Fault$/, /faultstring$/ ]);\n      if (error) {\n        throw new Error(error);\n      }\n      return lookupValue(ret, [ /:Envelope$/, /:Body$/, /.+/ ]);\n    }\n    throw new Error(\"invalid response\");\n  }).thenCall(callback);\n};\n\n/**\n * @private\n */\nfunction lookupValue(obj, propRegExps) {\n  var regexp = propRegExps.shift();\n  if (!regexp) {\n    return obj; \n  }\n  else {\n    for (var prop in obj) {\n      if (regexp.test(prop)) {\n        return lookupValue(obj[prop], propRegExps);\n      }\n    }\n    return null;\n  }\n}\n\n/**\n * @private\n */\nfunction toXML(name, value) {\n  if (_.isObject(name)) {\n    value = name;\n    name = null;\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function(v) { return toXML(name, v); }).join('');\n  } else {\n    var attrs = [];\n    var elems = [];\n    if (_.isObject(value)) {\n      for (var k in value) {\n        var v = value[k];\n        if (k[0] === '@') {\n          k = k.substring(1);\n          attrs.push(k + '=\"' + v + '\"');\n        } else {\n          elems.push(toXML(k, v));\n        }\n      }\n      value = elems.join('');\n    } else {\n      value = String(value);\n    }\n    var startTag = name ? '<' + name + (attrs.length > 0 ? ' ' + attrs.join(' ') : '') + '>' : '';\n    var endTag = name ? '</' + name + '>' : '';\n    return  startTag + value + endTag;\n  }\n}\n\n/**\n * @private\n */\nSOAP.prototype._createEnvelope = function(message) {\n  return [\n    '<?xml version=\"1.0\" encoding=\"UTF-8\"?>',\n    '<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"',\n    ' xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"',\n    ' xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">',\n    '<soapenv:Header xmlns=\"' + this.xmlns + '\">',\n      '<SessionHeader>',\n      '<sessionId>' + this.sessionId + '</sessionId>',\n      '</SessionHeader>',\n    '</soapenv:Header>',\n    '<soapenv:Body xmlns=\"' + this.xmlns + '\">',\n    toXML(message),\n    '</soapenv:Body>',\n    '</soapenv:Envelope>'\n  ].join('');\n};\n\n},{\"./transport\":7,\"xml2js\":35}],7:[function(require,module,exports){\n(function (process){\n/*global process, Sfdc */\nvar util = jsforce.require('util'),\n    stream = jsforce.require('stream'),\n    Promise = require('./promise');\n\n/* */\n\nvar nodeRequest = require('request'),\n    xhrRequest = require('./browser/request'),\n    canvas = require('./browser/canvas'),\n    jsonp = require('./browser/jsonp');\n\nvar request, baseUrl;\nif (typeof window === 'undefined') {\n  var defaults = {\n    followAllRedirects: true\n  };\n  if (process.env.HTTP_PROXY) {\n    defaults.proxy = process.env.HTTP_PROXY;\n  }\n  if (process.env.HTTP_TIMEOUT) {\n    defaults.timeout = process.env.HTTP_TIMEOUT;\n  }\n  request = nodeRequest.defaults(defaults);\n  baseUrl = process.env.LOCATION_BASE_URL || \"\";\n} else {\n  request = xhrRequest;\n  var apiHost = normalizeApiHost(window.location.host);\n  baseUrl = apiHost ? \"https://\" + apiHost : \"\";\n}\n\n/**\n * Add stream() method to promise (and following promise chain), to access original request stream.\n * @private\n */\nfunction streamify(promise, factory) {\n  var _then = promise.then;\n  promise.then = function() {\n    factory();\n    var newPromise = _then.apply(promise, arguments);\n    return streamify(newPromise, factory);\n  };\n  promise.stream = factory;\n  return promise;\n}\n\n/**\n * Normarize Salesforce API host name\n * @private\n */\nfunction normalizeApiHost(apiHost) {\n  var m = /(\\w+)\\.(visual\\.force|salesforce)\\.com$/.exec(apiHost)\n  if (m) {\n    apiHost = m[1] + \".salesforce.com\";\n  }\n  return apiHost;\n}\n\n/**\n * Class for HTTP request transport\n *\n * @class\n * @protected\n */\nvar Transport = module.exports = function() {};\n\n/**\n * Make HTTP request, returns promise instead of stream\n *\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @param {Callback.<Object>} [options] - Options\n * @returns {Promise.<Object>}\n */\nTransport.prototype.httpRequest = function(params, callback, options) {\n  var deferred = Promise.defer();\n  var req;\n  var httpRequest = request;\n  if (options && options.jsonp && jsonp.supported) {\n    httpRequest = jsonp.createRequest(options.jsonp);\n  } else if (options && options.signedRequest && canvas.supported) {\n    httpRequest = canvas.createRequest(options.signedRequest);\n  }\n  var createRequest = function() {\n    if (!req) {\n      req = httpRequest(params, function(err, response) {\n        if (err) {\n          deferred.reject(err);\n        } else {\n          deferred.resolve(response);\n        }\n      });\n    }\n    return req;\n  };\n  return streamify(deferred.promise, createRequest).thenCall(callback);\n};\n\n/**\n * Class for HTTP request transport using AJAX proxy service\n *\n * @class Transport~ProxyTransport\n * @protected\n * @extends Transport\n * @param {String} proxyUrl - AJAX Proxy server URL\n */\nvar ProxyTransport = Transport.ProxyTransport = function(proxyUrl) {\n  this._proxyUrl = proxyUrl;\n};\n\nutil.inherits(ProxyTransport, Transport);\n\n/**\n * Make HTTP request via AJAX proxy\n *\n * @method Transport~ProxyTransport#httpRequest\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @returns {Promise.<Object>}\n */\nProxyTransport.prototype.httpRequest = function(params, callback) {\n  var url = params.url;\n  if (url.indexOf(\"/\") === 0) {\n    url = baseUrl + url;\n  }\n  var proxyParams = {\n    method: params.method,\n    url: this._proxyUrl + '?' + Date.now() + \".\" + (\"\" + Math.random()).substring(2),\n    headers: {\n      'salesforceproxy-endpoint': url\n    }\n  };\n  if (params.body || params.body === \"\") {\n    proxyParams.body = params.body;\n  }\n  if (params.headers) {\n    for (var name in params.headers) {\n      proxyParams.headers[name] = params.headers[name];\n    }\n  }\n  return ProxyTransport.super_.prototype.httpRequest.call(this, proxyParams, callback);\n};\n\n}).call(this,require('_process'))\n},{\"./browser/canvas\":2,\"./browser/jsonp\":3,\"./browser/request\":4,\"./promise\":5,\"_process\":15,\"request\":8}],8:[function(require,module,exports){\n\n},{}],9:[function(require,module,exports){\nmodule.exports=require(8)\n},{\"/Users/stomita/Work/Salesforce/jsforce/node_modules/browserify/lib/_empty.js\":8}],10:[function(require,module,exports){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = Buffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192\n\n/**\n * If `TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nvar TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return 42 === arr.foo() && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding, noZero) {\n  if (!(this instanceof Buffer))\n    return new Buffer(subject, encoding, noZero)\n\n  var type = typeof subject\n\n  // Find the length\n  var length\n  if (type === 'number')\n    length = subject > 0 ? subject >>> 0 : 0\n  else if (type === 'string') {\n    if (encoding === 'base64')\n      subject = base64clean(subject)\n    length = Buffer.byteLength(subject, encoding)\n  } else if (type === 'object' && subject !== null) { // assume object is array-like\n    if (subject.type === 'Buffer' && isArray(subject.data))\n      subject = subject.data\n    length = +subject.length > 0 ? Math.floor(+subject.length) : 0\n  } else\n    throw new Error('First argument needs to be a number, array or string.')\n\n  var buf\n  if (TYPED_ARRAY_SUPPORT) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    buf = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    buf = this\n    buf.length = length\n    buf._isBuffer = true\n  }\n\n  var i\n  if (TYPED_ARRAY_SUPPORT && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    buf._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    if (Buffer.isBuffer(subject)) {\n      for (i = 0; i < length; i++)\n        buf[i] = subject.readUInt8(i)\n    } else {\n      for (i = 0; i < length; i++)\n        buf[i] = ((subject[i] % 256) + 256) % 256\n    }\n  } else if (type === 'string') {\n    buf.write(subject, 0, encoding)\n  } else if (type === 'number' && !TYPED_ARRAY_SUPPORT && !noZero) {\n    for (i = 0; i < length; i++) {\n      buf[i] = 0\n    }\n  }\n\n  return buf\n}\n\n// STATIC METHODS\n// ==============\n\nBuffer.isEncoding = function (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.isBuffer = function (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.byteLength = function (str, encoding) {\n  var ret\n  str = str.toString()\n  switch (encoding || 'utf8') {\n    case 'hex':\n      ret = str.length / 2\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.concat = function (list, totalLength) {\n  assert(isArray(list), 'Usage: Buffer.concat(list[, length])')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (totalLength === undefined) {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nBuffer.compare = function (a, b) {\n  assert(Buffer.isBuffer(a) && Buffer.isBuffer(b), 'Arguments must be Buffers')\n  var x = a.length\n  var y = b.length\n  for (var i = 0, len = Math.min(x, y); i < len && a[i] === b[i]; i++) {}\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n  if (x < y) {\n    return -1\n  }\n  if (y < x) {\n    return 1\n  }\n  return 0\n}\n\n// BUFFER INSTANCE METHODS\n// =======================\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  assert(strLen % 2 === 0, 'Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var byte = parseInt(string.substr(i * 2, 2), 16)\n    assert(!isNaN(byte), 'Invalid hex string')\n    buf[offset + i] = byte\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf8ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction utf16leWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf16leToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nBuffer.prototype.write = function (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.prototype.toString = function (encoding, start, end) {\n  var self = this\n\n  encoding = String(encoding || 'utf8').toLowerCase()\n  start = Number(start) || 0\n  end = (end === undefined) ? self.length : Number(end)\n\n  // Fastpath empty strings\n  if (end === start)\n    return ''\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexSlice(self, start, end)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Slice(self, start, end)\n      break\n    case 'ascii':\n      ret = asciiSlice(self, start, end)\n      break\n    case 'binary':\n      ret = binarySlice(self, start, end)\n      break\n    case 'base64':\n      ret = base64Slice(self, start, end)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leSlice(self, start, end)\n      break\n    default:\n      throw new Error('Unknown encoding')\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nBuffer.prototype.equals = function (b) {\n  assert(Buffer.isBuffer(b), 'Argument must be a Buffer')\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.compare = function (b) {\n  assert(Buffer.isBuffer(b), 'Argument must be a Buffer')\n  return Buffer.compare(this, b)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function (target, target_start, start, end) {\n  var source = this\n\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (!target_start) target_start = 0\n\n  // Copy 0 bytes; we're done\n  if (end === start) return\n  if (target.length === 0 || source.length === 0) return\n\n  // Fatal error conditions\n  assert(end >= start, 'sourceEnd < sourceStart')\n  assert(target_start >= 0 && target_start < target.length,\n      'targetStart out of bounds')\n  assert(start >= 0 && start < source.length, 'sourceStart out of bounds')\n  assert(end >= 0 && end <= source.length, 'sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length)\n    end = this.length\n  if (target.length - target_start < end - start)\n    end = target.length - target_start + start\n\n  var len = end - start\n\n  if (len < 100 || !TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + target_start] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  return asciiSlice(buf, start, end)\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len;\n    if (start < 0)\n      start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0)\n      end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start)\n    end = start\n\n  if (TYPED_ARRAY_SUPPORT) {\n    return Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    var newBuf = new Buffer(sliceLen, undefined, true)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n    return newBuf\n  }\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nBuffer.prototype.readUInt8 = function (offset, noAssert) {\n  if (!noAssert) {\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'Trying to read beyond buffer length')\n  }\n\n  if (offset >= this.length)\n    return\n\n  return this[offset]\n}\n\nfunction readUInt16 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val\n  if (littleEndian) {\n    val = buf[offset]\n    if (offset + 1 < len)\n      val |= buf[offset + 1] << 8\n  } else {\n    val = buf[offset] << 8\n    if (offset + 1 < len)\n      val |= buf[offset + 1]\n  }\n  return val\n}\n\nBuffer.prototype.readUInt16LE = function (offset, noAssert) {\n  return readUInt16(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readUInt16BE = function (offset, noAssert) {\n  return readUInt16(this, offset, false, noAssert)\n}\n\nfunction readUInt32 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val\n  if (littleEndian) {\n    if (offset + 2 < len)\n      val = buf[offset + 2] << 16\n    if (offset + 1 < len)\n      val |= buf[offset + 1] << 8\n    val |= buf[offset]\n    if (offset + 3 < len)\n      val = val + (buf[offset + 3] << 24 >>> 0)\n  } else {\n    if (offset + 1 < len)\n      val = buf[offset + 1] << 16\n    if (offset + 2 < len)\n      val |= buf[offset + 2] << 8\n    if (offset + 3 < len)\n      val |= buf[offset + 3]\n    val = val + (buf[offset] << 24 >>> 0)\n  }\n  return val\n}\n\nBuffer.prototype.readUInt32LE = function (offset, noAssert) {\n  return readUInt32(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readUInt32BE = function (offset, noAssert) {\n  return readUInt32(this, offset, false, noAssert)\n}\n\nBuffer.prototype.readInt8 = function (offset, noAssert) {\n  if (!noAssert) {\n    assert(offset !== undefined && offset !== null,\n        'missing offset')\n    assert(offset < this.length, 'Trying to read beyond buffer length')\n  }\n\n  if (offset >= this.length)\n    return\n\n  var neg = this[offset] & 0x80\n  if (neg)\n    return (0xff - this[offset] + 1) * -1\n  else\n    return this[offset]\n}\n\nfunction readInt16 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val = readUInt16(buf, offset, littleEndian, true)\n  var neg = val & 0x8000\n  if (neg)\n    return (0xffff - val + 1) * -1\n  else\n    return val\n}\n\nBuffer.prototype.readInt16LE = function (offset, noAssert) {\n  return readInt16(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readInt16BE = function (offset, noAssert) {\n  return readInt16(this, offset, false, noAssert)\n}\n\nfunction readInt32 (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  var val = readUInt32(buf, offset, littleEndian, true)\n  var neg = val & 0x80000000\n  if (neg)\n    return (0xffffffff - val + 1) * -1\n  else\n    return val\n}\n\nBuffer.prototype.readInt32LE = function (offset, noAssert) {\n  return readInt32(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readInt32BE = function (offset, noAssert) {\n  return readInt32(this, offset, false, noAssert)\n}\n\nfunction readFloat (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset + 3 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  return ieee754.read(buf, offset, littleEndian, 23, 4)\n}\n\nBuffer.prototype.readFloatLE = function (offset, noAssert) {\n  return readFloat(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readFloatBE = function (offset, noAssert) {\n  return readFloat(this, offset, false, noAssert)\n}\n\nfunction readDouble (buf, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset + 7 < buf.length, 'Trying to read beyond buffer length')\n  }\n\n  return ieee754.read(buf, offset, littleEndian, 52, 8)\n}\n\nBuffer.prototype.readDoubleLE = function (offset, noAssert) {\n  return readDouble(this, offset, true, noAssert)\n}\n\nBuffer.prototype.readDoubleBE = function (offset, noAssert) {\n  return readDouble(this, offset, false, noAssert)\n}\n\nBuffer.prototype.writeUInt8 = function (value, offset, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xff)\n  }\n\n  if (offset >= this.length) return\n\n  this[offset] = value\n  return offset + 1\n}\n\nfunction writeUInt16 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xffff)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  for (var i = 0, j = Math.min(len - offset, 2); i < j; i++) {\n    buf[offset + i] =\n        (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n            (littleEndian ? i : 1 - i) * 8\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16LE = function (value, offset, noAssert) {\n  return writeUInt16(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeUInt16BE = function (value, offset, noAssert) {\n  return writeUInt16(this, value, offset, false, noAssert)\n}\n\nfunction writeUInt32 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'trying to write beyond buffer length')\n    verifuint(value, 0xffffffff)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  for (var i = 0, j = Math.min(len - offset, 4); i < j; i++) {\n    buf[offset + i] =\n        (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32LE = function (value, offset, noAssert) {\n  return writeUInt32(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeUInt32BE = function (value, offset, noAssert) {\n  return writeUInt32(this, value, offset, false, noAssert)\n}\n\nBuffer.prototype.writeInt8 = function (value, offset, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset < this.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7f, -0x80)\n  }\n\n  if (offset >= this.length)\n    return\n\n  if (value >= 0)\n    this.writeUInt8(value, offset, noAssert)\n  else\n    this.writeUInt8(0xff + value + 1, offset, noAssert)\n  return offset + 1\n}\n\nfunction writeInt16 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 1 < buf.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7fff, -0x8000)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  if (value >= 0)\n    writeUInt16(buf, value, offset, littleEndian, noAssert)\n  else\n    writeUInt16(buf, 0xffff + value + 1, offset, littleEndian, noAssert)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16LE = function (value, offset, noAssert) {\n  return writeInt16(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeInt16BE = function (value, offset, noAssert) {\n  return writeInt16(this, value, offset, false, noAssert)\n}\n\nfunction writeInt32 (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')\n    verifsint(value, 0x7fffffff, -0x80000000)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  if (value >= 0)\n    writeUInt32(buf, value, offset, littleEndian, noAssert)\n  else\n    writeUInt32(buf, 0xffffffff + value + 1, offset, littleEndian, noAssert)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32LE = function (value, offset, noAssert) {\n  return writeInt32(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeInt32BE = function (value, offset, noAssert) {\n  return writeInt32(this, value, offset, false, noAssert)\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 3 < buf.length, 'Trying to write beyond buffer length')\n    verifIEEE754(value, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    assert(value !== undefined && value !== null, 'missing value')\n    assert(typeof littleEndian === 'boolean', 'missing or invalid endian')\n    assert(offset !== undefined && offset !== null, 'missing offset')\n    assert(offset + 7 < buf.length,\n        'Trying to write beyond buffer length')\n    verifIEEE754(value, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n\n  var len = buf.length\n  if (offset >= len)\n    return\n\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  assert(end >= start, 'end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  assert(start >= 0 && start < this.length, 'start out of bounds')\n  assert(end >= 0 && end <= this.length, 'end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\nBuffer.prototype.inspect = function () {\n  var out = []\n  var len = this.length\n  for (var i = 0; i < len; i++) {\n    out[i] = toHex(this[i])\n    if (i === exports.INSPECT_MAX_BYTES) {\n      out[i + 1] = '...'\n      break\n    }\n  }\n  return '<Buffer ' + out.join(' ') + '>'\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new Error('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function (arr) {\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array get/set methods before overwriting\n  arr._get = arr.get\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction isArray (subject) {\n  return (Array.isArray || function (subject) {\n    return Object.prototype.toString.call(subject) === '[object Array]'\n  })(subject)\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    var b = str.charCodeAt(i)\n    if (b <= 0x7F) {\n      byteArray.push(b)\n    } else {\n      var start = i\n      if (b >= 0xD800 && b <= 0xDFFF) i++\n      var h = encodeURIComponent(str.slice(start, i+1)).substr(1).split('%')\n      for (var j = 0; j < h.length; j++) {\n        byteArray.push(parseInt(h[j], 16))\n      }\n    }\n  }\n  return byteArray\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(str)\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length))\n      break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n\n/*\n * We have to make sure that the value is a valid integer. This means that it\n * is non-negative. It has no fractional component and that it does not\n * exceed the maximum allowed value.\n */\nfunction verifuint (value, max) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value >= 0, 'specified a negative value for writing an unsigned value')\n  assert(value <= max, 'value is larger than maximum value for type')\n  assert(Math.floor(value) === value, 'value has a fractional component')\n}\n\nfunction verifsint (value, max, min) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value <= max, 'value larger than maximum allowed value')\n  assert(value >= min, 'value smaller than minimum allowed value')\n  assert(Math.floor(value) === value, 'value has a fractional component')\n}\n\nfunction verifIEEE754 (value, max, min) {\n  assert(typeof value === 'number', 'cannot write a non-number as a number')\n  assert(value <= max, 'value larger than maximum allowed value')\n  assert(value >= min, 'value smaller than minimum allowed value')\n}\n\nfunction assert (test, message) {\n  if (!test) throw new Error(message || 'Failed assertion')\n}\n\n},{\"base64-js\":11,\"ieee754\":12}],11:[function(require,module,exports){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n},{}],12:[function(require,module,exports){\nexports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n},{}],13:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],14:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],15:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n}\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n\n},{}],16:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n},{\"events\":13,\"inherits\":14,\"readable-stream/duplex.js\":19,\"readable-stream/passthrough.js\":29,\"readable-stream/readable.js\":30,\"readable-stream/transform.js\":31,\"readable-stream/writable.js\":32}],17:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nfunction assertEncoding(encoding) {\n  if (encoding && !Buffer.isEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  this.charBuffer = new Buffer(6);\n  this.charReceived = 0;\n  this.charLength = 0;\n};\n\n\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  var offset = 0;\n\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var i = (buffer.length >= this.charLength - this.charReceived) ?\n                this.charLength - this.charReceived :\n                buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, offset, i);\n    this.charReceived += (i - offset);\n    offset = i;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (i == buffer.length) return charStr;\n\n    // otherwise cut off the characters end from the beginning of this buffer\n    buffer = buffer.slice(i, buffer.length);\n    break;\n  }\n\n  var lenIncomplete = this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - lenIncomplete, end);\n    this.charReceived = lenIncomplete;\n    end -= lenIncomplete;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    this.charBuffer.write(charStr.charAt(charStr.length - 1), this.encoding);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n\n  return i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  var incomplete = this.charReceived = buffer.length % 2;\n  this.charLength = incomplete ? 2 : 0;\n  return incomplete;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  var incomplete = this.charReceived = buffer.length % 3;\n  this.charLength = incomplete ? 3 : 0;\n  return incomplete;\n}\n\n},{\"buffer\":10}],18:[function(require,module,exports){\n(function (process){\n// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    // Turn off strict mode for this function so we can assign to global.Q\n    /* jshint strict: false */\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else {\n        Q = definition();\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n\n    function flush() {\n        /* jshint loopfunc: true */\n\n        while (head.next) {\n            head = head.next;\n            var task = head.task;\n            head.task = void 0;\n            var domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n\n            try {\n                task();\n\n            } catch (e) {\n                if (isNodeJS) {\n                    // In node, uncaught exceptions are considered fatal errors.\n                    // Re-throw them synchronously to interrupt flushing!\n\n                    // Ensure continuation if the uncaught exception is suppressed\n                    // listening \"uncaughtException\" events (as domains does).\n                    // Continue in next event to avoid tick recursion.\n                    if (domain) {\n                        domain.exit();\n                    }\n                    setTimeout(flush, 0);\n                    if (domain) {\n                        domain.enter();\n                    }\n\n                    throw e;\n\n                } else {\n                    // In browsers, uncaught exceptions are not fatal.\n                    // Re-throw them asynchronously to avoid slow-downs.\n                    setTimeout(function() {\n                       throw e;\n                    }, 0);\n                }\n            }\n\n            if (domain) {\n                domain.exit();\n            }\n        }\n\n        flushing = false;\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process !== \"undefined\" && process.nextTick) {\n        // Node.js before 0.9. Note that some fake-Node environments, like the\n        // Mocha test runner, introduce a `process` global without a `nextTick`.\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you dont need a security guarantee,\n// this is just plain paranoid.\n// However, this does have the nice side-effect of reducing the size\n// of the code by reducing x.call() to merely x(), eliminating many\n// hard-to-minify characters.\n// See Mark Millers explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n// engine that has a deployed base of browsers that support generators.\n// However, SM's generators use the Python-inspired semantics of\n// outdated ES6 drafts.  We would like to support ES6, but we'd also\n// like to make it possible to use generators in deployed browsers, so\n// we also support Python-style generators.  At some point we can remove\n// this block.\nvar hasES6Generators;\ntry {\n    /* jshint evil: true, nonew: false */\n    new Function(\"(function* (){ yield 1; })\");\n    hasES6Generators = true;\n} catch (e) {\n    hasES6Generators = false;\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (isPromise(value)) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = deprecate(function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    }, \"valueOf\", \"inspect\");\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become fulfilled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be fulfilled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function(resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function(answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = deprecate(function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        });\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If its a fulfilled promise, the fulfillment value is nearer.\n * If its a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return isObject(object) &&\n        typeof object.promiseDispatch === \"function\" &&\n        typeof object.inspect === \"function\";\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar unhandledReasonsDisplayed = false;\nvar trackUnhandledRejections = true;\nfunction displayUnhandledReasons() {\n    if (\n        !unhandledReasonsDisplayed &&\n        typeof window !== \"undefined\" &&\n        !window.Touch &&\n        window.console\n    ) {\n        console.warn(\"[Q] Unhandled rejection reasons (should be empty):\",\n                     unhandledReasons);\n    }\n\n    unhandledReasonsDisplayed = true;\n}\n\nfunction logUnhandledReasons() {\n    for (var i = 0; i < unhandledReasons.length; i++) {\n        var reason = unhandledReasons[i];\n        console.warn(\"Unhandled rejection reason:\", reason);\n    }\n}\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n    unhandledReasonsDisplayed = false;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n\n        // Show unhandled rejection reasons if Node exits without handling an\n        // outstanding rejection.  (Note that Browserify presently produces a\n        // `process` global without the `EventEmitter` `on` method.)\n        if (typeof process !== \"undefined\" && process.on) {\n            process.on(\"exit\", logUnhandledReasons);\n        }\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n    displayUnhandledReasons();\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    if (typeof process !== \"undefined\" && process.on) {\n        process.removeListener(\"exit\", logUnhandledReasons);\n    }\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n            if (hasES6Generators) {\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return result.value;\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return exception.value;\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var countDown = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++countDown;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--countDown === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (countDown === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {String} custom error message (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, message) {\n    return Q(object).timeout(ms, message);\n};\n\nPromise.prototype.timeout = function (ms, message) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        deferred.reject(new Error(message || \"Timed out after \" + ms + \" ms\"));\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n}).call(this,require('_process'))\n},{\"_process\":15}],19:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_duplex.js\")\n\n},{\"./lib/_stream_duplex.js\":20}],20:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_readable\":22,\"./_stream_writable\":24,\"_process\":15,\"core-util-is\":25,\"inherits\":26}],21:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n},{\"./_stream_transform\":23,\"core-util-is\":25,\"inherits\":26}],22:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":20,\"_process\":15,\"buffer\":10,\"core-util-is\":25,\"events\":13,\"inherits\":26,\"isarray\":27,\"stream\":16,\"string_decoder/\":28,\"util\":9}],23:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n},{\"./_stream_duplex\":20,\"core-util-is\":25,\"inherits\":26}],24:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":20,\"_process\":15,\"buffer\":10,\"core-util-is\":25,\"inherits\":26,\"stream\":16}],25:[function(require,module,exports){\n(function (Buffer){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nfunction isBuffer(arg) {\n  return Buffer.isBuffer(arg);\n}\nexports.isBuffer = isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":10}],26:[function(require,module,exports){\nmodule.exports=require(14)\n},{\"/Users/stomita/Work/Salesforce/jsforce/node_modules/browserify/node_modules/inherits/inherits_browser.js\":14}],27:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],28:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n},{\"buffer\":10}],29:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\n\n},{\"./lib/_stream_passthrough.js\":21}],30:[function(require,module,exports){\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\n},{\"./lib/_stream_duplex.js\":20,\"./lib/_stream_passthrough.js\":21,\"./lib/_stream_readable.js\":22,\"./lib/_stream_transform.js\":23,\"./lib/_stream_writable.js\":24,\"stream\":16}],31:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_transform.js\")\n\n},{\"./lib/_stream_transform.js\":23}],32:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_writable.js\")\n\n},{\"./lib/_stream_writable.js\":24}],33:[function(require,module,exports){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var xml2js;\n\n  xml2js = require('../lib/xml2js');\n\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n\n},{\"../lib/xml2js\":35}],34:[function(require,module,exports){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n}).call(this);\n\n},{}],35:[function(require,module,exports){\n(function (process){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var bom, builder, events, isEmpty, processName, processors, sax,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  sax = require('sax');\n\n  events = require('events');\n\n  builder = require('xmlbuilder');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processName = function(processors, processedName) {\n    var process, _i, _len;\n    for (_i = 0, _len = processors.length; _i < _len; _i++) {\n      process = processors[_i];\n      processedName = process(processedName);\n    }\n    return processedName;\n  };\n\n  exports.processors = processors;\n\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false\n    }\n  };\n\n  exports.ValidationError = (function(_super) {\n    __extends(ValidationError, _super);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, value, _ref;\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === exports.defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = function(element, obj) {\n        var attr, child, entry, index, key, value, _ref, _ref1;\n        if (typeof obj !== 'object') {\n          element.txt(obj);\n        } else {\n          for (key in obj) {\n            if (!__hasProp.call(obj, key)) continue;\n            child = obj[key];\n            if (key === attrkey) {\n              if (typeof child === \"object\") {\n                for (attr in child) {\n                  value = child[attr];\n                  element = element.att(attr, value);\n                }\n              }\n            } else if (key === charkey) {\n              element = element.txt(child);\n            } else if (typeof child === 'object' && ((child != null ? child.constructor : void 0) != null) && ((child != null ? (_ref = child.constructor) != null ? _ref.name : void 0 : void 0) != null) && (child != null ? (_ref1 = child.constructor) != null ? _ref1.name : void 0 : void 0) === 'Array') {\n              for (index in child) {\n                if (!__hasProp.call(child, index)) continue;\n                entry = child[index];\n                if (typeof entry === 'string') {\n                  element = element.ele(key, entry).up();\n                } else {\n                  element = arguments.callee(element.ele(key), entry).up();\n                }\n              }\n            } else if (typeof child === \"object\") {\n              element = arguments.callee(element.ele(key), child).up();\n            } else {\n              element = element.ele(key, child.toString()).up();\n            }\n          }\n        }\n        return element;\n      };\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n  exports.Parser = (function(_super) {\n    __extends(Parser, _super);\n\n    function Parser(opts) {\n      this.parseString = __bind(this.parseString, this);\n      this.reset = __bind(this.reset, this);\n      this.assignOrPush = __bind(this.assignOrPush, this);\n      var key, value, _ref;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, _ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            _ref = node.attributes;\n            for (key in _ref) {\n              if (!__hasProp.call(_ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processName(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processName(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, err, node, nodeName, obj, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          delete obj[\"#name\"];\n          cdata = obj.cdata;\n          delete obj.cdata;\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== void 0 ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var _i, _len, _results;\n              _results = [];\n              for (_i = 0, _len = stack.length; _i < _len; _i++) {\n                node = stack[_i];\n                _results.push(node[\"#name\"]);\n              }\n              return _results;\n            })()).concat(nodeName).join(\"/\");\n            try {\n              obj = _this.options.validator(xpath, s && s[nodeName], obj);\n            } catch (_error) {\n              err = _error;\n              _this.emit(\"error\", err);\n            }\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            node = {};\n            if (_this.options.attrkey in obj) {\n              node[_this.options.attrkey] = obj[_this.options.attrkey];\n              delete obj[_this.options.attrkey];\n            }\n            if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n              node[_this.options.charkey] = obj[_this.options.charkey];\n              delete obj[_this.options.charkey];\n            }\n            if (Object.getOwnPropertyNames(obj).length > 0) {\n              node[_this.options.childkey] = obj;\n            }\n            obj = node;\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          if (this.options.async) {\n            return process.nextTick(function() {\n              return cb(null, result);\n            });\n          } else {\n            return cb(null, result);\n          }\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          if (this.options.async) {\n            return process.nextTick(function() {\n              return cb(err);\n            });\n          } else {\n            return cb(err);\n          }\n        });\n      }\n      if (str.toString().trim() === '') {\n        this.emit(\"end\", null);\n        return true;\n      }\n      try {\n        return this.saxParser.write(bom.stripBOM(str.toString())).close();\n      } catch (_error) {\n        err = _error;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n\n}).call(this,require('_process'))\n},{\"./bom\":33,\"./processors\":34,\"_process\":15,\"events\":13,\"sax\":36,\"xmlbuilder\":53}],36:[function(require,module,exports){\n(function (Buffer){\n// wrapper for non-node envs\n;(function (sax) {\n\nsax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\nsax.SAXParser = SAXParser\nsax.SAXStream = SAXStream\nsax.createStream = createStream\n\n// When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n// When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n// since that's the earliest that a buffer overrun could occur.  This way, checks are\n// as rare as required, but as often as necessary to ensure never crossing this bound.\n// Furthermore, buffers are only tested at most once per write(), so passing a very\n// large string into write() might have undesirable effects, but this is manageable by\n// the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n// edge case, result in creating at most one complete copy of the string passed in.\n// Set to Infinity to have unlimited buffers.\nsax.MAX_BUFFER_LENGTH = 64 * 1024\n\nvar buffers = [\n  \"comment\", \"sgmlDecl\", \"textNode\", \"tagName\", \"doctype\",\n  \"procInstName\", \"procInstBody\", \"entity\", \"attribName\",\n  \"attribValue\", \"cdata\", \"script\"\n]\n\nsax.EVENTS = // for discoverability.\n  [ \"text\"\n  , \"processinginstruction\"\n  , \"sgmldeclaration\"\n  , \"doctype\"\n  , \"comment\"\n  , \"attribute\"\n  , \"opentag\"\n  , \"closetag\"\n  , \"opencdata\"\n  , \"cdata\"\n  , \"closecdata\"\n  , \"error\"\n  , \"end\"\n  , \"ready\"\n  , \"script\"\n  , \"opennamespace\"\n  , \"closenamespace\"\n  ]\n\nfunction SAXParser (strict, opt) {\n  if (!(this instanceof SAXParser)) return new SAXParser(strict, opt)\n\n  var parser = this\n  clearBuffers(parser)\n  parser.q = parser.c = \"\"\n  parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n  parser.opt = opt || {}\n  parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n  parser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\"\n  parser.tags = []\n  parser.closed = parser.closedRoot = parser.sawRoot = false\n  parser.tag = parser.error = null\n  parser.strict = !!strict\n  parser.noscript = !!(strict || parser.opt.noscript)\n  parser.state = S.BEGIN\n  parser.ENTITIES = Object.create(sax.ENTITIES)\n  parser.attribList = []\n\n  // namespaces form a prototype chain.\n  // it always points at the current tag,\n  // which protos to its parent tag.\n  if (parser.opt.xmlns) parser.ns = Object.create(rootNS)\n\n  // mostly just for error reporting\n  parser.trackPosition = parser.opt.position !== false\n  if (parser.trackPosition) {\n    parser.position = parser.line = parser.column = 0\n  }\n  emit(parser, \"onready\")\n}\n\nif (!Object.create) Object.create = function (o) {\n  function f () { this.__proto__ = o }\n  f.prototype = o\n  return new f\n}\n\nif (!Object.getPrototypeOf) Object.getPrototypeOf = function (o) {\n  return o.__proto__\n}\n\nif (!Object.keys) Object.keys = function (o) {\n  var a = []\n  for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n  return a\n}\n\nfunction checkBufferLength (parser) {\n  var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    , maxActual = 0\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    var len = parser[buffers[i]].length\n    if (len > maxAllowed) {\n      // Text/cdata nodes can get big, and since they're buffered,\n      // we can get here under normal conditions.\n      // Avoid issues by emitting the text node now,\n      // so at least it won't get any bigger.\n      switch (buffers[i]) {\n        case \"textNode\":\n          closeText(parser)\n        break\n\n        case \"cdata\":\n          emitNode(parser, \"oncdata\", parser.cdata)\n          parser.cdata = \"\"\n        break\n\n        case \"script\":\n          emitNode(parser, \"onscript\", parser.script)\n          parser.script = \"\"\n        break\n\n        default:\n          error(parser, \"Max buffer length exceeded: \"+buffers[i])\n      }\n    }\n    maxActual = Math.max(maxActual, len)\n  }\n  // schedule the next check for the earliest possible buffer overrun.\n  parser.bufferCheckPosition = (sax.MAX_BUFFER_LENGTH - maxActual)\n                             + parser.position\n}\n\nfunction clearBuffers (parser) {\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    parser[buffers[i]] = \"\"\n  }\n}\n\nfunction flushBuffers (parser) {\n  closeText(parser)\n  if (parser.cdata !== \"\") {\n    emitNode(parser, \"oncdata\", parser.cdata)\n    parser.cdata = \"\"\n  }\n  if (parser.script !== \"\") {\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n}\n\nSAXParser.prototype =\n  { end: function () { end(this) }\n  , write: write\n  , resume: function () { this.error = null; return this }\n  , close: function () { return this.write(null) }\n  , flush: function () { flushBuffers(this) }\n  }\n\ntry {\n  var Stream = require(\"stream\").Stream\n} catch (ex) {\n  var Stream = function () {}\n}\n\n\nvar streamWraps = sax.EVENTS.filter(function (ev) {\n  return ev !== \"error\" && ev !== \"end\"\n})\n\nfunction createStream (strict, opt) {\n  return new SAXStream(strict, opt)\n}\n\nfunction SAXStream (strict, opt) {\n  if (!(this instanceof SAXStream)) return new SAXStream(strict, opt)\n\n  Stream.apply(this)\n\n  this._parser = new SAXParser(strict, opt)\n  this.writable = true\n  this.readable = true\n\n\n  var me = this\n\n  this._parser.onend = function () {\n    me.emit(\"end\")\n  }\n\n  this._parser.onerror = function (er) {\n    me.emit(\"error\", er)\n\n    // if didn't throw, then means error was handled.\n    // go ahead and clear error, so we can write again.\n    me._parser.error = null\n  }\n\n  this._decoder = null;\n\n  streamWraps.forEach(function (ev) {\n    Object.defineProperty(me, \"on\" + ev, {\n      get: function () { return me._parser[\"on\" + ev] },\n      set: function (h) {\n        if (!h) {\n          me.removeAllListeners(ev)\n          return me._parser[\"on\"+ev] = h\n        }\n        me.on(ev, h)\n      },\n      enumerable: true,\n      configurable: false\n    })\n  })\n}\n\nSAXStream.prototype = Object.create(Stream.prototype,\n  { constructor: { value: SAXStream } })\n\nSAXStream.prototype.write = function (data) {\n  if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n    if (!this._decoder) {\n      var SD = require('string_decoder').StringDecoder\n      this._decoder = new SD('utf8')\n    }\n    data = this._decoder.write(data);\n  }\n\n  this._parser.write(data.toString())\n  this.emit(\"data\", data)\n  return true\n}\n\nSAXStream.prototype.end = function (chunk) {\n  if (chunk && chunk.length) this.write(chunk)\n  this._parser.end()\n  return true\n}\n\nSAXStream.prototype.on = function (ev, handler) {\n  var me = this\n  if (!me._parser[\"on\"+ev] && streamWraps.indexOf(ev) !== -1) {\n    me._parser[\"on\"+ev] = function () {\n      var args = arguments.length === 1 ? [arguments[0]]\n               : Array.apply(null, arguments)\n      args.splice(0, 0, ev)\n      me.emit.apply(me, args)\n    }\n  }\n\n  return Stream.prototype.on.call(me, ev, handler)\n}\n\n\n\n// character classes and tokens\nvar whitespace = \"\\r\\n\\t \"\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  , number = \"0124356789\"\n  , letter = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n  // (Letter | \"_\" | \":\")\n  , quote = \"'\\\"\"\n  , entity = number+letter+\"#\"\n  , attribEnd = whitespace + \">\"\n  , CDATA = \"[CDATA[\"\n  , DOCTYPE = \"DOCTYPE\"\n  , XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\"\n  , XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\"\n  , rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n// turn all the string character sets into character class objects.\nwhitespace = charClass(whitespace)\nnumber = charClass(number)\nletter = charClass(letter)\n\n// http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n// This implementation works on strings, a single character at a time\n// as such, it cannot ever support astral-plane characters (10000-EFFFF)\n// without a significant breaking change to either this  parser, or the\n// JavaScript language.  Implementation of an emoji-capable xml parser\n// is left as an exercise for the reader.\nvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\nvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\nquote = charClass(quote)\nentity = charClass(entity)\nattribEnd = charClass(attribEnd)\n\nfunction charClass (str) {\n  return str.split(\"\").reduce(function (s, c) {\n    s[c] = true\n    return s\n  }, {})\n}\n\nfunction isRegExp (c) {\n  return Object.prototype.toString.call(c) === '[object RegExp]'\n}\n\nfunction is (charclass, c) {\n  return isRegExp(charclass) ? !!c.match(charclass) : charclass[c]\n}\n\nfunction not (charclass, c) {\n  return !is(charclass, c)\n}\n\nvar S = 0\nsax.STATE =\n{ BEGIN                     : S++\n, TEXT                      : S++ // general stuff\n, TEXT_ENTITY               : S++ // &amp and such.\n, OPEN_WAKA                 : S++ // <\n, SGML_DECL                 : S++ // <!BLARG\n, SGML_DECL_QUOTED          : S++ // <!BLARG foo \"bar\n, DOCTYPE                   : S++ // <!DOCTYPE\n, DOCTYPE_QUOTED            : S++ // <!DOCTYPE \"//blah\n, DOCTYPE_DTD               : S++ // <!DOCTYPE \"//blah\" [ ...\n, DOCTYPE_DTD_QUOTED        : S++ // <!DOCTYPE \"//blah\" [ \"foo\n, COMMENT_STARTING          : S++ // <!-\n, COMMENT                   : S++ // <!--\n, COMMENT_ENDING            : S++ // <!-- blah -\n, COMMENT_ENDED             : S++ // <!-- blah --\n, CDATA                     : S++ // <![CDATA[ something\n, CDATA_ENDING              : S++ // ]\n, CDATA_ENDING_2            : S++ // ]]\n, PROC_INST                 : S++ // <?hi\n, PROC_INST_BODY            : S++ // <?hi there\n, PROC_INST_ENDING          : S++ // <?hi \"there\" ?\n, OPEN_TAG                  : S++ // <strong\n, OPEN_TAG_SLASH            : S++ // <strong /\n, ATTRIB                    : S++ // <a\n, ATTRIB_NAME               : S++ // <a foo\n, ATTRIB_NAME_SAW_WHITE     : S++ // <a foo _\n, ATTRIB_VALUE              : S++ // <a foo=\n, ATTRIB_VALUE_QUOTED       : S++ // <a foo=\"bar\n, ATTRIB_VALUE_CLOSED       : S++ // <a foo=\"bar\"\n, ATTRIB_VALUE_UNQUOTED     : S++ // <a foo=bar\n, ATTRIB_VALUE_ENTITY_Q     : S++ // <foo bar=\"&quot;\"\n, ATTRIB_VALUE_ENTITY_U     : S++ // <foo bar=&quot;\n, CLOSE_TAG                 : S++ // </a\n, CLOSE_TAG_SAW_WHITE       : S++ // </a   >\n, SCRIPT                    : S++ // <script> ...\n, SCRIPT_ENDING             : S++ // <script> ... <\n}\n\nsax.ENTITIES =\n{ \"amp\" : \"&\"\n, \"gt\" : \">\"\n, \"lt\" : \"<\"\n, \"quot\" : \"\\\"\"\n, \"apos\" : \"'\"\n, \"AElig\" : 198\n, \"Aacute\" : 193\n, \"Acirc\" : 194\n, \"Agrave\" : 192\n, \"Aring\" : 197\n, \"Atilde\" : 195\n, \"Auml\" : 196\n, \"Ccedil\" : 199\n, \"ETH\" : 208\n, \"Eacute\" : 201\n, \"Ecirc\" : 202\n, \"Egrave\" : 200\n, \"Euml\" : 203\n, \"Iacute\" : 205\n, \"Icirc\" : 206\n, \"Igrave\" : 204\n, \"Iuml\" : 207\n, \"Ntilde\" : 209\n, \"Oacute\" : 211\n, \"Ocirc\" : 212\n, \"Ograve\" : 210\n, \"Oslash\" : 216\n, \"Otilde\" : 213\n, \"Ouml\" : 214\n, \"THORN\" : 222\n, \"Uacute\" : 218\n, \"Ucirc\" : 219\n, \"Ugrave\" : 217\n, \"Uuml\" : 220\n, \"Yacute\" : 221\n, \"aacute\" : 225\n, \"acirc\" : 226\n, \"aelig\" : 230\n, \"agrave\" : 224\n, \"aring\" : 229\n, \"atilde\" : 227\n, \"auml\" : 228\n, \"ccedil\" : 231\n, \"eacute\" : 233\n, \"ecirc\" : 234\n, \"egrave\" : 232\n, \"eth\" : 240\n, \"euml\" : 235\n, \"iacute\" : 237\n, \"icirc\" : 238\n, \"igrave\" : 236\n, \"iuml\" : 239\n, \"ntilde\" : 241\n, \"oacute\" : 243\n, \"ocirc\" : 244\n, \"ograve\" : 242\n, \"oslash\" : 248\n, \"otilde\" : 245\n, \"ouml\" : 246\n, \"szlig\" : 223\n, \"thorn\" : 254\n, \"uacute\" : 250\n, \"ucirc\" : 251\n, \"ugrave\" : 249\n, \"uuml\" : 252\n, \"yacute\" : 253\n, \"yuml\" : 255\n, \"copy\" : 169\n, \"reg\" : 174\n, \"nbsp\" : 160\n, \"iexcl\" : 161\n, \"cent\" : 162\n, \"pound\" : 163\n, \"curren\" : 164\n, \"yen\" : 165\n, \"brvbar\" : 166\n, \"sect\" : 167\n, \"uml\" : 168\n, \"ordf\" : 170\n, \"laquo\" : 171\n, \"not\" : 172\n, \"shy\" : 173\n, \"macr\" : 175\n, \"deg\" : 176\n, \"plusmn\" : 177\n, \"sup1\" : 185\n, \"sup2\" : 178\n, \"sup3\" : 179\n, \"acute\" : 180\n, \"micro\" : 181\n, \"para\" : 182\n, \"middot\" : 183\n, \"cedil\" : 184\n, \"ordm\" : 186\n, \"raquo\" : 187\n, \"frac14\" : 188\n, \"frac12\" : 189\n, \"frac34\" : 190\n, \"iquest\" : 191\n, \"times\" : 215\n, \"divide\" : 247\n, \"OElig\" : 338\n, \"oelig\" : 339\n, \"Scaron\" : 352\n, \"scaron\" : 353\n, \"Yuml\" : 376\n, \"fnof\" : 402\n, \"circ\" : 710\n, \"tilde\" : 732\n, \"Alpha\" : 913\n, \"Beta\" : 914\n, \"Gamma\" : 915\n, \"Delta\" : 916\n, \"Epsilon\" : 917\n, \"Zeta\" : 918\n, \"Eta\" : 919\n, \"Theta\" : 920\n, \"Iota\" : 921\n, \"Kappa\" : 922\n, \"Lambda\" : 923\n, \"Mu\" : 924\n, \"Nu\" : 925\n, \"Xi\" : 926\n, \"Omicron\" : 927\n, \"Pi\" : 928\n, \"Rho\" : 929\n, \"Sigma\" : 931\n, \"Tau\" : 932\n, \"Upsilon\" : 933\n, \"Phi\" : 934\n, \"Chi\" : 935\n, \"Psi\" : 936\n, \"Omega\" : 937\n, \"alpha\" : 945\n, \"beta\" : 946\n, \"gamma\" : 947\n, \"delta\" : 948\n, \"epsilon\" : 949\n, \"zeta\" : 950\n, \"eta\" : 951\n, \"theta\" : 952\n, \"iota\" : 953\n, \"kappa\" : 954\n, \"lambda\" : 955\n, \"mu\" : 956\n, \"nu\" : 957\n, \"xi\" : 958\n, \"omicron\" : 959\n, \"pi\" : 960\n, \"rho\" : 961\n, \"sigmaf\" : 962\n, \"sigma\" : 963\n, \"tau\" : 964\n, \"upsilon\" : 965\n, \"phi\" : 966\n, \"chi\" : 967\n, \"psi\" : 968\n, \"omega\" : 969\n, \"thetasym\" : 977\n, \"upsih\" : 978\n, \"piv\" : 982\n, \"ensp\" : 8194\n, \"emsp\" : 8195\n, \"thinsp\" : 8201\n, \"zwnj\" : 8204\n, \"zwj\" : 8205\n, \"lrm\" : 8206\n, \"rlm\" : 8207\n, \"ndash\" : 8211\n, \"mdash\" : 8212\n, \"lsquo\" : 8216\n, \"rsquo\" : 8217\n, \"sbquo\" : 8218\n, \"ldquo\" : 8220\n, \"rdquo\" : 8221\n, \"bdquo\" : 8222\n, \"dagger\" : 8224\n, \"Dagger\" : 8225\n, \"bull\" : 8226\n, \"hellip\" : 8230\n, \"permil\" : 8240\n, \"prime\" : 8242\n, \"Prime\" : 8243\n, \"lsaquo\" : 8249\n, \"rsaquo\" : 8250\n, \"oline\" : 8254\n, \"frasl\" : 8260\n, \"euro\" : 8364\n, \"image\" : 8465\n, \"weierp\" : 8472\n, \"real\" : 8476\n, \"trade\" : 8482\n, \"alefsym\" : 8501\n, \"larr\" : 8592\n, \"uarr\" : 8593\n, \"rarr\" : 8594\n, \"darr\" : 8595\n, \"harr\" : 8596\n, \"crarr\" : 8629\n, \"lArr\" : 8656\n, \"uArr\" : 8657\n, \"rArr\" : 8658\n, \"dArr\" : 8659\n, \"hArr\" : 8660\n, \"forall\" : 8704\n, \"part\" : 8706\n, \"exist\" : 8707\n, \"empty\" : 8709\n, \"nabla\" : 8711\n, \"isin\" : 8712\n, \"notin\" : 8713\n, \"ni\" : 8715\n, \"prod\" : 8719\n, \"sum\" : 8721\n, \"minus\" : 8722\n, \"lowast\" : 8727\n, \"radic\" : 8730\n, \"prop\" : 8733\n, \"infin\" : 8734\n, \"ang\" : 8736\n, \"and\" : 8743\n, \"or\" : 8744\n, \"cap\" : 8745\n, \"cup\" : 8746\n, \"int\" : 8747\n, \"there4\" : 8756\n, \"sim\" : 8764\n, \"cong\" : 8773\n, \"asymp\" : 8776\n, \"ne\" : 8800\n, \"equiv\" : 8801\n, \"le\" : 8804\n, \"ge\" : 8805\n, \"sub\" : 8834\n, \"sup\" : 8835\n, \"nsub\" : 8836\n, \"sube\" : 8838\n, \"supe\" : 8839\n, \"oplus\" : 8853\n, \"otimes\" : 8855\n, \"perp\" : 8869\n, \"sdot\" : 8901\n, \"lceil\" : 8968\n, \"rceil\" : 8969\n, \"lfloor\" : 8970\n, \"rfloor\" : 8971\n, \"lang\" : 9001\n, \"rang\" : 9002\n, \"loz\" : 9674\n, \"spades\" : 9824\n, \"clubs\" : 9827\n, \"hearts\" : 9829\n, \"diams\" : 9830\n}\n\nObject.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n})\n\nfor (var S in sax.STATE) sax.STATE[sax.STATE[S]] = S\n\n// shorthand\nS = sax.STATE\n\nfunction emit (parser, event, data) {\n  parser[event] && parser[event](data)\n}\n\nfunction emitNode (parser, nodeType, data) {\n  if (parser.textNode) closeText(parser)\n  emit(parser, nodeType, data)\n}\n\nfunction closeText (parser) {\n  parser.textNode = textopts(parser.opt, parser.textNode)\n  if (parser.textNode) emit(parser, \"ontext\", parser.textNode)\n  parser.textNode = \"\"\n}\n\nfunction textopts (opt, text) {\n  if (opt.trim) text = text.trim()\n  if (opt.normalize) text = text.replace(/\\s+/g, \" \")\n  return text\n}\n\nfunction error (parser, er) {\n  closeText(parser)\n  if (parser.trackPosition) {\n    er += \"\\nLine: \"+parser.line+\n          \"\\nColumn: \"+parser.column+\n          \"\\nChar: \"+parser.c\n  }\n  er = new Error(er)\n  parser.error = er\n  emit(parser, \"onerror\", er)\n  return parser\n}\n\nfunction end (parser) {\n  if (!parser.closedRoot) strictFail(parser, \"Unclosed root tag\")\n  if ((parser.state !== S.BEGIN) && (parser.state !== S.TEXT)) error(parser, \"Unexpected end\")\n  closeText(parser)\n  parser.c = \"\"\n  parser.closed = true\n  emit(parser, \"onend\")\n  SAXParser.call(parser, parser.strict, parser.opt)\n  return parser\n}\n\nfunction strictFail (parser, message) {\n  if (typeof parser !== 'object' || !(parser instanceof SAXParser))\n    throw new Error('bad call to strictFail');\n  if (parser.strict) error(parser, message)\n}\n\nfunction newTag (parser) {\n  if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n  var parent = parser.tags[parser.tags.length - 1] || parser\n    , tag = parser.tag = { name : parser.tagName, attributes : {} }\n\n  // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n  if (parser.opt.xmlns) tag.ns = parent.ns\n  parser.attribList.length = 0\n}\n\nfunction qname (name, attribute) {\n  var i = name.indexOf(\":\")\n    , qualName = i < 0 ? [ \"\", name ] : name.split(\":\")\n    , prefix = qualName[0]\n    , local = qualName[1]\n\n  // <x \"xmlns\"=\"http://foo\">\n  if (attribute && name === \"xmlns\") {\n    prefix = \"xmlns\"\n    local = \"\"\n  }\n\n  return { prefix: prefix, local: local }\n}\n\nfunction attrib (parser) {\n  if (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]()\n\n  if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n    return parser.attribName = parser.attribValue = \"\"\n  }\n\n  if (parser.opt.xmlns) {\n    var qn = qname(parser.attribName, true)\n      , prefix = qn.prefix\n      , local = qn.local\n\n    if (prefix === \"xmlns\") {\n      // namespace binding attribute; push the binding into scope\n      if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) {\n        strictFail( parser\n                  , \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) {\n        strictFail( parser\n                  , \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else {\n        var tag = parser.tag\n          , parent = parser.tags[parser.tags.length - 1] || parser\n        if (tag.ns === parent.ns) {\n          tag.ns = Object.create(parent.ns)\n        }\n        tag.ns[local] = parser.attribValue\n      }\n    }\n\n    // defer onattribute events until all attributes have been seen\n    // so any new bindings can take effect; preserve attribute order\n    // so deferred events can be emitted in document order\n    parser.attribList.push([parser.attribName, parser.attribValue])\n  } else {\n    // in non-xmlns mode, we can emit the event right away\n    parser.tag.attributes[parser.attribName] = parser.attribValue\n    emitNode( parser\n            , \"onattribute\"\n            , { name: parser.attribName\n              , value: parser.attribValue } )\n  }\n\n  parser.attribName = parser.attribValue = \"\"\n}\n\nfunction openTag (parser, selfClosing) {\n  if (parser.opt.xmlns) {\n    // emit namespace binding events\n    var tag = parser.tag\n\n    // add namespace info to tag\n    var qn = qname(parser.tagName)\n    tag.prefix = qn.prefix\n    tag.local = qn.local\n    tag.uri = tag.ns[qn.prefix] || \"\"\n\n    if (tag.prefix && !tag.uri) {\n      strictFail(parser, \"Unbound namespace prefix: \"\n                       + JSON.stringify(parser.tagName))\n      tag.uri = qn.prefix\n    }\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (tag.ns && parent.ns !== tag.ns) {\n      Object.keys(tag.ns).forEach(function (p) {\n        emitNode( parser\n                , \"onopennamespace\"\n                , { prefix: p , uri: tag.ns[p] } )\n      })\n    }\n\n    // handle deferred onattribute events\n    // Note: do not apply default ns to attributes:\n    //   http://www.w3.org/TR/REC-xml-names/#defaulting\n    for (var i = 0, l = parser.attribList.length; i < l; i ++) {\n      var nv = parser.attribList[i]\n      var name = nv[0]\n        , value = nv[1]\n        , qualName = qname(name, true)\n        , prefix = qualName.prefix\n        , local = qualName.local\n        , uri = prefix == \"\" ? \"\" : (tag.ns[prefix] || \"\")\n        , a = { name: name\n              , value: value\n              , prefix: prefix\n              , local: local\n              , uri: uri\n              }\n\n      // if there's any attributes with an undefined namespace,\n      // then fail on them now.\n      if (prefix && prefix != \"xmlns\" && !uri) {\n        strictFail(parser, \"Unbound namespace prefix: \"\n                         + JSON.stringify(prefix))\n        a.uri = prefix\n      }\n      parser.tag.attributes[name] = a\n      emitNode(parser, \"onattribute\", a)\n    }\n    parser.attribList.length = 0\n  }\n\n  parser.tag.isSelfClosing = !!selfClosing\n\n  // process the tag\n  parser.sawRoot = true\n  parser.tags.push(parser.tag)\n  emitNode(parser, \"onopentag\", parser.tag)\n  if (!selfClosing) {\n    // special case for <script> in non-strict mode.\n    if (!parser.noscript && parser.tagName.toLowerCase() === \"script\") {\n      parser.state = S.SCRIPT\n    } else {\n      parser.state = S.TEXT\n    }\n    parser.tag = null\n    parser.tagName = \"\"\n  }\n  parser.attribName = parser.attribValue = \"\"\n  parser.attribList.length = 0\n}\n\nfunction closeTag (parser) {\n  if (!parser.tagName) {\n    strictFail(parser, \"Weird empty close tag.\")\n    parser.textNode += \"</>\"\n    parser.state = S.TEXT\n    return\n  }\n\n  if (parser.script) {\n    if (parser.tagName !== \"script\") {\n      parser.script += \"</\" + parser.tagName + \">\"\n      parser.tagName = \"\"\n      parser.state = S.SCRIPT\n      return\n    }\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n\n  // first make sure that the closing tag actually exists.\n  // <a><b></c></b></a> will close everything, otherwise.\n  var t = parser.tags.length\n  var tagName = parser.tagName\n  if (!parser.strict) tagName = tagName[parser.looseCase]()\n  var closeTo = tagName\n  while (t --) {\n    var close = parser.tags[t]\n    if (close.name !== closeTo) {\n      // fail the first time in strict mode\n      strictFail(parser, \"Unexpected close tag\")\n    } else break\n  }\n\n  // didn't find it.  we already failed for strict, so just abort.\n  if (t < 0) {\n    strictFail(parser, \"Unmatched closing tag: \"+parser.tagName)\n    parser.textNode += \"</\" + parser.tagName + \">\"\n    parser.state = S.TEXT\n    return\n  }\n  parser.tagName = tagName\n  var s = parser.tags.length\n  while (s --> t) {\n    var tag = parser.tag = parser.tags.pop()\n    parser.tagName = parser.tag.name\n    emitNode(parser, \"onclosetag\", parser.tagName)\n\n    var x = {}\n    for (var i in tag.ns) x[i] = tag.ns[i]\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (parser.opt.xmlns && tag.ns !== parent.ns) {\n      // remove namespace bindings introduced by tag\n      Object.keys(tag.ns).forEach(function (p) {\n        var n = tag.ns[p]\n        emitNode(parser, \"onclosenamespace\", { prefix: p, uri: n })\n      })\n    }\n  }\n  if (t === 0) parser.closedRoot = true\n  parser.tagName = parser.attribValue = parser.attribName = \"\"\n  parser.attribList.length = 0\n  parser.state = S.TEXT\n}\n\nfunction parseEntity (parser) {\n  var entity = parser.entity\n    , entityLC = entity.toLowerCase()\n    , num\n    , numStr = \"\"\n  if (parser.ENTITIES[entity])\n    return parser.ENTITIES[entity]\n  if (parser.ENTITIES[entityLC])\n    return parser.ENTITIES[entityLC]\n  entity = entityLC\n  if (entity.charAt(0) === \"#\") {\n    if (entity.charAt(1) === \"x\") {\n      entity = entity.slice(2)\n      num = parseInt(entity, 16)\n      numStr = num.toString(16)\n    } else {\n      entity = entity.slice(1)\n      num = parseInt(entity, 10)\n      numStr = num.toString(10)\n    }\n  }\n  entity = entity.replace(/^0+/, \"\")\n  if (numStr.toLowerCase() !== entity) {\n    strictFail(parser, \"Invalid character entity\")\n    return \"&\"+parser.entity + \";\"\n  }\n\n  return String.fromCodePoint(num)\n}\n\nfunction write (chunk) {\n  var parser = this\n  if (this.error) throw this.error\n  if (parser.closed) return error(parser,\n    \"Cannot write after close. Assign an onready handler.\")\n  if (chunk === null) return end(parser)\n  var i = 0, c = \"\"\n  while (parser.c = c = chunk.charAt(i++)) {\n    if (parser.trackPosition) {\n      parser.position ++\n      if (c === \"\\n\") {\n        parser.line ++\n        parser.column = 0\n      } else parser.column ++\n    }\n    switch (parser.state) {\n\n      case S.BEGIN:\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else if (not(whitespace,c)) {\n          // have to process this as a text node.\n          // weird, but happens.\n          strictFail(parser, \"Non-whitespace before first tag.\")\n          parser.textNode = c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.TEXT:\n        if (parser.sawRoot && !parser.closedRoot) {\n          var starti = i-1\n          while (c && c!==\"<\" && c!==\"&\") {\n            c = chunk.charAt(i++)\n            if (c && parser.trackPosition) {\n              parser.position ++\n              if (c === \"\\n\") {\n                parser.line ++\n                parser.column = 0\n              } else parser.column ++\n            }\n          }\n          parser.textNode += chunk.substring(starti, i-1)\n        }\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else {\n          if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot))\n            strictFail(parser, \"Text data outside of root node.\")\n          if (c === \"&\") parser.state = S.TEXT_ENTITY\n          else parser.textNode += c\n        }\n      continue\n\n      case S.SCRIPT:\n        // only non-strict\n        if (c === \"<\") {\n          parser.state = S.SCRIPT_ENDING\n        } else parser.script += c\n      continue\n\n      case S.SCRIPT_ENDING:\n        if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n        } else {\n          parser.script += \"<\" + c\n          parser.state = S.SCRIPT\n        }\n      continue\n\n      case S.OPEN_WAKA:\n        // either a /, ?, !, or text is coming next.\n        if (c === \"!\") {\n          parser.state = S.SGML_DECL\n          parser.sgmlDecl = \"\"\n        } else if (is(whitespace, c)) {\n          // wait for it...\n        } else if (is(nameStart,c)) {\n          parser.state = S.OPEN_TAG\n          parser.tagName = c\n        } else if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n          parser.tagName = \"\"\n        } else if (c === \"?\") {\n          parser.state = S.PROC_INST\n          parser.procInstName = parser.procInstBody = \"\"\n        } else {\n          strictFail(parser, \"Unencoded <\")\n          // if there was some whitespace, then add that in.\n          if (parser.startTagPosition + 1 < parser.position) {\n            var pad = parser.position - parser.startTagPosition\n            c = new Array(pad).join(\" \") + c\n          }\n          parser.textNode += \"<\" + c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.SGML_DECL:\n        if ((parser.sgmlDecl+c).toUpperCase() === CDATA) {\n          emitNode(parser, \"onopencdata\")\n          parser.state = S.CDATA\n          parser.sgmlDecl = \"\"\n          parser.cdata = \"\"\n        } else if (parser.sgmlDecl+c === \"--\") {\n          parser.state = S.COMMENT\n          parser.comment = \"\"\n          parser.sgmlDecl = \"\"\n        } else if ((parser.sgmlDecl+c).toUpperCase() === DOCTYPE) {\n          parser.state = S.DOCTYPE\n          if (parser.doctype || parser.sawRoot) strictFail(parser,\n            \"Inappropriately located doctype declaration\")\n          parser.doctype = \"\"\n          parser.sgmlDecl = \"\"\n        } else if (c === \">\") {\n          emitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl)\n          parser.sgmlDecl = \"\"\n          parser.state = S.TEXT\n        } else if (is(quote, c)) {\n          parser.state = S.SGML_DECL_QUOTED\n          parser.sgmlDecl += c\n        } else parser.sgmlDecl += c\n      continue\n\n      case S.SGML_DECL_QUOTED:\n        if (c === parser.q) {\n          parser.state = S.SGML_DECL\n          parser.q = \"\"\n        }\n        parser.sgmlDecl += c\n      continue\n\n      case S.DOCTYPE:\n        if (c === \">\") {\n          parser.state = S.TEXT\n          emitNode(parser, \"ondoctype\", parser.doctype)\n          parser.doctype = true // just remember that we saw it.\n        } else {\n          parser.doctype += c\n          if (c === \"[\") parser.state = S.DOCTYPE_DTD\n          else if (is(quote, c)) {\n            parser.state = S.DOCTYPE_QUOTED\n            parser.q = c\n          }\n        }\n      continue\n\n      case S.DOCTYPE_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.q = \"\"\n          parser.state = S.DOCTYPE\n        }\n      continue\n\n      case S.DOCTYPE_DTD:\n        parser.doctype += c\n        if (c === \"]\") parser.state = S.DOCTYPE\n        else if (is(quote,c)) {\n          parser.state = S.DOCTYPE_DTD_QUOTED\n          parser.q = c\n        }\n      continue\n\n      case S.DOCTYPE_DTD_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.state = S.DOCTYPE_DTD\n          parser.q = \"\"\n        }\n      continue\n\n      case S.COMMENT:\n        if (c === \"-\") parser.state = S.COMMENT_ENDING\n        else parser.comment += c\n      continue\n\n      case S.COMMENT_ENDING:\n        if (c === \"-\") {\n          parser.state = S.COMMENT_ENDED\n          parser.comment = textopts(parser.opt, parser.comment)\n          if (parser.comment) emitNode(parser, \"oncomment\", parser.comment)\n          parser.comment = \"\"\n        } else {\n          parser.comment += \"-\" + c\n          parser.state = S.COMMENT\n        }\n      continue\n\n      case S.COMMENT_ENDED:\n        if (c !== \">\") {\n          strictFail(parser, \"Malformed comment\")\n          // allow <!-- blah -- bloo --> in non-strict mode,\n          // which is a comment of \" blah -- bloo \"\n          parser.comment += \"--\" + c\n          parser.state = S.COMMENT\n        } else parser.state = S.TEXT\n      continue\n\n      case S.CDATA:\n        if (c === \"]\") parser.state = S.CDATA_ENDING\n        else parser.cdata += c\n      continue\n\n      case S.CDATA_ENDING:\n        if (c === \"]\") parser.state = S.CDATA_ENDING_2\n        else {\n          parser.cdata += \"]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.CDATA_ENDING_2:\n        if (c === \">\") {\n          if (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata)\n          emitNode(parser, \"onclosecdata\")\n          parser.cdata = \"\"\n          parser.state = S.TEXT\n        } else if (c === \"]\") {\n          parser.cdata += \"]\"\n        } else {\n          parser.cdata += \"]]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.PROC_INST:\n        if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else if (is(whitespace, c)) parser.state = S.PROC_INST_BODY\n        else parser.procInstName += c\n      continue\n\n      case S.PROC_INST_BODY:\n        if (!parser.procInstBody && is(whitespace, c)) continue\n        else if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else parser.procInstBody += c\n      continue\n\n      case S.PROC_INST_ENDING:\n        if (c === \">\") {\n          emitNode(parser, \"onprocessinginstruction\", {\n            name : parser.procInstName,\n            body : parser.procInstBody\n          })\n          parser.procInstName = parser.procInstBody = \"\"\n          parser.state = S.TEXT\n        } else {\n          parser.procInstBody += \"?\" + c\n          parser.state = S.PROC_INST_BODY\n        }\n      continue\n\n      case S.OPEN_TAG:\n        if (is(nameBody, c)) parser.tagName += c\n        else {\n          newTag(parser)\n          if (c === \">\") openTag(parser)\n          else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n          else {\n            if (not(whitespace, c)) strictFail(\n              parser, \"Invalid character in tag name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.OPEN_TAG_SLASH:\n        if (c === \">\") {\n          openTag(parser, true)\n          closeTag(parser)\n        } else {\n          strictFail(parser, \"Forward-slash in opening tag not followed by >\")\n          parser.state = S.ATTRIB\n        }\n      continue\n\n      case S.ATTRIB:\n        // haven't read the attribute name yet.\n        if (is(whitespace, c)) continue\n        else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (c === \">\") {\n          strictFail(parser, \"Attribute without value\")\n          parser.attribValue = parser.attribName\n          attrib(parser)\n          openTag(parser)\n        }\n        else if (is(whitespace, c)) parser.state = S.ATTRIB_NAME_SAW_WHITE\n        else if (is(nameBody, c)) parser.attribName += c\n        else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME_SAW_WHITE:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (is(whitespace, c)) continue\n        else {\n          strictFail(parser, \"Attribute without value\")\n          parser.tag.attributes[parser.attribName] = \"\"\n          parser.attribValue = \"\"\n          emitNode(parser, \"onattribute\",\n                   { name : parser.attribName, value : \"\" })\n          parser.attribName = \"\"\n          if (c === \">\") openTag(parser)\n          else if (is(nameStart, c)) {\n            parser.attribName = c\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, \"Invalid attribute name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.ATTRIB_VALUE:\n        if (is(whitespace, c)) continue\n        else if (is(quote, c)) {\n          parser.q = c\n          parser.state = S.ATTRIB_VALUE_QUOTED\n        } else {\n          strictFail(parser, \"Unquoted attribute value\")\n          parser.state = S.ATTRIB_VALUE_UNQUOTED\n          parser.attribValue = c\n        }\n      continue\n\n      case S.ATTRIB_VALUE_QUOTED:\n        if (c !== parser.q) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        parser.q = \"\"\n        parser.state = S.ATTRIB_VALUE_CLOSED\n      continue\n\n      case S.ATTRIB_VALUE_CLOSED:\n        if (is(whitespace, c)) {\n          parser.state = S.ATTRIB\n        } else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          strictFail(parser, \"No whitespace between attributes\")\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_VALUE_UNQUOTED:\n        if (not(attribEnd,c)) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        if (c === \">\") openTag(parser)\n        else parser.state = S.ATTRIB\n      continue\n\n      case S.CLOSE_TAG:\n        if (!parser.tagName) {\n          if (is(whitespace, c)) continue\n          else if (not(nameStart, c)) {\n            if (parser.script) {\n              parser.script += \"</\" + c\n              parser.state = S.SCRIPT\n            } else {\n              strictFail(parser, \"Invalid tagname in closing tag.\")\n            }\n          } else parser.tagName = c\n        }\n        else if (c === \">\") closeTag(parser)\n        else if (is(nameBody, c)) parser.tagName += c\n        else if (parser.script) {\n          parser.script += \"</\" + parser.tagName\n          parser.tagName = \"\"\n          parser.state = S.SCRIPT\n        } else {\n          if (not(whitespace, c)) strictFail(parser,\n            \"Invalid tagname in closing tag\")\n          parser.state = S.CLOSE_TAG_SAW_WHITE\n        }\n      continue\n\n      case S.CLOSE_TAG_SAW_WHITE:\n        if (is(whitespace, c)) continue\n        if (c === \">\") closeTag(parser)\n        else strictFail(parser, \"Invalid characters in closing tag\")\n      continue\n\n      case S.TEXT_ENTITY:\n      case S.ATTRIB_VALUE_ENTITY_Q:\n      case S.ATTRIB_VALUE_ENTITY_U:\n        switch(parser.state) {\n          case S.TEXT_ENTITY:\n            var returnState = S.TEXT, buffer = \"textNode\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_Q:\n            var returnState = S.ATTRIB_VALUE_QUOTED, buffer = \"attribValue\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_U:\n            var returnState = S.ATTRIB_VALUE_UNQUOTED, buffer = \"attribValue\"\n          break\n        }\n        if (c === \";\") {\n          parser[buffer] += parseEntity(parser)\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n        else if (is(entity, c)) parser.entity += c\n        else {\n          strictFail(parser, \"Invalid character entity\")\n          parser[buffer] += \"&\" + parser.entity + c\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n      continue\n\n      default:\n        throw new Error(parser, \"Unknown state: \" + parser.state)\n    }\n  } // while\n  // cdata blocks can get very big under normal conditions. emit and move on.\n  // if (parser.state === S.CDATA && parser.cdata) {\n  //   emitNode(parser, \"oncdata\", parser.cdata)\n  //   parser.cdata = \"\"\n  // }\n  if (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser)\n  return parser\n}\n\n/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\nif (!String.fromCodePoint) {\n        (function() {\n                var stringFromCharCode = String.fromCharCode;\n                var floor = Math.floor;\n                var fromCodePoint = function() {\n                        var MAX_SIZE = 0x4000;\n                        var codeUnits = [];\n                        var highSurrogate;\n                        var lowSurrogate;\n                        var index = -1;\n                        var length = arguments.length;\n                        if (!length) {\n                                return '';\n                        }\n                        var result = '';\n                        while (++index < length) {\n                                var codePoint = Number(arguments[index]);\n                                if (\n                                        !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                                        codePoint < 0 || // not a valid Unicode code point\n                                        codePoint > 0x10FFFF || // not a valid Unicode code point\n                                        floor(codePoint) != codePoint // not an integer\n                                ) {\n                                        throw RangeError('Invalid code point: ' + codePoint);\n                                }\n                                if (codePoint <= 0xFFFF) { // BMP code point\n                                        codeUnits.push(codePoint);\n                                } else { // Astral code point; split in surrogate halves\n                                        // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                                        codePoint -= 0x10000;\n                                        highSurrogate = (codePoint >> 10) + 0xD800;\n                                        lowSurrogate = (codePoint % 0x400) + 0xDC00;\n                                        codeUnits.push(highSurrogate, lowSurrogate);\n                                }\n                                if (index + 1 == length || codeUnits.length > MAX_SIZE) {\n                                        result += stringFromCharCode.apply(null, codeUnits);\n                                        codeUnits.length = 0;\n                                }\n                        }\n                        return result;\n                };\n                if (Object.defineProperty) {\n                        Object.defineProperty(String, 'fromCodePoint', {\n                                'value': fromCodePoint,\n                                'configurable': true,\n                                'writable': true\n                        });\n                } else {\n                        String.fromCodePoint = fromCodePoint;\n                }\n        }());\n}\n\n})(typeof exports === \"undefined\" ? sax = {} : exports)\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":10,\"stream\":16,\"string_decoder\":17}],37:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value\");\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return create(XMLAttribute.prototype, this);\n    };\n\n    XMLAttribute.prototype.toString = function(options, level) {\n      return ' ' + this.name + '=\"' + this.value + '\"';\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":66}],38:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, pretty, r, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLDeclaration\":45,\"./XMLDocType\":46,\"./XMLElement\":47,\"./XMLStringifier\":51}],39:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLCData, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(_super) {\n    __extends(XMLCData, _super);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return create(XMLCData.prototype, this);\n    };\n\n    XMLCData.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<![CDATA[' + this.text + ']]>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":48,\"lodash-node/modern/objects/create\":66}],40:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLComment, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(_super) {\n    __extends(XMLComment, _super);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return create(XMLComment.prototype, this);\n    };\n\n    XMLComment.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!-- ' + this.text + ' -->';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":48,\"lodash-node/modern/objects/create\":66}],41:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDAttList, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLDTDAttList = (function() {\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      this.stringify = parent.stringify;\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.clone = function() {\n      return create(XMLDTDAttList.prototype, this);\n    };\n\n    XMLDTDAttList.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ATTLIST ' + this.elementName + ' ' + this.attributeName + ' ' + this.attributeType;\n      if (this.defaultValueType !== '#DEFAULT') {\n        r += ' ' + this.defaultValueType;\n      }\n      if (this.defaultValue) {\n        r += ' \"' + this.defaultValue + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDAttList;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":66}],42:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDElement, create, isArray;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  module.exports = XMLDTDElement = (function() {\n    function XMLDTDElement(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.clone = function() {\n      return create(XMLDTDElement.prototype, this);\n    };\n\n    XMLDTDElement.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ELEMENT ' + this.name + ' ' + this.value + '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDElement;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":66,\"lodash-node/modern/objects/isArray\":68}],43:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDEntity, create, isObject;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  module.exports = XMLDTDEntity = (function() {\n    function XMLDTDEntity(parent, pe, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.clone = function() {\n      return create(XMLDTDEntity.prototype, this);\n    };\n\n    XMLDTDEntity.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ENTITY';\n      if (this.pe) {\n        r += ' %';\n      }\n      r += ' ' + this.name;\n      if (this.value) {\n        r += ' \"' + this.value + '\"';\n      } else {\n        if (this.pubID && this.sysID) {\n          r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n        } else if (this.sysID) {\n          r += ' SYSTEM \"' + this.sysID + '\"';\n        }\n        if (this.nData) {\n          r += ' NDATA ' + this.nData;\n        }\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDEntity;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":66,\"lodash-node/modern/objects/isObject\":71}],44:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDNotation, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLDTDNotation = (function() {\n    function XMLDTDNotation(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.clone = function() {\n      return create(XMLDTDNotation.prototype, this);\n    };\n\n    XMLDTDNotation.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!NOTATION ' + this.name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.pubID) {\n        r += ' PUBLIC \"' + this.pubID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDNotation;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":66}],45:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDeclaration, XMLNode, create, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(_super) {\n    __extends(XMLDeclaration, _super);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var _ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        _ref = version, version = _ref.version, encoding = _ref.encoding, standalone = _ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      if (version != null) {\n        this.version = this.stringify.xmlVersion(version);\n      }\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.clone = function() {\n      return create(XMLDeclaration.prototype, this);\n    };\n\n    XMLDeclaration.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?xml';\n      if (this.version != null) {\n        r += ' version=\"' + this.version + '\"';\n      }\n      if (this.encoding != null) {\n        r += ' encoding=\"' + this.encoding + '\"';\n      }\n      if (this.standalone != null) {\n        r += ' standalone=\"' + this.standalone + '\"';\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":48,\"lodash-node/modern/objects/create\":66,\"lodash-node/modern/objects/isObject\":71}],46:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDocType, create, isObject;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  module.exports = XMLDocType = (function() {\n    function XMLDocType(parent, pubID, sysID) {\n      var _ref, _ref1;\n      this.documentObject = parent;\n      this.stringify = this.documentObject.stringify;\n      this.children = [];\n      if (isObject(pubID)) {\n        _ref = pubID, pubID = _ref.pubID, sysID = _ref.sysID;\n      }\n      if (sysID == null) {\n        _ref1 = [pubID, sysID], sysID = _ref1[0], pubID = _ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.clone = function() {\n      return create(XMLDocType.prototype, this);\n    };\n\n    XMLDocType.prototype.element = function(name, value) {\n      var XMLDTDElement, child;\n      XMLDTDElement = require('./XMLDTDElement');\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var XMLDTDAttList, child;\n      XMLDTDAttList = require('./XMLDTDAttList');\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var XMLDTDEntity, child;\n      XMLDTDEntity = require('./XMLDTDEntity');\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var XMLDTDEntity, child;\n      XMLDTDEntity = require('./XMLDTDEntity');\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var XMLDTDNotation, child;\n      XMLDTDNotation = require('./XMLDTDNotation');\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.cdata = function(value) {\n      var XMLCData, child;\n      XMLCData = require('./XMLCData');\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.comment = function(value) {\n      var XMLComment, child;\n      XMLComment = require('./XMLComment');\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.instruction = function(target, value) {\n      var XMLProcessingInstruction, child;\n      XMLProcessingInstruction = require('./XMLProcessingInstruction');\n      child = new XMLProcessingInstruction(this, target, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.root = function() {\n      return this.documentObject.root();\n    };\n\n    XMLDocType.prototype.document = function() {\n      return this.documentObject;\n    };\n\n    XMLDocType.prototype.toString = function(options, level) {\n      var child, indent, newline, pretty, r, space, _i, _len, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!DOCTYPE ' + this.root().name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      if (this.children.length > 0) {\n        r += ' [';\n        if (pretty) {\n          r += newline;\n        }\n        _ref2 = this.children;\n        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n          child = _ref2[_i];\n          r += child.toString(options, level + 1);\n        }\n        r += ']';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocType.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocType.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root();\n    };\n\n    XMLDocType.prototype.doc = function() {\n      return this.document();\n    };\n\n    return XMLDocType;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":39,\"./XMLComment\":40,\"./XMLDTDAttList\":41,\"./XMLDTDElement\":42,\"./XMLDTDEntity\":43,\"./XMLDTDNotation\":44,\"./XMLProcessingInstruction\":49,\"lodash-node/modern/objects/create\":66,\"lodash-node/modern/objects/isObject\":71}],47:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, XMLProcessingInstruction, create, isArray, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  isFunction = require('lodash-node/modern/objects/isFunction');\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLElement = (function(_super) {\n    __extends(XMLElement, _super);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.children = [];\n      this.instructions = [];\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, pi, _i, _len, _ref, _ref1;\n      clonedSelf = create(XMLElement.prototype, this);\n      clonedSelf.attributes = {};\n      _ref = this.attributes;\n      for (attName in _ref) {\n        if (!__hasProp.call(_ref, attName)) continue;\n        att = _ref[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.instructions = [];\n      _ref1 = this.instructions;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        pi = _ref1[_i];\n        clonedSelf.instructions.push(pi.clone());\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!__hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, _i, _len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          attName = name[_i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, _i, _len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (isArray(target)) {\n        for (_i = 0, _len = target.length; _i < _len; _i++) {\n          insTarget = target[_i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!__hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.instructions.push(instruction);\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options, level) {\n      var att, child, indent, instruction, name, newline, pretty, r, space, _i, _j, _len, _len1, _ref, _ref1, _ref2, _ref3, _ref4;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      _ref2 = this.instructions;\n      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n        instruction = _ref2[_i];\n        r += instruction.toString(options, level + 1);\n      }\n      if (pretty) {\n        r += space;\n      }\n      r += '<' + this.name;\n      _ref3 = this.attributes;\n      for (name in _ref3) {\n        if (!__hasProp.call(_ref3, name)) continue;\n        att = _ref3[name];\n        r += att.toString(options);\n      }\n      if (this.children.length === 0) {\n        r += '/>';\n        if (pretty) {\n          r += newline;\n        }\n      } else if (pretty && this.children.length === 1 && (this.children[0].value != null)) {\n        r += '>';\n        r += this.children[0].value;\n        r += '</' + this.name + '>';\n        r += newline;\n      } else {\n        r += '>';\n        if (pretty) {\n          r += newline;\n        }\n        _ref4 = this.children;\n        for (_j = 0, _len1 = _ref4.length; _j < _len1; _j++) {\n          child = _ref4[_j];\n          r += child.toString(options, level + 1);\n        }\n        if (pretty) {\n          r += space;\n        }\n        r += '</' + this.name + '>';\n        if (pretty) {\n          r += newline;\n        }\n      }\n      return r;\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLAttribute\":37,\"./XMLNode\":48,\"./XMLProcessingInstruction\":49,\"lodash-node/modern/objects/create\":66,\"lodash-node/modern/objects/isArray\":68,\"lodash-node/modern/objects/isFunction\":70,\"lodash-node/modern/objects/isObject\":71}],48:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, isArray, isEmpty, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty;\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  isFunction = require('lodash-node/modern/objects/isFunction');\n\n  isEmpty = require('lodash-node/modern/objects/isEmpty');\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      this.options = this.parent.options;\n      this.stringify = this.parent.stringify;\n    }\n\n    XMLNode.prototype.clone = function() {\n      throw new Error(\"Cannot clone generic XMLNode\");\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var item, key, lastChild, val, _i, _len, _ref;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          item = name[_i];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!__hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && key.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(key.substr(this.stringify.convertPIKey.length), val);\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertListKey && key.indexOf(this.stringify.convertListKey) === 0 && isArray(val)) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, _ref;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(_ref = [])), _ref;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var XMLElement, child, _ref;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      XMLElement = require('./XMLElement');\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var XMLText, child;\n      XMLText = require('./XMLText');\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var XMLCData, child;\n      XMLCData = require('./XMLCData');\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var XMLComment, child;\n      XMLComment = require('./XMLComment');\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var XMLRaw, child;\n      XMLRaw = require('./XMLRaw');\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var XMLDeclaration, doc, xmldec;\n      doc = this.document();\n      XMLDeclaration = require('./XMLDeclaration');\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      doc.xmldec = xmldec;\n      return doc.root();\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var XMLDocType, doc, doctype;\n      doc = this.document();\n      XMLDocType = require('./XMLDocType');\n      doctype = new XMLDocType(doc, pubID, sysID);\n      doc.doctype = doctype;\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var child;\n      if (this.isRoot) {\n        return this;\n      }\n      child = this.parent;\n      while (!child.isRoot) {\n        child = child.parent;\n      }\n      return child;\n    };\n\n    XMLNode.prototype.document = function() {\n      return this.root().documentObject;\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().toString(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(xmlbuilder) {\n      var clonedRoot;\n      clonedRoot = xmlbuilder.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":39,\"./XMLComment\":40,\"./XMLDeclaration\":45,\"./XMLDocType\":46,\"./XMLElement\":47,\"./XMLRaw\":50,\"./XMLText\":52,\"lodash-node/modern/objects/isArray\":68,\"lodash-node/modern/objects/isEmpty\":69,\"lodash-node/modern/objects/isFunction\":70,\"lodash-node/modern/objects/isObject\":71}],49:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLProcessingInstruction, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLProcessingInstruction = (function() {\n    function XMLProcessingInstruction(parent, target, value) {\n      this.stringify = parent.stringify;\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return create(XMLProcessingInstruction.prototype, this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?';\n      r += this.target;\n      if (this.value) {\n        r += ' ' + this.value;\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLProcessingInstruction;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":66}],50:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLRaw, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(_super) {\n    __extends(XMLRaw, _super);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return create(XMLRaw.prototype, this);\n    };\n\n    XMLRaw.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":48,\"lodash-node/modern/objects/create\":66}],51:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLStringifier,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    __hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = __bind(this.assertLegalChar, this);\n      var key, value, _ref;\n      this.allowSurrogateChars = options != null ? options.allowSurrogateChars : void 0;\n      _ref = (options != null ? options.stringify : void 0) || {};\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      if (val.match(/]]>/)) {\n        throw new Error(\"Invalid CDATA text: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/)) {\n        throw new Error(\"Invalid encoding: \" + options.val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.convertListKey = '#list';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var chars, chr;\n      if (this.allowSurrogateChars) {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uFFFE-\\uFFFF]/;\n      } else {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE-\\uFFFF]/;\n      }\n      chr = str.match(chars);\n      if (chr) {\n        throw new Error(\"Invalid character (\" + chr + \") in string: \" + str + \" at index \" + chr.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n\n},{}],52:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLText, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(_super) {\n    __extends(XMLText, _super);\n\n    function XMLText(parent, text) {\n      this.parent = parent;\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return create(XMLText.prototype, this);\n    };\n\n    XMLText.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":48,\"lodash-node/modern/objects/create\":66}],53:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, assign;\n\n  assign = require('lodash-node/modern/objects/assign');\n\n  XMLBuilder = require('./XMLBuilder');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    options = assign({}, xmldec, doctype, options);\n    return new XMLBuilder(name, options).root();\n  };\n\n}).call(this);\n\n},{\"./XMLBuilder\":38,\"lodash-node/modern/objects/assign\":65}],54:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar createWrapper = require('../internals/createWrapper'),\n    slice = require('../internals/slice');\n\n/**\n * Creates a function that, when called, invokes `func` with the `this`\n * binding of `thisArg` and prepends any additional `bind` arguments to those\n * provided to the bound function.\n *\n * @static\n * @memberOf _\n * @category Functions\n * @param {Function} func The function to bind.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {...*} [arg] Arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * var func = function(greeting) {\n *   return greeting + ' ' + this.name;\n * };\n *\n * func = _.bind(func, { 'name': 'fred' }, 'hi');\n * func();\n * // => 'hi fred'\n */\nfunction bind(func, thisArg) {\n  return arguments.length > 2\n    ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n    : createWrapper(func, 1, null, null, thisArg);\n}\n\nmodule.exports = bind;\n\n},{\"../internals/createWrapper\":59,\"../internals/slice\":64}],55:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreate = require('./baseCreate'),\n    isObject = require('../objects/isObject'),\n    setBindData = require('./setBindData'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push;\n\n/**\n * The base implementation of `_.bind` that creates the bound function and\n * sets its meta data.\n *\n * @private\n * @param {Array} bindData The bind data array.\n * @returns {Function} Returns the new bound function.\n */\nfunction baseBind(bindData) {\n  var func = bindData[0],\n      partialArgs = bindData[2],\n      thisArg = bindData[4];\n\n  function bound() {\n    // `Function#bind` spec\n    // http://es5.github.io/#x15.3.4.5\n    if (partialArgs) {\n      // avoid `arguments` object deoptimizations by using `slice` instead\n      // of `Array.prototype.slice.call` and not assigning `arguments` to a\n      // variable as a ternary expression\n      var args = slice(partialArgs);\n      push.apply(args, arguments);\n    }\n    // mimic the constructor's `return` behavior\n    // http://es5.github.io/#x13.2.2\n    if (this instanceof bound) {\n      // ensure `new bound` is an instance of `func`\n      var thisBinding = baseCreate(func.prototype),\n          result = func.apply(thisBinding, args || arguments);\n      return isObject(result) ? result : thisBinding;\n    }\n    return func.apply(thisArg, args || arguments);\n  }\n  setBindData(bound, bindData);\n  return bound;\n}\n\nmodule.exports = baseBind;\n\n},{\"../objects/isObject\":71,\"./baseCreate\":56,\"./setBindData\":62,\"./slice\":64}],56:[function(require,module,exports){\n(function (global){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./isNative'),\n    isObject = require('../objects/isObject'),\n    noop = require('../utilities/noop');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(prototype, properties) {\n  return isObject(prototype) ? nativeCreate(prototype) : {};\n}\n// fallback for browsers without `Object.create`\nif (!nativeCreate) {\n  baseCreate = (function() {\n    function Object() {}\n    return function(prototype) {\n      if (isObject(prototype)) {\n        Object.prototype = prototype;\n        var result = new Object;\n        Object.prototype = null;\n      }\n      return result || global.Object();\n    };\n  }());\n}\n\nmodule.exports = baseCreate;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../objects/isObject\":71,\"../utilities/noop\":75,\"./isNative\":60}],57:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar bind = require('../functions/bind'),\n    identity = require('../utilities/identity'),\n    setBindData = require('./setBindData'),\n    support = require('../support');\n\n/** Used to detected named functions */\nvar reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n/** Used to detect functions containing a `this` reference */\nvar reThis = /\\bthis\\b/;\n\n/** Native method shortcuts */\nvar fnToString = Function.prototype.toString;\n\n/**\n * The base implementation of `_.createCallback` without support for creating\n * \"_.pluck\" or \"_.where\" style callbacks.\n *\n * @private\n * @param {*} [func=identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of the created callback.\n * @param {number} [argCount] The number of arguments the callback accepts.\n * @returns {Function} Returns a callback function.\n */\nfunction baseCreateCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  // exit early for no `thisArg` or already bound by `Function#bind`\n  if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n    return func;\n  }\n  var bindData = func.__bindData__;\n  if (typeof bindData == 'undefined') {\n    if (support.funcNames) {\n      bindData = !func.name;\n    }\n    bindData = bindData || !support.funcDecomp;\n    if (!bindData) {\n      var source = fnToString.call(func);\n      if (!support.funcNames) {\n        bindData = !reFuncName.test(source);\n      }\n      if (!bindData) {\n        // checks if `func` references the `this` keyword and stores the result\n        bindData = reThis.test(source);\n        setBindData(func, bindData);\n      }\n    }\n  }\n  // exit early if there are no `this` references or `func` is bound\n  if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 2: return function(a, b) {\n      return func.call(thisArg, a, b);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n  }\n  return bind(func, thisArg);\n}\n\nmodule.exports = baseCreateCallback;\n\n},{\"../functions/bind\":54,\"../support\":73,\"../utilities/identity\":74,\"./setBindData\":62}],58:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreate = require('./baseCreate'),\n    isObject = require('../objects/isObject'),\n    setBindData = require('./setBindData'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push;\n\n/**\n * The base implementation of `createWrapper` that creates the wrapper and\n * sets its meta data.\n *\n * @private\n * @param {Array} bindData The bind data array.\n * @returns {Function} Returns the new function.\n */\nfunction baseCreateWrapper(bindData) {\n  var func = bindData[0],\n      bitmask = bindData[1],\n      partialArgs = bindData[2],\n      partialRightArgs = bindData[3],\n      thisArg = bindData[4],\n      arity = bindData[5];\n\n  var isBind = bitmask & 1,\n      isBindKey = bitmask & 2,\n      isCurry = bitmask & 4,\n      isCurryBound = bitmask & 8,\n      key = func;\n\n  function bound() {\n    var thisBinding = isBind ? thisArg : this;\n    if (partialArgs) {\n      var args = slice(partialArgs);\n      push.apply(args, arguments);\n    }\n    if (partialRightArgs || isCurry) {\n      args || (args = slice(arguments));\n      if (partialRightArgs) {\n        push.apply(args, partialRightArgs);\n      }\n      if (isCurry && args.length < arity) {\n        bitmask |= 16 & ~32;\n        return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n      }\n    }\n    args || (args = arguments);\n    if (isBindKey) {\n      func = thisBinding[key];\n    }\n    if (this instanceof bound) {\n      thisBinding = baseCreate(func.prototype);\n      var result = func.apply(thisBinding, args);\n      return isObject(result) ? result : thisBinding;\n    }\n    return func.apply(thisBinding, args);\n  }\n  setBindData(bound, bindData);\n  return bound;\n}\n\nmodule.exports = baseCreateWrapper;\n\n},{\"../objects/isObject\":71,\"./baseCreate\":56,\"./setBindData\":62,\"./slice\":64}],59:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseBind = require('./baseBind'),\n    baseCreateWrapper = require('./baseCreateWrapper'),\n    isFunction = require('../objects/isFunction'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push,\n    unshift = arrayRef.unshift;\n\n/**\n * Creates a function that, when called, either curries or invokes `func`\n * with an optional `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to reference.\n * @param {number} bitmask The bitmask of method flags to compose.\n *  The bitmask may be composed of the following flags:\n *  1 - `_.bind`\n *  2 - `_.bindKey`\n *  4 - `_.curry`\n *  8 - `_.curry` (bound)\n *  16 - `_.partial`\n *  32 - `_.partialRight`\n * @param {Array} [partialArgs] An array of arguments to prepend to those\n *  provided to the new function.\n * @param {Array} [partialRightArgs] An array of arguments to append to those\n *  provided to the new function.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new function.\n */\nfunction createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n  var isBind = bitmask & 1,\n      isBindKey = bitmask & 2,\n      isCurry = bitmask & 4,\n      isCurryBound = bitmask & 8,\n      isPartial = bitmask & 16,\n      isPartialRight = bitmask & 32;\n\n  if (!isBindKey && !isFunction(func)) {\n    throw new TypeError;\n  }\n  if (isPartial && !partialArgs.length) {\n    bitmask &= ~16;\n    isPartial = partialArgs = false;\n  }\n  if (isPartialRight && !partialRightArgs.length) {\n    bitmask &= ~32;\n    isPartialRight = partialRightArgs = false;\n  }\n  var bindData = func && func.__bindData__;\n  if (bindData && bindData !== true) {\n    // clone `bindData`\n    bindData = slice(bindData);\n    if (bindData[2]) {\n      bindData[2] = slice(bindData[2]);\n    }\n    if (bindData[3]) {\n      bindData[3] = slice(bindData[3]);\n    }\n    // set `thisBinding` is not previously bound\n    if (isBind && !(bindData[1] & 1)) {\n      bindData[4] = thisArg;\n    }\n    // set if previously bound but not currently (subsequent curried functions)\n    if (!isBind && bindData[1] & 1) {\n      bitmask |= 8;\n    }\n    // set curried arity if not yet set\n    if (isCurry && !(bindData[1] & 4)) {\n      bindData[5] = arity;\n    }\n    // append partial left arguments\n    if (isPartial) {\n      push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n    }\n    // append partial right arguments\n    if (isPartialRight) {\n      unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n    }\n    // merge flags\n    bindData[1] |= bitmask;\n    return createWrapper.apply(null, bindData);\n  }\n  // fast path for `_.bind`\n  var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n  return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n}\n\nmodule.exports = createWrapper;\n\n},{\"../objects/isFunction\":70,\"./baseBind\":55,\"./baseCreateWrapper\":58,\"./slice\":64}],60:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/** Used to detect if a method is native */\nvar reNative = RegExp('^' +\n  String(toString)\n    .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n */\nfunction isNative(value) {\n  return typeof value == 'function' && reNative.test(value);\n}\n\nmodule.exports = isNative;\n\n},{}],61:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used to determine if values are of the language type Object */\nvar objectTypes = {\n  'boolean': false,\n  'function': true,\n  'object': true,\n  'number': false,\n  'string': false,\n  'undefined': false\n};\n\nmodule.exports = objectTypes;\n\n},{}],62:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./isNative'),\n    noop = require('../utilities/noop');\n\n/** Used as the property descriptor for `__bindData__` */\nvar descriptor = {\n  'configurable': false,\n  'enumerable': false,\n  'value': null,\n  'writable': false\n};\n\n/** Used to set meta data on functions */\nvar defineProperty = (function() {\n  // IE 8 only accepts DOM elements\n  try {\n    var o = {},\n        func = isNative(func = Object.defineProperty) && func,\n        result = func(o, o, o) && func;\n  } catch(e) { }\n  return result;\n}());\n\n/**\n * Sets `this` binding data on a given function.\n *\n * @private\n * @param {Function} func The function to set data on.\n * @param {Array} value The data array to set.\n */\nvar setBindData = !defineProperty ? noop : function(func, value) {\n  descriptor.value = value;\n  defineProperty(func, '__bindData__', descriptor);\n};\n\nmodule.exports = setBindData;\n\n},{\"../utilities/noop\":75,\"./isNative\":60}],63:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('./objectTypes');\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Native method shortcuts */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A fallback implementation of `Object.keys` which produces an array of the\n * given object's own enumerable property names.\n *\n * @private\n * @type Function\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns an array of property names.\n */\nvar shimKeys = function(object) {\n  var index, iterable = object, result = [];\n  if (!iterable) return result;\n  if (!(objectTypes[typeof object])) return result;\n    for (index in iterable) {\n      if (hasOwnProperty.call(iterable, index)) {\n        result.push(index);\n      }\n    }\n  return result\n};\n\nmodule.exports = shimKeys;\n\n},{\"./objectTypes\":61}],64:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Slices the `collection` from the `start` index up to, but not including,\n * the `end` index.\n *\n * Note: This function is used instead of `Array#slice` to support node lists\n * in IE < 9 and to ensure dense arrays are returned.\n *\n * @private\n * @param {Array|Object|string} collection The collection to slice.\n * @param {number} start The start index.\n * @param {number} end The end index.\n * @returns {Array} Returns the new array.\n */\nfunction slice(array, start, end) {\n  start || (start = 0);\n  if (typeof end == 'undefined') {\n    end = array ? array.length : 0;\n  }\n  var index = -1,\n      length = end - start || 0,\n      result = Array(length < 0 ? 0 : length);\n\n  while (++index < length) {\n    result[index] = array[start + index];\n  }\n  return result;\n}\n\nmodule.exports = slice;\n\n},{}],65:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreateCallback = require('../internals/baseCreateCallback'),\n    keys = require('./keys'),\n    objectTypes = require('../internals/objectTypes');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources will overwrite property assignments of previous\n * sources. If a callback is provided it will be executed to produce the\n * assigned values. The callback is bound to `thisArg` and invoked with two\n * arguments; (objectValue, sourceValue).\n *\n * @static\n * @memberOf _\n * @type Function\n * @alias extend\n * @category Objects\n * @param {Object} object The destination object.\n * @param {...Object} [source] The source objects.\n * @param {Function} [callback] The function to customize assigning values.\n * @param {*} [thisArg] The `this` binding of `callback`.\n * @returns {Object} Returns the destination object.\n * @example\n *\n * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n * // => { 'name': 'fred', 'employer': 'slate' }\n *\n * var defaults = _.partialRight(_.assign, function(a, b) {\n *   return typeof a == 'undefined' ? b : a;\n * });\n *\n * var object = { 'name': 'barney' };\n * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n * // => { 'name': 'barney', 'employer': 'slate' }\n */\nvar assign = function(object, source, guard) {\n  var index, iterable = object, result = iterable;\n  if (!iterable) return result;\n  var args = arguments,\n      argsIndex = 0,\n      argsLength = typeof guard == 'number' ? 2 : args.length;\n  if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n    var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n  } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n    callback = args[--argsLength];\n  }\n  while (++argsIndex < argsLength) {\n    iterable = args[argsIndex];\n    if (iterable && objectTypes[typeof iterable]) {\n    var ownIndex = -1,\n        ownProps = objectTypes[typeof iterable] && keys(iterable),\n        length = ownProps ? ownProps.length : 0;\n\n    while (++ownIndex < length) {\n      index = ownProps[ownIndex];\n      result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];\n    }\n    }\n  }\n  return result\n};\n\nmodule.exports = assign;\n\n},{\"../internals/baseCreateCallback\":57,\"../internals/objectTypes\":61,\"./keys\":72}],66:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar assign = require('./assign'),\n    baseCreate = require('../internals/baseCreate');\n\n/**\n * Creates an object that inherits from the given `prototype` object. If a\n * `properties` object is provided its own enumerable properties are assigned\n * to the created object.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties) {\n  var result = baseCreate(prototype);\n  return properties ? assign(result, properties) : result;\n}\n\nmodule.exports = create;\n\n},{\"../internals/baseCreate\":56,\"./assign\":65}],67:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreateCallback = require('../internals/baseCreateCallback'),\n    keys = require('./keys'),\n    objectTypes = require('../internals/objectTypes');\n\n/**\n * Iterates over own enumerable properties of an object, executing the callback\n * for each property. The callback is bound to `thisArg` and invoked with three\n * arguments; (value, key, object). Callbacks may exit iteration early by\n * explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Objects\n * @param {Object} object The object to iterate over.\n * @param {Function} [callback=identity] The function called per iteration.\n * @param {*} [thisArg] The `this` binding of `callback`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n *   console.log(key);\n * });\n * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n */\nvar forOwn = function(collection, callback, thisArg) {\n  var index, iterable = collection, result = iterable;\n  if (!iterable) return result;\n  if (!objectTypes[typeof iterable]) return result;\n  callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n    var ownIndex = -1,\n        ownProps = objectTypes[typeof iterable] && keys(iterable),\n        length = ownProps ? ownProps.length : 0;\n\n    while (++ownIndex < length) {\n      index = ownProps[ownIndex];\n      if (callback(iterable[index], index, collection) === false) return result;\n    }\n  return result\n};\n\nmodule.exports = forOwn;\n\n},{\"../internals/baseCreateCallback\":57,\"../internals/objectTypes\":61,\"./keys\":72}],68:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('../internals/isNative');\n\n/** `Object#toString` result shortcuts */\nvar arrayClass = '[object Array]';\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray;\n\n/**\n * Checks if `value` is an array.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n * @example\n *\n * (function() { return _.isArray(arguments); })();\n * // => false\n *\n * _.isArray([1, 2, 3]);\n * // => true\n */\nvar isArray = nativeIsArray || function(value) {\n  return value && typeof value == 'object' && typeof value.length == 'number' &&\n    toString.call(value) == arrayClass || false;\n};\n\nmodule.exports = isArray;\n\n},{\"../internals/isNative\":60}],69:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar forOwn = require('./forOwn'),\n    isFunction = require('./isFunction');\n\n/** `Object#toString` result shortcuts */\nvar argsClass = '[object Arguments]',\n    arrayClass = '[object Array]',\n    objectClass = '[object Object]',\n    stringClass = '[object String]';\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/**\n * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n * length of `0` and objects with no own enumerable properties are considered\n * \"empty\".\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Array|Object|string} value The value to inspect.\n * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({});\n * // => true\n *\n * _.isEmpty('');\n * // => true\n */\nfunction isEmpty(value) {\n  var result = true;\n  if (!value) {\n    return result;\n  }\n  var className = toString.call(value),\n      length = value.length;\n\n  if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n      (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n    return !length;\n  }\n  forOwn(value, function() {\n    return (result = false);\n  });\n  return result;\n}\n\nmodule.exports = isEmpty;\n\n},{\"./forOwn\":67,\"./isFunction\":70}],70:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Checks if `value` is a function.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n */\nfunction isFunction(value) {\n  return typeof value == 'function';\n}\n\nmodule.exports = isFunction;\n\n},{}],71:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('../internals/objectTypes');\n\n/**\n * Checks if `value` is the language type of Object.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // check if the value is the ECMAScript language type of Object\n  // http://es5.github.io/#x8\n  // and avoid a V8 bug\n  // http://code.google.com/p/v8/issues/detail?id=2291\n  return !!(value && objectTypes[typeof value]);\n}\n\nmodule.exports = isObject;\n\n},{\"../internals/objectTypes\":61}],72:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('../internals/isNative'),\n    isObject = require('./isObject'),\n    shimKeys = require('../internals/shimKeys');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n/**\n * Creates an array composed of the own enumerable property names of an object.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns an array of property names.\n * @example\n *\n * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  if (!isObject(object)) {\n    return [];\n  }\n  return nativeKeys(object);\n};\n\nmodule.exports = keys;\n\n},{\"../internals/isNative\":60,\"../internals/shimKeys\":63,\"./isObject\":71}],73:[function(require,module,exports){\n(function (global){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./internals/isNative');\n\n/** Used to detect functions containing a `this` reference */\nvar reThis = /\\bthis\\b/;\n\n/**\n * An object used to flag environments features.\n *\n * @static\n * @memberOf _\n * @type Object\n */\nvar support = {};\n\n/**\n * Detect if functions can be decompiled by `Function#toString`\n * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n *\n * @memberOf _.support\n * @type boolean\n */\nsupport.funcDecomp = !isNative(global.WinRTError) && reThis.test(function() { return this; });\n\n/**\n * Detect if `Function#name` is supported (all but IE).\n *\n * @memberOf _.support\n * @type boolean\n */\nsupport.funcNames = typeof Function.name == 'string';\n\nmodule.exports = support;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./internals/isNative\":60}],74:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'name': 'fred' };\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n},{}],75:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * A no-operation function.\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @example\n *\n * var object = { 'name': 'fred' };\n * _.noop(object) === undefined;\n * // => true\n */\nfunction noop() {\n  // no operation performed\n}\n\nmodule.exports = noop;\n\n},{}]},{},[1])(1)\n});"]}