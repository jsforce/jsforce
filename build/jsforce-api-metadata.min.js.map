{"version":3,"file":"jsforce-api-metadata.min.js","sources":["jsforce-api-metadata.js"],"names":["e","exports","module","define","amd","o","window","global","self","f","jsforce","modules","api","Metadata","t","n","r","s","u","a","require","i","Error","code","l","call","length",1,"process","Buffer","convertToSaveResult","result","saveResult","_","clone","success","convertToMetadataInfo","rec","metadataInfo","$","util","events","stream","Stream","Promise","SOAP","conn","this","_conn","prototype","pollInterval","pollTimeout","_invoke","method","message","callback","soapEndpoint","sessionId","accessToken","serverUrl","instanceUrl","version","xmlns","_transport","invoke","then","res","thenCall","createAsync","type","metadata","Number","convert","md","isArray","map","AsyncResultLocator","createSync","create","results","readSync","read","fullNames","records","updateAsync","updateMetadata","umd","updateSync","update","upsertSync","upsert","deleteAsync","isString","fullName","del","deleteSync","rename","oldFullName","newFullName","checkStatus","ids","asyncProcessId","describe","asOfVersion","metadataObjects","mo","childXmlNames","inFolder","metaFile","partialSaveAllowed","testRequired","list","queries","retrieve","request","RetrieveResultLocator","checkRetrieveStatus","id","deploy","zipInput","options","isFunction","deferred","defer","bufs","on","d","push","resolve","concat","resume","promise","zipContentBuffer","zipContentB64","toString","ZipFile","DeployOptions","DeployResultLocator","checkDeployStatus","includeDetails","isObject","isBoolean","done","checkOnly","ignoreWarnings","rollbackOnError","numberComponentErrors","numberComponentsDeployed","numberComponentsTotal","numberTestErrors","numberTestsCompleted","numberTestsTotal","meta","_meta","_results","_isArray","inherits","EventEmitter","onResolve","onReject","convertType","nextTick","err","check","poll","interval","timeout","startTime","Date","getTime","now","emit","resultArr","len","setTimeout","complete","reject","super_","rstream","readable","zipFile","../promise","../soap","_process","buffer",2,"parseHeaders","hs","headers","split","forEach","line","pair","name","toLowerCase","value","supported","Sfdc","canvas","createRequest","signedRequest","params","send","body","settings","client","data","contentType","responseHeaders","payload","JSON","stringify","response","statusCode","status","str","end","failure","ajax","url","Duplex","_read","sent","_write","chunk","encoding","join","test",3,"_index","jsonpParam","toUpperCase","cbFuncName","callbacks","indexOf","script","document","createElement","src","documentElement","appendChild","pid","cleanup","content-type","clearTimeout","removeChild",4,"xhr","XMLHttpRequest","open","header","setRequestHeader","onreadystatechange","readyState","getResponseHeader",5,"Q","_promise","apply","arguments","fail","when","reason","all","Deferred","_deferred","q",6,"lookupValue","obj","propRegExps","regexp","shift","prop","toXML","v","attrs","elems","k","substring","String","startTag","endTag","xml2js","Transport","transport","proxyUrl","ProxyTransport","args","soapEnvelope","_createEnvelope","httpRequest","Content-Type","SOAPAction","ret","parseString","explicitArray","error","./transport",7,"streamify","factory","_then","newPromise","normalizeApiHost","apiHost","m","exec","baseUrl","nodeRequest","xhrRequest","jsonp","defaults","followAllRedirects","env","HTTP_PROXY","proxy","HTTP_TIMEOUT","LOCATION_BASE_URL","location","host","req","_proxyUrl","proxyParams","Math","random","salesforceproxy-endpoint","./browser/canvas","./browser/jsonp","./browser/request","./promise",8,9,"/Users/stomita/Work/Salesforce/jsforce.publish/node_modules/browserify/lib/_empty.js",10,"subject","noZero","base64clean","byteLength","TypeError","floor","kMaxLength","RangeError","buf","TYPED_ARRAY_SUPPORT","_augment","Uint8Array","_isBuffer","_set","isArrayish","isBuffer","readUInt8","write","hexWrite","string","offset","remaining","strLen","byte","parseInt","substr","isNaN","utf8Write","charsWritten","blitBuffer","utf8ToBytes","asciiWrite","asciiToBytes","binaryWrite","base64Write","base64ToBytes","utf16leWrite","utf16leToBytes","base64Slice","start","base64","fromByteArray","slice","utf8Slice","tmp","min","decodeUtf8Char","fromCharCode","asciiSlice","binarySlice","hexSlice","out","toHex","utf16leSlice","bytes","checkOffset","ext","checkInt","max","objectWriteUInt16","littleEndian","j","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754","writeDouble","stringtrim","replace","INVALID_BASE64_RE","trim","byteArray","b","charCodeAt","h","encodeURIComponent","c","hi","lo","toByteArray","dst","decodeURIComponent","SlowBuffer","INSPECT_MAX_BYTES","poolSize","ArrayBuffer","arr","foo","subarray","compare","x","y","isEncoding","totalLength","undefined","pos","item","copy","parent","loweredCase","Infinity","equals","inspect","match","get","console","log","set","writeUInt8","isFinite","swap","toJSON","Array","_arr","sliceLen","newBuf","readUInt16LE","readUInt16BE","readUInt32LE","readUInt32BE","readInt8","readInt16LE","val","readInt16BE","readInt32LE","readInt32BE","readFloatLE","readFloatBE","readDoubleLE","readDoubleBE","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","target","target_start","source","fill","toArrayBuffer","BP","_get","toLocaleString","base64-js","is-array",11,"lookup","decode","elt","PLUS","SLASH","NUMBER","UPPER","LOWER","b64ToByteArray","b64","L","placeHolders","charAt","Arr","uint8ToBase64","uint8","encode","num","tripletToBase64","temp","extraBytes","output","base64js",12,"isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","pow","rt","abs","LN2",13,"Object",14,"_events","_maxListeners","arg","isNumber","isUndefined","defaultMaxListeners","setMaxListeners","er","handler","listeners","addListener","listener","newListener","warned","trace","once","g","removeListener","fired","position","splice","removeAllListeners","key","listenerCount","emitter",15,"ctor","superCtor","constructor","enumerable","writable","configurable","TempCtor",16,"noop","canSetImmediate","setImmediate","canPost","postMessage","addEventListener","queue","ev","stopPropagation","fn","title","browser","argv","off","binding","cwd","chdir",17,"EE","Readable","Writable","Transform","PassThrough","pipe","dest","ondata","pause","ondrain","onend","didOnEnd","onclose","destroy","onerror","_isStdio","readable-stream/duplex.js","readable-stream/passthrough.js","readable-stream/readable.js","readable-stream/transform.js","readable-stream/writable.js",18,"assertEncoding","passThroughWrite","utf16DetectIncompleteChar","incomplete","charReceived","charLength","base64DetectIncompleteChar","StringDecoder","surrogateSize","detectIncompleteChar","charBuffer","charStr","charCode","lenIncomplete","size","cr","enc",19,"definition","bootstrap","ses","ok","makeQ","uncurryThis","isStopIteration","exception","object_toString","QReturnValue","makeStackTraceLong","hasStacks","stack","STACK_JUMP_SEPARATOR","stacks","p","unshift","concatedStacks","filterStackString","stackString","lines","desiredLines","isInternalFrame","isNodeFrame","stackLine","getFileNameAndLineNumber","attempt1","attempt2","attempt3","fileNameAndLineNumber","fileName","lineNumber","qFileName","qStartingLine","qEndingLine","captureLine","firstLine","deprecate","alternative","warn","isPromise","isPromiseAlike","coerce","fulfill","become","resolvedPromise","array_reduce","messages","promiseDispatch","progressListeners","object_create","op","operands","array_slice","valueOf","nearerValue","nearer","state","longStackSupport","notify","progress","progressListener","resolver","race","answerPs","descriptor","fallback","inspected","fulfilled","rejected","progressed","object","isPending","isFulfilled","isRejected","displayUnhandledReasons","unhandledReasonsDisplayed","Touch","unhandledReasons","logUnhandledReasons","resetUnhandledRejections","unhandledRejections","trackUnhandledRejections","trackRejection","untrackRejection","at","array_indexOf","rejection","rhs","delete","post","thisp","keys","object_keys","master","isDef","dispatch","spread","async","makeGenerator","continuer","verb","hasES6Generators","generator","errback","bind","spawn","_return","promised","promises","countDown","index","snapshot","allResolved","array_map","allSettled","nodeify","nodeback","flush","head","next","task","domain","enter","isNodeJS","exit","flushing","tail","requestTick","MessageChannel","channel","port1","onmessage","requestPortTick","port2","Function","reduce","basis","collect","Type","object_hasOwnProperty","hasOwnProperty","ReturnValue","makeNodeResolver","passByCopy","that","makePromise","_fulfilled","_rejected","newException","_progressed","newValue","threw","thenResolve","thenReject","getUnhandledReasons","stopUnhandledRejectionTracking","array","mapply","mcall","fapply","fcall","fbind","regardless","fin","onUnhandledError","ms","timeoutId","delay","nfapply","nodeArgs","nfcall","nfbind","denodeify","baseArgs","nbind","bound","nmapply","npost","nsend","nmcall","ninvoke",20,"./lib/_stream_duplex.js",21,"allowHalfOpen","_writableState","ended","xs","objectKeys","./_stream_readable","./_stream_writable","core-util-is",22,"_transform","cb","./_stream_transform",23,"ReadableState","hwm","highWaterMark","defaultHwm","objectMode","pipes","pipesCount","flowing","endEmitted","reading","sync","needReadable","emittedReadable","readableListening","readableObjectMode","defaultEncoding","ranOut","awaitDrain","readingMore","decoder","_readableState","readableAddChunk","addToFront","chunkInvalid","isNullOrUndefined","onEofChunk","emitReadable","maybeReadMore","needMoreData","roundUpToNextPowerOf2","MAX_HWM","howMuchToRead","isNull","debug","emitReadable_","flow","maybeReadMore_","pipeOnDrain","resumeScheduled","resume_","fromList","stringMode","cpy","endReadable","debuglog","setEncoding","nOrig","doRead","pipeOpts","onunpipe","onfinish","needDrain","unpipe","doEnd","stdout","stderr","endFn","dests","wrap","paused","_fromList","./_stream_duplex","isarray","string_decoder/",24,"TransformState","afterTransform","needTransform","transforming","writecb","writechunk","ts","_transformState","rs","_flush","ws","writeencoding",25,"WriteReq","WritableState","writableObjectMode","ending","finished","noDecode","decodeStrings","writing","corked","bufferProcessing","onwrite","writelen","pendingcb","prefinished","errorEmitted","writeAfterEnd","validChunk","valid","decodeChunk","writeOrBuffer","doWrite","writev","_writev","onwriteError","onwriteStateUpdate","needFinish","clearBuffer","afterWrite","onwriteDrain","finishMaybe","cbs","entry","prefinish","need","endWritable","cork","uncork",26,"ar","isSymbol","isRegExp","re","objectToString","isDate","isError","isPrimitive",27,"/Users/stomita/Work/Salesforce/jsforce.publish/node_modules/browserify/node_modules/inherits/inherits_browser.js",28,29,"isBufferEncoding","available",30,"./lib/_stream_passthrough.js",31,"./lib/_stream_readable.js","./lib/_stream_transform.js","./lib/_stream_writable.js",32,33,34,"stripBOM","../lib/xml2js",35,"prefixMatch","RegExp","normalize","firstCharLowerCase","stripPrefix",36,"bom","builder","isEmpty","processName","processors","sax","__hasProp","__extends","child","__super__","__bind","me","thing","processedName","_i","_len","0.1","explicitCharkey","normalizeTags","attrkey","charkey","ignoreAttrs","mergeAttrs","explicitRoot","validator","explicitChildren","childkey","charsAsChildren","strict","attrNameProcessors","tagNameProcessors","0.2","rootName","xmldec","standalone","doctype","renderOpts","pretty","indent","newline","headless","ValidationError","_super","Builder","opts","_ref","buildObject","rootObj","render","rootElement","element","attr","_ref1","txt","att","ele","up","callee","Parser","reset","assignOrPush","xmlnskey","ontext","saxParser","parser","errThrown","_this","EXPLICIT_CHARKEY","resultObject","onopentag","node","processedKey","attributes","uri","local","onclosetag","cdata","emptyStr","nodeName","old","xpath","pop","emptyTag","_error","getOwnPropertyNames","text","oncdata","close","./bom","./processors","xmlbuilder",37,"SAXParser","opt","clearBuffers","bufferCheckPosition","MAX_BUFFER_LENGTH","lowercase","lowercasetags","looseCase","tags","closed","closedRoot","sawRoot","tag","noscript","S","BEGIN","ENTITIES","attribList","ns","rootNS","trackPosition","column","checkBufferLength","maxAllowed","maxActual","buffers","closeText","emitNode","flushBuffers","createStream","SAXStream","_parser","_decoder","streamWraps","defineProperty","charClass","is","charclass","not","event","nodeType","textNode","textopts","strictFail","TEXT","newTag","tagName","qname","attribute","qualName","prefix","attrib","attribName","attribValue","qn","XML_NAMESPACE","XMLNS_NAMESPACE","openTag","selfClosing","nv","isSelfClosing","SCRIPT","closeTag","closeTo","parseEntity","entity","entityLC","numStr","fromCodePoint","OPEN_WAKA","startTagPosition","whitespace","starti","TEXT_ENTITY","SCRIPT_ENDING","CLOSE_TAG","SGML_DECL","sgmlDecl","nameStart","OPEN_TAG","PROC_INST","procInstName","procInstBody","pad","CDATA","COMMENT","comment","DOCTYPE","quote","SGML_DECL_QUOTED","DOCTYPE_DTD","DOCTYPE_QUOTED","DOCTYPE_DTD_QUOTED","COMMENT_ENDING","COMMENT_ENDED","CDATA_ENDING","CDATA_ENDING_2","PROC_INST_ENDING","PROC_INST_BODY","nameBody","OPEN_TAG_SLASH","ATTRIB","ATTRIB_NAME","ATTRIB_VALUE","ATTRIB_NAME_SAW_WHITE","ATTRIB_VALUE_QUOTED","ATTRIB_VALUE_UNQUOTED","ATTRIB_VALUE_ENTITY_Q","ATTRIB_VALUE_CLOSED","attribEnd","ATTRIB_VALUE_ENTITY_U","CLOSE_TAG_SAW_WHITE","returnState","EVENTS","__proto__","getPrototypeOf","ex","filter","SD","number","letter","xml","STATE","COMMENT_STARTING","amp","gt","lt","quot","apos","AElig","Aacute","Acirc","Agrave","Aring","Atilde","Auml","Ccedil","ETH","Eacute","Ecirc","Egrave","Euml","Iacute","Icirc","Igrave","Iuml","Ntilde","Oacute","Ocirc","Ograve","Oslash","Otilde","Ouml","THORN","Uacute","Ucirc","Ugrave","Uuml","Yacute","aacute","acirc","aelig","agrave","aring","atilde","auml","ccedil","eacute","ecirc","egrave","eth","euml","iacute","icirc","igrave","iuml","ntilde","oacute","ocirc","ograve","oslash","otilde","ouml","szlig","thorn","uacute","ucirc","ugrave","uuml","yacute","yuml","reg","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","shy","macr","deg","plusmn","sup1","sup2","sup3","acute","micro","para","middot","cedil","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","alpha","beta","gamma","delta","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","pi","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","frasl","euro","image","weierp","real","trade","alefsym","larr","uarr","rarr","darr","harr","crarr","lArr","uArr","rArr","dArr","hArr","forall","part","exist","empty","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cap","cup","int","there4","sim","cong","asymp","ne","equiv","le","ge","sub","sup","nsub","sube","supe","oplus","otimes","perp","sdot","lceil","rceil","lfloor","rfloor","lang","rang","loz","spades","clubs","hearts","diams","stringFromCharCode","highSurrogate","lowSurrogate","MAX_SIZE","codeUnits","codePoint","string_decoder",38,"XMLAttribute","attName","attValue","lodash-node/modern/objects/create",39,"XMLBuilder","XMLDeclaration","XMLDocType","XMLElement","XMLStringifier","root","isRoot","documentObject","rootObject","declaration","pubID","sysID","./XMLDeclaration","./XMLDocType","./XMLElement","./XMLStringifier",40,"XMLCData","XMLNode","level","space","./XMLNode",41,"XMLComment",42,"XMLDTDAttList","elementName","attributeName","attributeType","defaultValueType","defaultValue","eleName","dtdAttType","dtdAttDefault",43,"XMLDTDElement","dtdElementValue","lodash-node/modern/objects/isArray",44,"XMLDTDEntity","pe","dtdPubID","dtdSysID","nData","dtdNData","dtdEntityValue","lodash-node/modern/objects/isObject",45,"XMLDTDNotation",46,"xmlVersion","xmlEncoding","xmlStandalone",47,"children","attList","pEntity","notation","instruction","XMLProcessingInstruction","_ref2","ent","pent","dat","com","ins","doc","./XMLCData","./XMLComment","./XMLDTDAttList","./XMLDTDElement","./XMLDTDEntity","./XMLDTDNotation","./XMLProcessingInstruction",48,"instructions","clonedSelf","clonedChild","skipNullAttributes","removeAttribute","insTarget","insValue","_j","_len1","_ref3","_ref4","./XMLAttribute","lodash-node/modern/objects/isFunction",49,"lastChild","ignoreDecorators","convertAttKey","convertPIKey","convertListKey","convertTextKey","convertCDataKey","convertCommentKey","convertRawKey","raw","insertBefore","removed","insertAfter","remove","XMLText","XMLRaw","prev","importXMLBuilder","clonedRoot","nod","dec","dtd","./XMLRaw","./XMLText","lodash-node/modern/objects/isEmpty",50,51,52,"assertLegalChar","allowSurrogateChars","eleText","elEscape","attEscape","chars","chr",53,54,"assign","./XMLBuilder","lodash-node/modern/objects/assign",55,"func","thisArg","createWrapper","../internals/createWrapper","../internals/slice",56,"baseBind","bindData","partialArgs","thisBinding","baseCreate","setBindData","arrayRef","../objects/isObject","./baseCreate","./setBindData","./slice",57,"nativeCreate","isNative","../utilities/noop","./isNative",58,"baseCreateCallback","argCount","identity","__bindData__","support","funcNames","funcDecomp","fnToString","reFuncName","reThis","collection","accumulator","../functions/bind","../support","../utilities/identity",59,"baseCreateWrapper","isBind","partialRightArgs","isCurry","arity","bitmask","isCurryBound","isBindKey",60,"isPartial","isPartialRight","creater","../objects/isFunction","./baseBind","./baseCreateWrapper",61,"reNative","objectProto",62,"objectTypes","boolean","function",63,64,"shimKeys","iterable","./objectTypes",65,66,"guard","argsIndex","argsLength","ownIndex","ownProps","../internals/baseCreateCallback","../internals/objectTypes","./keys",67,"properties","../internals/baseCreate","./assign",68,"forOwn",69,"arrayClass","nativeIsArray","../internals/isNative",70,"className","stringClass","argsClass","objectClass","./forOwn","./isFunction",71,72,73,"nativeKeys","../internals/shimKeys","./isObject",74,"WinRTError","./internals/isNative",75,76],"mappings":"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","sourcesContent":["!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var o;\"undefined\"!=typeof window?o=window:\"undefined\"!=typeof global?o=global:\"undefined\"!=typeof self&&(o=self);var f=o;f=f.jsforce||(f.jsforce={}),f=f.modules||(f.modules={}),f=f.api||(f.api={}),f.Metadata=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (process,Buffer){\n/*global process, Buffer */\n/**\n * @file Manages Salesforce Metadata API\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\n\nvar util    = jsforce.require('util'),\n    events  = jsforce.require('events'),\n    stream  = jsforce.require('stream'),\n    Stream  = stream.Stream,\n    _       = jsforce.require('underscore'),\n    Promise = require('../promise'),\n    SOAP    = require('../soap');\n\n/*--------------------------------------------*/\n/**\n * Class for Salesforce Metadata API\n *\n * @class\n * @param {Connection} conn - Connection object\n */\nvar Metadata = module.exports = function(conn) {\n  this._conn = conn;\n};\n\n\n/**\n * Polling interval in milliseconds\n * @type {Number}\n */\nMetadata.prototype.pollInterval = 1000;\n\n/**\n * Polling timeout in milliseconds\n * @type {Number}\n */\nMetadata.prototype.pollTimeout = 10000;\n\n\n/**\n * Call Metadata API SOAP endpoint\n *\n * @private\n */\nMetadata.prototype._invoke = function(method, message, callback) {\n  var soapEndpoint = new SOAP({\n    sessionId: this._conn.accessToken,\n    serverUrl: this._conn.instanceUrl + \"/services/Soap/m/\" + this._conn.version,\n    xmlns: \"http://soap.sforce.com/2006/04/metadata\"\n  }, this._conn._transport);\n  return soapEndpoint.invoke(method, message).then(function(res) {\n    return res.result;\n  }).thenCall(callback);\n};\n\n\n/**\n * @typedef {Object} Metadata~MetadataInfo\n * @prop {String} fullName - The name of the component\n */\n\n/**\n * Asynchronously adds one or more new metadata components to the organization.\n *\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.createAsync = function(type, metadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  var res = this._invoke(\"create\", { metadata: metadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * @private\n */\nfunction convertToSaveResult(result) {\n  var saveResult = _.clone(result);\n  saveResult.success = saveResult.success === 'true';\n  return saveResult;\n}\n\n/**\n * Synonym of Metadata#create().\n *\n * @method createSync\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n/**\n * Synchronously adds one or more new metadata components to the organization.\n *\n * @method Metadata#create\n * @param {String} type - The type of metadata to create\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Metadata to create\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.createSync =\nMetadata.prototype.create = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"createMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * @private\n */\nfunction convertToMetadataInfo(rec) {\n  var metadataInfo = _.clone(rec);\n  delete metadataInfo.$;\n  return metadataInfo;\n}\n\n/**\n * Synonym of Metadata#read()\n *\n * @method Metadata#readSync\n * @param {String} type - The type of metadata to read\n * @param {String|Array.<String>} fullNames - full name(s) of metadata objects to read\n * @param {Callback.<Metadata~ReadResult|Array.<Metadata~ReadResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>>>}\n */\n/**\n * Synchronously read specified metadata components in the organization.\n *\n * @method Metadata#read\n * @param {String} type - The type of metadata to read\n * @param {String|Array.<String>} fullNames - full name(s) of metadata objects to read\n * @param {Callback.<Metadata~ReadResult|Array.<Metadata~ReadResult>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>>>}\n */\nMetadata.prototype.readSync =\nMetadata.prototype.read = function(type, fullNames, callback) {\n  return this._invoke(\"readMetadata\", { type: type, fullNames: fullNames }).then(function(res) {\n    return _.isArray(res.records) ? _.map(res.records, convertToMetadataInfo) : convertToMetadataInfo(res.records);\n  }).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~UpdateMetadataInfo\n * @prop {String} currentName - The API name of the component or field before the update\n * @prop {Metadata~MetadataInfo} metadata - Full specification of the component or field you wish to update\n */\n\n/**\n * Asynchronously updates one or more metadata components in the organization.\n *\n * @param {String} type - The type of metadata to update\n * @param {Metadata~UpdateMetadataInfo|Array.<Metadata~UpdateMetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.updateAsync = function(type, updateMetadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(umd) {\n    umd.metadata[\"@xsi:type\"] = type;\n    return umd;\n  };\n  var isArray = _.isArray(updateMetadata);\n  updateMetadata = isArray ? _.map(updateMetadata, convert) : convert(updateMetadata);\n  var res = this._invoke(\"update\", { updateMetadata: updateMetadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * Synonym of Metadata#update().\n *\n * @method Metadata#updateSync\n * @param {String} type - The type of metadata to update\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n/**\n * Synchronously updates one or more metadata components in the organization.\n *\n * @method Metadata#update\n * @param {String} type - The type of metadata to update\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} updateMetadata - Updating metadata\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.updateSync =\nMetadata.prototype.update = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"updateMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Upserts one or more components in your organization's data.\n *\n * @param {String} type - The type of metadata to upsert\n * @param {Metadata~MetadataInfo|Array.<Metadata~MetadataInfo>} metadata - Upserting metadata\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.upsertSync =\nMetadata.prototype.upsert = function(type, metadata, callback) {\n  var convert = function(md) {\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  return this._invoke(\"upsertMetadata\", { metadata: metadata }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Asynchronously deletes specified metadata components in the organization.\n *\n * @param {String} type - The type of metadata to delete\n * @param {String|Metadata~MetadataInfo|Array.<String>|Array.<Metadata~MetadataInfo>} metadata - The fullName of metadata or metadata info to delete. If it is passed in fullName, the type parameter should not be empty.\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.deleteAsync = function(type, metadata, callback) {\n  if (Number(this._conn.version) > 30) {\n    throw new Error(\"Async metadata CRUD calls are not supported on ver 31.0 or later.\");\n  }\n  var convert = function(md) {\n    if (_.isString(md)) {\n      md = { fullName : md };\n    }\n    md[\"@xsi:type\"] = type;\n    return md;\n  };\n  var isArray = _.isArray(metadata);\n  metadata = isArray ? _.map(metadata, convert) : convert(metadata);\n  var res = this._invoke(\"delete\", { metadata: metadata });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * Synonym of Metadata#delete().\n *\n * @deprecated\n * @method Metadata#del\n * @param {String} [type] - The type of metadata to delete\n * @param {String|Metadata~MetadataInfo|Array.<String>|Array.<Metadata~MetadataInfo>} metadata - The fullName of metadata or metadata info to delete. If it is passed in fullName, the type parameter should not be empty.\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\n/**\n * Synonym of Metadata#delete().\n *\n * @method Metadata#deleteSync\n * @param {String} type - The type of metadata to delete\n * @param {String|Array.<String>} fullNames - The fullName of metadata to delete.\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\n\n/**\n * Synchronously deletes specified metadata components in the organization.\n *\n * @method Metadata#delete\n * @param {String} type - The type of metadata to delete\n * @param {String|Array.<String>} fullNames - The fullName of metadata to delete.\n * @param {Callback.<Metadata~SaveResult|Array.<Metadata~SaveResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult|Array.<Metadata~SaveResult>>}\n */\nMetadata.prototype.del =\nMetadata.prototype.deleteSync =\nMetadata.prototype[\"delete\"] = function(type, fullNames, callback) {\n  return this._invoke(\"deleteMetadata\", { type: type, fullNames: fullNames }).then(function(results) {\n    return _.isArray(results) ? _.map(results, convertToSaveResult) : convertToSaveResult(results);\n  }).thenCall(callback);\n};\n\n/**\n * Rename fullname of a metadata component in the organization\n *\n * @param {String} type - The type of metadata to delete\n * @param {String} oldFullName - The original fullName of metadata\n * @param {String} newFullName - The new fullName of metadata\n * @param {Callback.<Metadata~SaveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~SaveResult>}\n */\nMetadata.prototype.rename = function(type, oldFullName, newFullName, callback) {\n  return this._invoke(\"renameMetadata\", { type: type, oldFullName: oldFullName, newFullName: newFullName }).then(function(result) {\n    return convertToSaveResult(result);\n  }).thenCall(callback);\n};\n\n/**\n * Checks the status of asynchronous metadata calls\n *\n * @param {String|Array.<String>} ids - The asynchronous process ID(s)\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Metadata~AsyncResultLocator}\n */\nMetadata.prototype.checkStatus = function(ids, callback) {\n  var isArray = _.isArray(ids);\n  var res = this._invoke(\"checkStatus\", { asyncProcessId: ids });\n  return new AsyncResultLocator(this, res, isArray).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~DescribeMetadataResult\n * @prop {Array.<Object>} metadataObjects - One or more metadata components and their attributes\n * @prop {Array.<String>} metadataObjects.childXmlNames - List of child sub-components for this component\n * @prop {String} metadataObjects.directoryName - The name of the directory in the .zip file that contains this component\n * @prop {Boolean} metadataObjects.inFolder - Indicates whether the component is in a folder or not\n * @prop {Boolean} metadataObjects.metaFile - Indicates whether the component requires an accompanying metadata file\n * @prop {String} metadataObjects.suffix - The file suffix for this component\n * @prop {String} metadataObjects.xmlName - The name of the root element in the metadata file for this component\n * @prop {String} organizationNamespace - The namespace of the organization\n * @prop {Boolean} partialSaveAllowed - Indicates whether rollbackOnError is allowed or not\n * @prop {Boolean} testRequired - Indicates whether tests are required or not\n */\n\n/**\n * Retrieves the metadata which describes your organization, including Apex classes and triggers,\n * custom objects, custom fields on standard objects, tab sets that define an app,\n * and many other components.\n *\n * @param {String} [version] - The API version for which you want metadata; for example, 29.0\n * @param {Callback.<Metadata~DescribeMetadataResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DescribeMetadataResult>}\n */\nMetadata.prototype.describe = function(version, callback) {\n  if (!_.isString(version)) {\n    callback = version;\n    version = this._conn.version;\n  }\n  return this._invoke(\"describeMetadata\", { asOfVersion: version }).then(function(res) {\n    res.metadataObjects = _.isArray(res.metadataObjects) ? res.metadataObjects : [ res.metadataObjects ];\n    res.metadataObjects = _.map(res.metadataObjects, function(mo) {\n      if (mo.childXmlNames) {\n        mo.childXmlNames = _.isArray(mo.childXmlNames) ? mo.childXmlNames: [ mo.childXmlNames ];\n      }\n      mo.inFolder = mo.inFolder === 'true';\n      mo.metaFile = mo.metaFile === 'true';\n      return mo;\n    });\n    res.partialSaveAllowed = res.partialSaveAllowed === 'true';\n    res.testRequired = res.testRequired === 'true';\n    return res;\n  }).thenCall(callback);\n};\n\n/**\n * @typedef {Object} Metadata~ListMetadataQuery\n * @prop {String} type - The metadata type, such as CustomObject, CustomField, or ApexClass\n * @prop {String} [folder] - The folder associated with the component.\n */\n\n/**\n * @typedef {Object} Metadata~FileProperties\n * @prop {String} type - The metadata type, such as CustomObject, CustomField, or ApexClass\n * @prop {String} createdById - ID of the user who created the file\n * @prop {String} createdByName - Name of the user who created the file\n * @prop {String} createdDate - Date and time when the file was created\n * @prop {String} fileName - Name of the file\n * @prop {String} fullName - The file developer name used as a unique identifier for API access\n * @prop {String} id - ID of the file\n * @prop {String} lastModifiedById - ID of the user who last modified the file\n * @prop {String} lastModifiedByName - Name of the user who last modified the file\n * @prop {String} lastModifiedDate - Date and time that the file was last modified\n * @prop {String} [manageableState] - Indicates the manageable state of the specified component if it is contained in a package\n * @prop {String} [namespacePrefix] - The namespace prefix of the component\n */\n\n/**\n * Retrieves property information about metadata components in your organization\n *\n * @param {Metadata~ListMetadataQuery|Array.<Metadata~ListMetadataQuery>} queries - The criteria object(s) specifing metadata to list\n * @param {String} [version] - The API version for which you want metadata; for example, 29.0\n * @param {Callback.<Array.<Metadata~FileProperties>>} [callback] - Callback function\n * @returns {Promise.<Array.<Metadata~FileProperties>>}\n */\nMetadata.prototype.list = function(queries, version, callback) {\n  if (!_.isString(version)) {\n    callback = version;\n    version = this._conn.version;\n  }\n  if (!_.isArray(queries)) {\n    queries = [ queries ];\n  }\n  return this._invoke(\"listMetadata\", { queries: queries, asOfVersion: version }, callback);\n};\n\n/**\n * @typedef {Object} Metadata~RetrieveRequest\n */\n\n/**\n * Retrieves XML file representations of components in an organization\n *\n * @param {Metadata~RetrieveRequest} request - Options for determining which packages or files are retrieved\n * @param {Callback.<Metadata~AsyncResult>} [callback] - Callback function\n * @returns {Metadata~RetrieveResultLocator}\n */\nMetadata.prototype.retrieve = function(request, callback) {\n  var res = this._invoke(\"retrieve\", { request: request });\n  return new RetrieveResultLocator(this, res).thenCall(callback);\n};\n\n/**\n * Checks the status of declarative metadata call retrieve() and returns the zip file contents\n *\n * @param {String} id - Async process id returned from previous retrieve request\n * @param {Callback.<Metadata~RetrieveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~RetrieveResult>}\n */\nMetadata.prototype.checkRetrieveStatus = function(id, callback) {\n  return this._invoke(\"checkRetrieveStatus\", { asyncProcessId: id }, callback);\n};\n\n/**\n * Deploy components into an organization using zipped file representations\n *\n * @param {stream.Stream|Buffer} zipInput - Zipped file input source in readable stream or binary buffer\n * @param {Object} [options] - Options used in deployment\n * @param {Boolean} [options.allowMissingFiles] - Specifies whether a deploy succeeds even if files that are specified in package.xml but are not in the .zip file or not.\n * @param {Boolean} [options.autoUpdatePackage] - If a file is in the .zip file but not specified in package.xml, specifies whether the file should be automatically added to the package or not.\n * @param {Boolean} [options.checkOnly] - Indicates whether Apex classes and triggers are saved to the organization as part of the deployment (false) or not (true).\n * @param {Boolean} [options.ignoreWarnings] - Indicates whether a warning should allow a deployment to complete successfully (true) or not (false). Defaults to false.\n * @param {Boolean} [options.performRetrieve] - Indicates whether a retrieve() call is performed immediately after the deployment (true) or not (false).\n * @param {Boolean} [options.purgeOnDelete] - If true, the deleted components in the destructiveChanges.xml manifest file aren't stored in the Recycle Bin.\n * @param {Boolean} [options.rollbackOnError] - Indicates whether any failure causes a complete rollback (true) or not (false).\n * @param {Boolean} [options.runAllTests] - If true, all Apex tests defined in the organization are run.\n * @param {Array.<String>} [options.runTests] - A list of Apex tests to be run during deployment.\n * @param {Boolean} [options.singlePackage] - Indicates whether the specified .zip file points to a directory structure with a single package (true) or a set of packages (false).\n * @param {Callback.<Metadata~AsyncResult>} [callback] - Callback function\n * @returns {Metadata~DeployResultLocator}\n */\nMetadata.prototype.deploy = function(zipInput, options, callback) {\n  if (!options || _.isFunction(options)) {\n    callback = options;\n    options = {};\n  }\n  var deferred = Promise.defer();\n  if (zipInput instanceof Stream) {\n    var bufs = [];\n    zipInput.on('data', function(d) {\n      bufs.push(d);\n    });\n    zipInput.on('end', function() {\n      deferred.resolve(Buffer.concat(bufs));\n    });\n    zipInput.resume();\n  } else if (zipInput instanceof Buffer) {\n    deferred.resolve(zipInput);\n  } else {\n    throw \"Unexpected zipInput type\";\n  }\n\n  var self = this;\n  var res = deferred.promise.then(function(zipContentBuffer) {\n    var zipContentB64 = zipContentBuffer.toString('base64');\n    return self._invoke(\"deploy\", { ZipFile: zipContentB64, DeployOptions: options }, callback);\n  });\n  return new DeployResultLocator(this, res).thenCall(callback);\n};\n\n/**\n * Checks the status of declarative metadata call deploy()\n *\n * @param {String} id - Async process id returned from previous deploy request\n * @param {Boolean} [includeDetails] - Sets the DeployResult object to include details information (default: false)\n * @param {Callback.<Metadata~DeployResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DeployResult>}\n */\nMetadata.prototype.checkDeployStatus = function(id, includeDetails, callback) {\n  if (_.isObject(includeDetails) || _.isBoolean(includeDetails)) {\n    includeDetails = !!includeDetails;\n  } else {\n    callback = includeDetails;\n    includeDetails = false;\n  }\n  return this._invoke(\"checkDeployStatus\", {\n    asyncProcessId: id,\n    includeDetails : includeDetails\n  }).then(function(res) {\n    res.done = res.done === 'true';\n    res.success = res.success === 'true';\n    res.checkOnly = res.checkOnly === 'true';\n    if (res.ignoreWarnings) {\n      res.ignoreWarnings = res.ignoreWarnings === 'true';\n    }\n    if (res.rollbackOnError) {\n      res.rollbackOnError = res.rollbackOnError === 'true';\n    }\n    res.numberComponentErrors = Number(res.numberComponentErrors);\n    res.numberComponentsDeployed = Number(res.numberComponentsDeployed);\n    res.numberComponentsTotal = Number(res.numberComponentsTotal);\n    res.numberTestErrors = Number(res.numberTestErrors);\n    res.numberTestsCompleted = Number(res.numberTestsCompleted);\n    res.numberTestsTotal = Number(res.numberTestsTotal);\n\n    return res;\n  }).thenCall(callback);\n};\n\n/*--------------------------------------------*/\n\n/**\n * @typedef {Object} Metadata~AsyncResult\n * @prop {Boolean} done - Indicates whether the call has completed or not\n * @prop {String} id - ID of the component being created, updated, deleted, deployed, or retrieved\n * @prop {String} state - The state four possible values: Queued, InProgress, Completed, and Error.\n * @prop {String} [statusCode] - If an error occurred during the create(), update(), or delete() call, a status code is returned\n * @prop {String} [message] - Message corresponding to the statusCode field returned\n */\n\n/**\n * The locator class for Metadata API asynchronous call result\n *\n * @protected\n * @class Metadata~AsyncResultLocator\n * @extends events.EventEmitter\n * @implements Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} results - Promise object for async result info\n * @param {Boolean} [isArray] - Indicates whether the async request is given in array or single object\n */\nvar AsyncResultLocator = function(meta, results, isArray) {\n  this._meta = meta;\n  this._results = results;\n  this._isArray = isArray;\n};\n\nutil.inherits(AsyncResultLocator, events.EventEmitter);\n\n/**\n * Promise/A+ interface\n * http://promises-aplus.github.io/promises-spec/\n *\n * Delegate to deferred promise, return promise instance for batch result\n *\n * @method Metadata~AsyncResultLocator#then\n */\nAsyncResultLocator.prototype.then = function(onResolve, onReject) {\n  var self = this;\n  return this._results.then(function(results) {\n    var convertType = function(res) {\n      if (res.$ && res.$[\"xsi:nil\"] === 'true') {\n        return null;\n      }\n      res.done = res.done === 'true';\n      return res;\n    };\n    results = _.isArray(results) ? _.map(results, convertType) : convertType(results);\n    if (self._isArray && !_.isArray(results)) {\n      results = [ results ];\n    }\n    return onResolve(results);\n  }, onReject);\n};\n\n/**\n * Promise/A+ extension\n * Call \"then\" using given node-style callback function\n *\n * @method Metadata~AsyncResultLocator#thenCall\n */\nAsyncResultLocator.prototype.thenCall = function(callback) {\n  return _.isFunction(callback) ? this.then(function(res) {\n    process.nextTick(function() {\n      callback(null, res);\n    });\n  }, function(err) {\n    process.nextTick(function() {\n      callback(err);\n    });\n  }) : this;\n};\n\n/**\n * Check the status of async request\n *\n * @method Metadata~AsyncResultLocator#check\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>}\n */\nAsyncResultLocator.prototype.check = function(callback) {\n  var self = this;\n  var meta = this._meta;\n  return this.then(function(results) {\n    var ids = _.isArray(results) ? _.map(results, function(res){ return res.id; }) : results.id;\n    return meta.checkStatus(ids);\n  }).thenCall(callback);\n};\n\n/**\n * Polling until async call status becomes complete or error\n *\n * @method Metadata~AsyncResultLocator#poll\n * @param {Number} interval - Polling interval in milliseconds\n * @param {Number} timeout - Polling timeout in milliseconds\n */\nAsyncResultLocator.prototype.poll = function(interval, timeout) {\n  var self = this;\n  var startTime = new Date().getTime();\n  var poll = function() {\n    var now = new Date().getTime();\n    if (startTime + timeout < now) {\n      self.emit('error', new Error(\"polling time out\"));\n      return;\n    }\n    self.check().then(function(results) {\n      var done = true;\n      var resultArr = _.isArray(results) ? results : [ results ];\n      for (var i=0, len=resultArr.length; i<len; i++) {\n        var result = resultArr[i];\n        if (result && !result.done) {\n          done = false;\n        }\n      }\n      if (done) {\n        self.emit('complete', results);\n      } else {\n        setTimeout(poll, interval);\n      }\n    }, function(err) {\n      self.emit('error', err);\n    });\n  };\n  setTimeout(poll, interval);\n};\n\n/**\n * Check and wait until the async requests become in completed status\n *\n * @method Metadata~AsyncResultLocator#complete\n * @param {Callback.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>} [callback] - Callback function\n * @returns {Promise.<Metadata~AsyncResult|Array.<Metadata~AsyncResult>>}\n */\nAsyncResultLocator.prototype.complete = function(callback) {\n  var deferred = Promise.defer();\n  this.on('complete', function(results) {\n    deferred.resolve(results);\n  });\n  this.on('error', function(err) {\n    deferred.reject(err);\n  });\n  var meta = this._meta;\n  this.poll(meta.pollInterval, meta.pollTimeout);\n  return deferred.promise.thenCall(callback);\n};\n\n/*--------------------------------------------*/\n/**\n * The locator class to track retreive() Metadata API call result\n *\n * @protected\n * @class Metadata~RetrieveResultLocator\n * @extends Metadata~AsyncResultLocator\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult>} result - Promise object for async result of retrieve call()\n */\nvar RetrieveResultLocator = function(meta, result) {\n  RetrieveResultLocator.super_.call(this, meta, result);\n};\n\nutil.inherits(RetrieveResultLocator, AsyncResultLocator);\n\n/**\n * @typedef {Object} Metadata~RetrieveResult\n * @prop {Array.<Metadata~FileProperties>} fileProperties - Contains information about the properties of each component in the .zip file, and the manifest file package.xml\n * @prop {String} id - ID of the component being retrieved\n * @prop {Array.<Object>} messages - Contains information about the success or failure of the retrieve() call\n * @prop {String} zipFile - The zip file returned by the retrieve request. Base 64-encoded binary data\n */\n\n/**\n * Check and wait until the async request becomes in completed status,\n * and retrieve the result data.\n *\n * @memthod Metadata~RetrieveResultLocator#complete\n * @param {Callback.<Metadata~RetrieveResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~RetrieveResult>}\n */\nRetrieveResultLocator.prototype.complete = function(callback) {\n  var meta = this._meta;\n  return RetrieveResultLocator.super_.prototype.complete.call(this).then(function(result) {\n    return meta.checkRetrieveStatus(result.id);\n  }).thenCall(callback);\n};\n\n/**\n * Change the retrieved result to Node.js readable stream\n *\n * @method Metadata~RetrieveResultLocator#stream\n * @returns {stream.Stream}\n */\nRetrieveResultLocator.prototype.stream = function() {\n  var rstream = new Stream();\n  rstream.readable = true;\n  this.complete(function(err, result) {\n    if (err) {\n      rstream.emit('error', err);\n    } else {\n      rstream.emit('data', new Buffer(result.zipFile, 'base64'));\n      rstream.emit('end');\n    }\n  });\n  return rstream;\n};\n\n/*--------------------------------------------*/\n/**\n * The locator class to track deploy() Metadata API call result\n *\n * @protected\n * @class Metadata~DeployResultLocator\n * @extends Metadata~AsyncResultLocator\n * @param {Metadata} meta - Metadata API object\n * @param {Promise.<Metadata~AsyncResult>} result - Promise object for async result of deploy() call\n */\nvar DeployResultLocator = function(meta, result) {\n  DeployResultLocator.super_.call(this, meta, result);\n};\n\nutil.inherits(DeployResultLocator, AsyncResultLocator);\n\n/**\n * @typedef {Object} Metadata~DeployResult\n * @prop {String} id - ID of the component being deployed\n * @prop {Boolean} checkOnly - Indicates whether this deployment is being used to check the validity of the deployed files without making any changes in the organization or not\n * @prop {String} completedDate - Timestamp for when the deployment process ended\n * @prop {String} createdDate - Timestamp for when the deploy() call was received\n * @prop {Array.<Object>} [details] - Provides the details of a deployment that is in-progress or ended, if includeDetails is set to true in checkDeployStatus() call\n * @prop {Boolean} done - Indicates whether the server finished processing the deploy() call for the specified id\n * @prop {String} [errorMessage] - Message corresponding to the values in the errorStatusCode field\n * @prop {String} [errorStatusCode] - If an error occurred during the deploy() call, a status code is returned, and the message corresponding to the status code is returned in the errorMessagefield\n * @prop {Boolean} [ignoreWarnings] - Specifies whether a deployment should continue even if the deployment generates warnings\n * @prop {String} lastModifiedDate - Timestamp of the last update for the deployment process\n * @prop {Number} numberComponentErrors - The number of components that generated errors during this deployment\n * @prop {Number} numberComponentsDeployed - The number of components deployed in the deployment process\n * @prop {Number} numberComponentsTotal - The total number of components in the deployment\n * @prop {Number} numberTestErrors - The number of Apex tests that have generated errors during this deployment\n * @prop {Number} numberTestsCompleted - The number of completedApex tests for this deployment\n * @prop {Number} numberTestsTotal - The total number of Apex tests for this deployment\n * @prop {Boolean} [rollbackOnError] - Indicates whether any failure causes a complete rollback or not. Default is true.\n * @prop {String} startDate - Timestamp for when the deployment process began\n * @prop {String} status - Indicates the current state of the deployment\n * @prop {Boolean} success - Indicates whether the deployment was successful or not\n */\n\n/**\n * Check and wait until the async request becomes in completed status,\n * and retrieve the result data.\n *\n * @method Metadata~DeployResultLocator#complete\n * @param {Callback.<Metadata~DeployResult>} [callback] - Callback function\n * @returns {Promise.<Metadata~DeployResult>}\n */\nDeployResultLocator.prototype.complete = function(includeDetails, callback) {\n  if (_.isFunction(includeDetails)) {\n    callback = includeDetails;\n    includeDetails = false;\n  }\n  var meta = this._meta;\n  return DeployResultLocator.super_.prototype.complete.call(this).then(function(result) {\n    return meta.checkDeployStatus(result.id, includeDetails);\n  }).thenCall(callback);\n};\n\n}).call(this,require('_process'),require(\"buffer\").Buffer)\n},{\"../promise\":5,\"../soap\":6,\"_process\":16,\"buffer\":10}],2:[function(require,module,exports){\n/*global Sfdc */\nvar stream = jsforce.require('stream'),\n    _ = jsforce.require('underscore');\n\nfunction parseHeaders(hs) {\n  var headers = {};\n  hs.split(/\\n/).forEach(function(line) {\n    var pair = line.split(/\\s*:\\s*/);\n    var name = pair[0].toLowerCase();\n    var value = pair[1];\n    headers[name] = value;\n  });\n  return headers;\n}\n\nmodule.exports = {\n  \n  supported: typeof Sfdc === 'object' && typeof Sfdc.canvas !== 'undefined',\n\n  createRequest: function(signedRequest) {\n    return function(params, callback) {\n      var response;\n      var str = new stream.Duplex();\n      str._read = function(size) {\n        if (response) {\n          str.push(response.body);\n        }\n      };\n      var bufs = [];\n      var sent = false;\n      str._write = function(chunk, encoding, callback) {\n        bufs.push(chunk.toString(encoding));\n        callback();\n      };\n      str.on('finish', function() {\n        if (!sent) {\n          send(bufs.join(''));\n          sent = true;\n        }\n      });\n      if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n        send(params.body);\n        sent = true;\n      }\n\n      function send(body) {\n        var settings = {\n          client: signedRequest.client,\n          method: params.method,\n          data: body\n        };\n        if (params.headers) {\n          settings.headers = {};\n          for (var name in params.headers) {\n            if (name.toLowerCase() === 'content-type') {\n              settings.contentType = params.headers[name];\n            } else {\n              settings.headers[name] = params.headers[name];\n            }\n          }\n        }\n        settings.success = function(data) {\n          var headers = parseHeaders(data.responseHeaders);\n          var body = data.payload;\n          if (!_.isString(body)) {\n            body = JSON.stringify(body);\n          }\n          response = {\n            statusCode : data.status,\n            headers: headers,\n            body: body\n          };\n          if (callback) {\n            callback(null, response, response.body);\n          }\n          str.end();\n        };\n        settings.failure = function(err) {\n          if (callback) {\n            callback(err);\n          }\n        };\n        Sfdc.canvas.client.ajax(params.url, settings);\n      }\n      return str;\n    };\n  }\n};\n\n\n},{}],3:[function(require,module,exports){\n/*global window, document */\nvar _index = 0;\n\nmodule.exports = {\n\n  supported: typeof window !== 'undefined',\n\n  createRequest: function(jsonpParam, timeout) {\n    jsonpParam = jsonpParam || 'callback';\n    timeout = timeout || 10000;\n\n    return function(params, callback) {\n      if (params.method.toUpperCase() !== 'GET') {\n        return callback(new Error('JSONP only supports GET request.'));\n      }\n      var cbFuncName = '_jsforce_jsonpCallback_' + (++_index);\n      var callbacks = window;\n      var url = params.url;\n      url += url.indexOf('?')>0 ? '&' : '?';\n      url += jsonpParam + '=' + cbFuncName;\n\n      var script = document.createElement('script');\n      script.type = 'text/javascript';\n      script.src = url;\n      document.documentElement.appendChild(script);\n\n      var pid = setTimeout(function() {\n        cleanup();\n        callback(new Error(\"JSONP call time out.\"));\n      }, timeout);\n\n      callbacks[cbFuncName] = function(res) {\n        cleanup();\n        callback(null, {\n          statusCode: 200,\n          headers: { \"content-type\": \"application/json\" },\n          body: JSON.stringify(res)\n        });\n      };\n\n      var cleanup = function() {\n        clearTimeout(pid);\n        document.documentElement.removeChild(script);\n        delete callbacks[cbFuncName];\n      };\n    };\n\n  }\n\n};\n},{}],4:[function(require,module,exports){\nvar stream = jsforce.require('stream');\n\nmodule.exports = function(params, callback) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(params.method, params.url);\n  if (params.headers) {\n    for (var header in params.headers) {\n      xhr.setRequestHeader(header, params.headers[header]);\n    }\n  }\n  xhr.setRequestHeader(\"Accept\", \"*/*\");\n  var response;\n  var str = new stream.Duplex();\n  str._read = function(size) {\n    if (response) {\n      str.push(response.body);\n    }\n  };\n  var bufs = [];\n  var sent = false;\n  str._write = function(chunk, encoding, callback) {\n    bufs.push(chunk.toString(encoding === \"buffer\" ? \"binary\" : encoding));\n    callback();\n  };\n  str.on('finish', function() {\n    if (!sent) {\n      xhr.send(bufs.join(''));\n      sent = true;\n    }\n  });\n  if (params.body || params.body === \"\" || !/^(put|post|patch)$/i.test(params.method)) {\n    xhr.send(params.body);\n    sent = true;\n  }\n  xhr.onreadystatechange = function() {\n    if (xhr.readyState === 4) {\n      var headers = {\n        \"content-type\": xhr.getResponseHeader(\"content-type\")\n      };\n      response = {\n        statusCode: xhr.status,\n        headers: headers,\n        body: xhr.response\n      };\n      if (!response.statusCode) {\n        response.statusCode = 400;\n        response.body = \"Access Declined\";\n      }\n      if (callback) {\n        callback(null, response, response.body);\n      }\n      str.end();\n    }\n  };\n  return str;\n};\n\n\n},{}],5:[function(require,module,exports){\n(function (process){\n/*global process*/\nvar Q = require('q'),\n    _ = jsforce.require('underscore')._;\n\n/**\n * Promises/A+ spec compliant class, with a little extension\n * http://promises-aplus.github.io/promises-spec/\n *\n * @class Promise\n * @constructor\n * @param {Promise.<T>|T} o - Object to wrap with promise\n * @template T\n */\nvar Promise = function(o) {\n  this._promise = Q(o);\n};\n\n/**\n * @callback FulfilledCallback\n * @param {T} result - Fulfilled value\n * @returns {S}\n * @template T,S\n */\n\n/**\n * @callback RejectedCallback\n * @param {Error} reason - Rejected reason\n * @returns {S}\n * @template S\n */\n\n/**\n * The \"then\" method from the Promises/A+ specification\n *\n * @param {FulfilledCallback.<T, S1>} [onFulfilled]\n * @param {RejectedCallback.<S2>} [onRejected]\n * @returns {Promise.<S1|S2>}\n */\nPromise.prototype.then = function() {\n  // Delegate Q promise implementation and wrap by our Promise instance\n  return new Promise(this._promise.then.apply(this._promise, arguments));\n};\n\n/**\n * Call \"then\" using given node-style callback function\n *\n * @param {Callback.<T>} [callback] - Callback function\n * @returns {Promise}\n */\nPromise.prototype.thenCall = function(callback) {\n  if (_.isFunction(callback)) {\n    this.then(function(res) {\n      process.nextTick(function() {\n        callback(null, res);\n      });\n    }, function(err) {\n      process.nextTick(function() {\n        callback(err);\n      });\n    });\n  }\n  return this;\n};\n\n/**\n * A sugar method, equivalent to promise.then(undefined, onRejected).\n *\n * @param {RejectedCallback.<S>} onRejected\n * @returns {Promise.<S>}\n */\nPromise.prototype.fail = function() {\n  return new Promise(this._promise.fail.apply(this._promise, arguments));\n};\n\n/**\n * Alias for completion\n *\n * @param {FulfilledCallback.<T, S>} [onFulfilled]\n * @returns {Promise.<S>}\n */\nPromise.prototype.done = function() {\n  return new Promise(this._promise.done.apply(this._promise, arguments));\n};\n\n/**\n * @param {...Promise.<*>} p\n */\nPromise.when = function() {\n  return new Promise(Q.when.apply(Q, arguments));\n};\n\n/**\n * Returns rejecting promise with given reason\n *\n * @param {Error} reason - Rejecting reason\n * @returns {Promise}\n */\nPromise.reject = function(reason) {\n  return new Promise(Q.reject(reason));\n};\n\n/**\n * Returns a promise that is fulfilled with an array containing the fulfillment value of each promise, \n * or is rejected with the same rejection reason as the first promise to be rejected.\n *\n * @param {Array.<Promise.<*>|*>} promises\n * @returns {Promise.<Array.<*>>}\n */\nPromise.all = function() {\n  return new Promise(Q.all.apply(Q, arguments));\n};\n\n/**\n * Returns a deferred object\n *\n * @returns {Deferred}\n */\nPromise.defer = function() {\n  return new Deferred();\n};\n\n/**\n * Deferred object\n *\n * @protected\n * @constructor\n */\nvar Deferred = function() {\n  this._deferred = Q.defer();\n  this.promise = new Promise(this._deferred.promise);\n};\n\n/**\n * Resolve promise\n * @param {*} result - Resolving result\n */\nDeferred.prototype.resolve = function() {\n  return this._deferred.resolve.apply(this._promise, arguments);\n};\n\n/**\n * Reject promise\n * @param {Error} error - Rejecting reason\n */\nDeferred.prototype.reject = function() {\n  return this._deferred.reject.apply(this._promise, arguments);\n};\n\n/**\n *\n */\nmodule.exports = Promise;\n\n}).call(this,require('_process'))\n},{\"_process\":16,\"q\":19}],6:[function(require,module,exports){\n/**\n * @file Manages method call to SOAP endpoint\n * @author Shinichi Tomita <shinichi.tomita@gmail.com>\n */\nvar _ = jsforce.require('underscore'),\n    xml2js = require('xml2js'),\n    Transport = require('./transport');\n\n/**\n * Class for SOAP endpoint of Salesforce\n *\n * @protected\n * @class\n * @constructor\n * @param {Object} options - SOAP endpoint setting options\n * @param {String} options.serverUrl - SOAP endpoint URL\n * @param {String} options.sessionId - Salesforce session ID\n * @param {String} [options.xmlns] - XML namespace for method call (default is \"urn:partner.soap.sforce.com\")\n * @param {Transport} [transport] - HTTP request transport instance\n */\nvar SOAP = module.exports = function(options, transport) {\n  this.serverUrl = options.serverUrl;\n  this.sessionId = options.sessionId;\n  this.xmlns = options.xmlns || 'urn:partner.soap.sforce.com';\n  this._transport = transport;\n  if (!this._transport) {\n    this._transport = options.proxyUrl ? new Transport() : new Transport.ProxyTransport(options.proxyUrl);\n  }\n};\n\n/**\n * Invoke SOAP call using method and arguments\n * \n * @param {String} method - Method name\n * @param {Object} args - Arguments for the method call\n * @param {Callback.<Object>} [callback] - Callback function\n * @returns {Promise.<Object>}\n */\nSOAP.prototype.invoke = function(method, args, callback) {\n  var message = {};\n  message[method] = args;\n  var soapEnvelope = this._createEnvelope(message);\n  return this._transport.httpRequest({\n    method: 'POST',\n    url: this.serverUrl,\n    headers: {\n      'Content-Type': 'text/xml',\n      'SOAPAction': '\"\"'\n    },\n    body: soapEnvelope\n  }).then(function(res) {\n    var ret = null;\n    xml2js.parseString(res.body, { explicitArray: false }, function(err, value) { ret = value; });\n    if (ret) {\n      var error = lookupValue(ret, [ /:Envelope$/, /:Body$/, /:Fault$/, /faultstring$/ ]);\n      if (error) {\n        throw new Error(error);\n      }\n      return lookupValue(ret, [ /:Envelope$/, /:Body$/, /.+/ ]);\n    }\n    throw new Error(\"invalid response\");\n  }).thenCall(callback);\n};\n\n/**\n * @private\n */\nfunction lookupValue(obj, propRegExps) {\n  var regexp = propRegExps.shift();\n  if (!regexp) {\n    return obj; \n  }\n  else {\n    for (var prop in obj) {\n      if (regexp.test(prop)) {\n        return lookupValue(obj[prop], propRegExps);\n      }\n    }\n    return null;\n  }\n}\n\n/**\n * @private\n */\nfunction toXML(name, value) {\n  if (_.isObject(name)) {\n    value = name;\n    name = null;\n  }\n  if (_.isArray(value)) {\n    return _.map(value, function(v) { return toXML(name, v); }).join('');\n  } else {\n    var attrs = [];\n    var elems = [];\n    if (_.isObject(value)) {\n      for (var k in value) {\n        var v = value[k];\n        if (k[0] === '@') {\n          k = k.substring(1);\n          attrs.push(k + '=\"' + v + '\"');\n        } else {\n          elems.push(toXML(k, v));\n        }\n      }\n      value = elems.join('');\n    } else {\n      value = String(value);\n    }\n    var startTag = name ? '<' + name + (attrs.length > 0 ? ' ' + attrs.join(' ') : '') + '>' : '';\n    var endTag = name ? '</' + name + '>' : '';\n    return  startTag + value + endTag;\n  }\n}\n\n/**\n * @private\n */\nSOAP.prototype._createEnvelope = function(message) {\n  return [\n    '<?xml version=\"1.0\" encoding=\"UTF-8\"?>',\n    '<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\"',\n    ' xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\"',\n    ' xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\">',\n    '<soapenv:Header xmlns=\"' + this.xmlns + '\">',\n      '<SessionHeader>',\n      '<sessionId>' + this.sessionId + '</sessionId>',\n      '</SessionHeader>',\n    '</soapenv:Header>',\n    '<soapenv:Body xmlns=\"' + this.xmlns + '\">',\n    toXML(message),\n    '</soapenv:Body>',\n    '</soapenv:Envelope>'\n  ].join('');\n};\n\n},{\"./transport\":7,\"xml2js\":36}],7:[function(require,module,exports){\n(function (process){\n/*global process, Sfdc */\nvar util = jsforce.require('util'),\n    stream = jsforce.require('stream'),\n    Promise = require('./promise');\n\n/* */\n\nvar nodeRequest = require('request'),\n    xhrRequest = require('./browser/request'),\n    canvas = require('./browser/canvas'),\n    jsonp = require('./browser/jsonp');\n\nvar request, baseUrl;\nif (typeof window === 'undefined') {\n  var defaults = {\n    followAllRedirects: true\n  };\n  if (process.env.HTTP_PROXY) {\n    defaults.proxy = process.env.HTTP_PROXY;\n  }\n  if (process.env.HTTP_TIMEOUT) {\n    defaults.timeout = process.env.HTTP_TIMEOUT;\n  }\n  request = nodeRequest.defaults(defaults);\n  baseUrl = process.env.LOCATION_BASE_URL || \"\";\n} else {\n  request = xhrRequest;\n  var apiHost = normalizeApiHost(window.location.host);\n  baseUrl = apiHost ? \"https://\" + apiHost : \"\";\n}\n\n/**\n * Add stream() method to promise (and following promise chain), to access original request stream.\n * @private\n */\nfunction streamify(promise, factory) {\n  var _then = promise.then;\n  promise.then = function() {\n    factory();\n    var newPromise = _then.apply(promise, arguments);\n    return streamify(newPromise, factory);\n  };\n  promise.stream = factory;\n  return promise;\n}\n\n/**\n * Normarize Salesforce API host name\n * @private\n */\nfunction normalizeApiHost(apiHost) {\n  var m = /(\\w+)\\.(visual\\.force|salesforce)\\.com$/.exec(apiHost)\n  if (m) {\n    apiHost = m[1] + \".salesforce.com\";\n  }\n  return apiHost;\n}\n\n/**\n * Class for HTTP request transport\n *\n * @class\n * @protected\n */\nvar Transport = module.exports = function() {};\n\n/**\n * Make HTTP request, returns promise instead of stream\n *\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @param {Callback.<Object>} [options] - Options\n * @returns {Promise.<Object>}\n */\nTransport.prototype.httpRequest = function(params, callback, options) {\n  var deferred = Promise.defer();\n  var req;\n  var httpRequest = request;\n  if (options && options.jsonp && jsonp.supported) {\n    httpRequest = jsonp.createRequest(options.jsonp);\n  } else if (options && options.signedRequest && canvas.supported) {\n    httpRequest = canvas.createRequest(options.signedRequest);\n  }\n  var createRequest = function() {\n    if (!req) {\n      req = httpRequest(params, function(err, response) {\n        if (err) {\n          deferred.reject(err);\n        } else {\n          deferred.resolve(response);\n        }\n      });\n    }\n    return req;\n  };\n  return streamify(deferred.promise, createRequest).thenCall(callback);\n};\n\n/**\n * Class for HTTP request transport using AJAX proxy service\n *\n * @class Transport~ProxyTransport\n * @protected\n * @extends Transport\n * @param {String} proxyUrl - AJAX Proxy server URL\n */\nvar ProxyTransport = Transport.ProxyTransport = function(proxyUrl) {\n  this._proxyUrl = proxyUrl;\n};\n\nutil.inherits(ProxyTransport, Transport);\n\n/**\n * Make HTTP request via AJAX proxy\n *\n * @method Transport~ProxyTransport#httpRequest\n * @param {Object} params - HTTP request\n * @param {Callback.<Object>} [callback] - Calback Function\n * @returns {Promise.<Object>}\n */\nProxyTransport.prototype.httpRequest = function(params, callback) {\n  var url = params.url;\n  if (url.indexOf(\"/\") === 0) {\n    url = baseUrl + url;\n  }\n  var proxyParams = {\n    method: params.method,\n    url: this._proxyUrl + '?' + Date.now() + \".\" + (\"\" + Math.random()).substring(2),\n    headers: {\n      'salesforceproxy-endpoint': url\n    }\n  };\n  if (params.body || params.body === \"\") {\n    proxyParams.body = params.body;\n  }\n  if (params.headers) {\n    for (var name in params.headers) {\n      proxyParams.headers[name] = params.headers[name];\n    }\n  }\n  return ProxyTransport.super_.prototype.httpRequest.call(this, proxyParams, callback);\n};\n\n}).call(this,require('_process'))\n},{\"./browser/canvas\":2,\"./browser/jsonp\":3,\"./browser/request\":4,\"./promise\":5,\"_process\":16,\"request\":8}],8:[function(require,module,exports){\n\n},{}],9:[function(require,module,exports){\nmodule.exports=require(8)\n},{\"/Users/stomita/Work/Salesforce/jsforce.publish/node_modules/browserify/lib/_empty.js\":8}],10:[function(require,module,exports){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('is-array')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = Buffer\nexports.INSPECT_MAX_BYTES = 50\nBuffer.poolSize = 8192 // not used by this implementation\n\nvar kMaxLength = 0x3fffffff\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Note:\n *\n * - Implementation must support adding new properties to `Uint8Array` instances.\n *   Firefox 4-29 lacked support, fixed in Firefox 30+.\n *   See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *  - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *  - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *    incorrect length in some situations.\n *\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they will\n * get the Object implementation, which is slower but will work correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = (function () {\n  try {\n    var buf = new ArrayBuffer(0)\n    var arr = new Uint8Array(buf)\n    arr.foo = function () { return 42 }\n    return 42 === arr.foo() && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        new Uint8Array(1).subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n})()\n\n/**\n * Class: Buffer\n * =============\n *\n * The Buffer constructor returns instances of `Uint8Array` that are augmented\n * with function properties for all the node `Buffer` API functions. We use\n * `Uint8Array` so that square bracket notation works as expected -- it returns\n * a single octet.\n *\n * By augmenting the instances, we can avoid modifying the `Uint8Array`\n * prototype.\n */\nfunction Buffer (subject, encoding, noZero) {\n  if (!(this instanceof Buffer))\n    return new Buffer(subject, encoding, noZero)\n\n  var type = typeof subject\n\n  // Find the length\n  var length\n  if (type === 'number')\n    length = subject > 0 ? subject >>> 0 : 0\n  else if (type === 'string') {\n    if (encoding === 'base64')\n      subject = base64clean(subject)\n    length = Buffer.byteLength(subject, encoding)\n  } else if (type === 'object' && subject !== null) { // assume object is array-like\n    if (subject.type === 'Buffer' && isArray(subject.data))\n      subject = subject.data\n    length = +subject.length > 0 ? Math.floor(+subject.length) : 0\n  } else\n    throw new TypeError('must start with number, buffer, array or string')\n\n  if (this.length > kMaxLength)\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n      'size: 0x' + kMaxLength.toString(16) + ' bytes')\n\n  var buf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Preferred: Return an augmented `Uint8Array` instance for best performance\n    buf = Buffer._augment(new Uint8Array(length))\n  } else {\n    // Fallback: Return THIS instance of Buffer (created by `new`)\n    buf = this\n    buf.length = length\n    buf._isBuffer = true\n  }\n\n  var i\n  if (Buffer.TYPED_ARRAY_SUPPORT && typeof subject.byteLength === 'number') {\n    // Speed optimization -- use set if we're copying from a typed array\n    buf._set(subject)\n  } else if (isArrayish(subject)) {\n    // Treat array-ish objects as a byte array\n    if (Buffer.isBuffer(subject)) {\n      for (i = 0; i < length; i++)\n        buf[i] = subject.readUInt8(i)\n    } else {\n      for (i = 0; i < length; i++)\n        buf[i] = ((subject[i] % 256) + 256) % 256\n    }\n  } else if (type === 'string') {\n    buf.write(subject, 0, encoding)\n  } else if (type === 'number' && !Buffer.TYPED_ARRAY_SUPPORT && !noZero) {\n    for (i = 0; i < length; i++) {\n      buf[i] = 0\n    }\n  }\n\n  return buf\n}\n\nBuffer.isBuffer = function (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b))\n    throw new TypeError('Arguments must be Buffers')\n\n  var x = a.length\n  var y = b.length\n  for (var i = 0, len = Math.min(x, y); i < len && a[i] === b[i]; i++) {}\n  if (i !== len) {\n    x = a[i]\n    y = b[i]\n  }\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'binary':\n    case 'base64':\n    case 'raw':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function (list, totalLength) {\n  if (!isArray(list)) throw new TypeError('Usage: Buffer.concat(list[, length])')\n\n  if (list.length === 0) {\n    return new Buffer(0)\n  } else if (list.length === 1) {\n    return list[0]\n  }\n\n  var i\n  if (totalLength === undefined) {\n    totalLength = 0\n    for (i = 0; i < list.length; i++) {\n      totalLength += list[i].length\n    }\n  }\n\n  var buf = new Buffer(totalLength)\n  var pos = 0\n  for (i = 0; i < list.length; i++) {\n    var item = list[i]\n    item.copy(buf, pos)\n    pos += item.length\n  }\n  return buf\n}\n\nBuffer.byteLength = function (str, encoding) {\n  var ret\n  str = str + ''\n  switch (encoding || 'utf8') {\n    case 'ascii':\n    case 'binary':\n    case 'raw':\n      ret = str.length\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = str.length * 2\n      break\n    case 'hex':\n      ret = str.length >>> 1\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8ToBytes(str).length\n      break\n    case 'base64':\n      ret = base64ToBytes(str).length\n      break\n    default:\n      ret = str.length\n  }\n  return ret\n}\n\n// pre-set for values that may exist in the future\nBuffer.prototype.length = undefined\nBuffer.prototype.parent = undefined\n\n// toString(encoding, start=0, end=buffer.length)\nBuffer.prototype.toString = function (encoding, start, end) {\n  var loweredCase = false\n\n  start = start >>> 0\n  end = end === undefined || end === Infinity ? this.length : end >>> 0\n\n  if (!encoding) encoding = 'utf8'\n  if (start < 0) start = 0\n  if (end > this.length) end = this.length\n  if (end <= start) return ''\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'binary':\n        return binarySlice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase)\n          throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.equals = function (b) {\n  if(!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max)\n      str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  return Buffer.compare(this, b)\n}\n\n// `get` will be removed in Node 0.13+\nBuffer.prototype.get = function (offset) {\n  console.log('.get() is deprecated. Access using array indexes instead.')\n  return this.readUInt8(offset)\n}\n\n// `set` will be removed in Node 0.13+\nBuffer.prototype.set = function (v, offset) {\n  console.log('.set() is deprecated. Access using array indexes instead.')\n  return this.writeUInt8(v, offset)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new Error('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; i++) {\n    var byte = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(byte)) throw new Error('Invalid hex string')\n    buf[offset + i] = byte\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf8ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(asciiToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction binaryWrite (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  var charsWritten = blitBuffer(base64ToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nfunction utf16leWrite (buf, string, offset, length) {\n  var charsWritten = blitBuffer(utf16leToBytes(string), buf, offset, length)\n  return charsWritten\n}\n\nBuffer.prototype.write = function (string, offset, length, encoding) {\n  // Support both (string, offset, length, encoding)\n  // and the legacy (string, encoding, offset, length)\n  if (isFinite(offset)) {\n    if (!isFinite(length)) {\n      encoding = length\n      length = undefined\n    }\n  } else {  // legacy\n    var swap = encoding\n    encoding = offset\n    offset = length\n    length = swap\n  }\n\n  offset = Number(offset) || 0\n  var remaining = this.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n  encoding = String(encoding || 'utf8').toLowerCase()\n\n  var ret\n  switch (encoding) {\n    case 'hex':\n      ret = hexWrite(this, string, offset, length)\n      break\n    case 'utf8':\n    case 'utf-8':\n      ret = utf8Write(this, string, offset, length)\n      break\n    case 'ascii':\n      ret = asciiWrite(this, string, offset, length)\n      break\n    case 'binary':\n      ret = binaryWrite(this, string, offset, length)\n      break\n    case 'base64':\n      ret = base64Write(this, string, offset, length)\n      break\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      ret = utf16leWrite(this, string, offset, length)\n      break\n    default:\n      throw new TypeError('Unknown encoding: ' + encoding)\n  }\n  return ret\n}\n\nBuffer.prototype.toJSON = function () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  var res = ''\n  var tmp = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    if (buf[i] <= 0x7F) {\n      res += decodeUtf8Char(tmp) + String.fromCharCode(buf[i])\n      tmp = ''\n    } else {\n      tmp += '%' + buf[i].toString(16)\n    }\n  }\n\n  return res + decodeUtf8Char(tmp)\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; i++) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction binarySlice (buf, start, end) {\n  return asciiSlice(buf, start, end)\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; i++) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len;\n    if (start < 0)\n      start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0)\n      end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start)\n    end = start\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    return Buffer._augment(this.subarray(start, end))\n  } else {\n    var sliceLen = end - start\n    var newBuf = new Buffer(sliceLen, undefined, true)\n    for (var i = 0; i < sliceLen; i++) {\n      newBuf[i] = this[i + start]\n    }\n    return newBuf\n  }\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0)\n    throw new RangeError('offset is not uint')\n  if (offset + ext > length)\n    throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n      ((this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      this[offset + 3])\n}\n\nBuffer.prototype.readInt8 = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80))\n    return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16) |\n      (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n      (this[offset + 1] << 16) |\n      (this[offset + 2] << 8) |\n      (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function (offset, noAssert) {\n  if (!noAssert)\n    checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('buffer must be a Buffer instance')\n  if (value > max || value < min) throw new TypeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new TypeError('index out of range')\n}\n\nBuffer.prototype.writeUInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = value\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; i++) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; i++) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = value\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt8 = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = value\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n  } else objectWriteUInt16(this, value, offset, true)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = value\n  } else objectWriteUInt16(this, value, offset, false)\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = value\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else objectWriteUInt32(this, value, offset, true)\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function (value, offset, noAssert) {\n  value = +value\n  offset = offset >>> 0\n  if (!noAssert)\n    checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = value\n  } else objectWriteUInt32(this, value, offset, false)\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (value > max || value < min) throw new TypeError('value is out of bounds')\n  if (offset + ext > buf.length) throw new TypeError('index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert)\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function (target, target_start, start, end) {\n  var source = this\n\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (!target_start) target_start = 0\n\n  // Copy 0 bytes; we're done\n  if (end === start) return\n  if (target.length === 0 || source.length === 0) return\n\n  // Fatal error conditions\n  if (end < start) throw new TypeError('sourceEnd < sourceStart')\n  if (target_start < 0 || target_start >= target.length)\n    throw new TypeError('targetStart out of bounds')\n  if (start < 0 || start >= source.length) throw new TypeError('sourceStart out of bounds')\n  if (end < 0 || end > source.length) throw new TypeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length)\n    end = this.length\n  if (target.length - target_start < end - start)\n    end = target.length - target_start + start\n\n  var len = end - start\n\n  if (len < 100 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < len; i++) {\n      target[i + target_start] = this[i + start]\n    }\n  } else {\n    target._set(this.subarray(start, start + len), target_start)\n  }\n}\n\n// fill(value, start=0, end=buffer.length)\nBuffer.prototype.fill = function (value, start, end) {\n  if (!value) value = 0\n  if (!start) start = 0\n  if (!end) end = this.length\n\n  if (end < start) throw new TypeError('end < start')\n\n  // Fill 0 bytes; we're done\n  if (end === start) return\n  if (this.length === 0) return\n\n  if (start < 0 || start >= this.length) throw new TypeError('start out of bounds')\n  if (end < 0 || end > this.length) throw new TypeError('end out of bounds')\n\n  var i\n  if (typeof value === 'number') {\n    for (i = start; i < end; i++) {\n      this[i] = value\n    }\n  } else {\n    var bytes = utf8ToBytes(value.toString())\n    var len = bytes.length\n    for (i = start; i < end; i++) {\n      this[i] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n/**\n * Creates a new `ArrayBuffer` with the *copied* memory of the buffer instance.\n * Added in Node 0.12. Only available in browsers that support ArrayBuffer.\n */\nBuffer.prototype.toArrayBuffer = function () {\n  if (typeof Uint8Array !== 'undefined') {\n    if (Buffer.TYPED_ARRAY_SUPPORT) {\n      return (new Buffer(this)).buffer\n    } else {\n      var buf = new Uint8Array(this.length)\n      for (var i = 0, len = buf.length; i < len; i += 1) {\n        buf[i] = this[i]\n      }\n      return buf.buffer\n    }\n  } else {\n    throw new TypeError('Buffer.toArrayBuffer not supported in this browser')\n  }\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar BP = Buffer.prototype\n\n/**\n * Augment a Uint8Array *instance* (not the Uint8Array class!) with Buffer methods\n */\nBuffer._augment = function (arr) {\n  arr._isBuffer = true\n\n  // save reference to original Uint8Array get/set methods before overwriting\n  arr._get = arr.get\n  arr._set = arr.set\n\n  // deprecated, will be removed in node 0.13+\n  arr.get = BP.get\n  arr.set = BP.set\n\n  arr.write = BP.write\n  arr.toString = BP.toString\n  arr.toLocaleString = BP.toString\n  arr.toJSON = BP.toJSON\n  arr.equals = BP.equals\n  arr.compare = BP.compare\n  arr.copy = BP.copy\n  arr.slice = BP.slice\n  arr.readUInt8 = BP.readUInt8\n  arr.readUInt16LE = BP.readUInt16LE\n  arr.readUInt16BE = BP.readUInt16BE\n  arr.readUInt32LE = BP.readUInt32LE\n  arr.readUInt32BE = BP.readUInt32BE\n  arr.readInt8 = BP.readInt8\n  arr.readInt16LE = BP.readInt16LE\n  arr.readInt16BE = BP.readInt16BE\n  arr.readInt32LE = BP.readInt32LE\n  arr.readInt32BE = BP.readInt32BE\n  arr.readFloatLE = BP.readFloatLE\n  arr.readFloatBE = BP.readFloatBE\n  arr.readDoubleLE = BP.readDoubleLE\n  arr.readDoubleBE = BP.readDoubleBE\n  arr.writeUInt8 = BP.writeUInt8\n  arr.writeUInt16LE = BP.writeUInt16LE\n  arr.writeUInt16BE = BP.writeUInt16BE\n  arr.writeUInt32LE = BP.writeUInt32LE\n  arr.writeUInt32BE = BP.writeUInt32BE\n  arr.writeInt8 = BP.writeInt8\n  arr.writeInt16LE = BP.writeInt16LE\n  arr.writeInt16BE = BP.writeInt16BE\n  arr.writeInt32LE = BP.writeInt32LE\n  arr.writeInt32BE = BP.writeInt32BE\n  arr.writeFloatLE = BP.writeFloatLE\n  arr.writeFloatBE = BP.writeFloatBE\n  arr.writeDoubleLE = BP.writeDoubleLE\n  arr.writeDoubleBE = BP.writeDoubleBE\n  arr.fill = BP.fill\n  arr.inspect = BP.inspect\n  arr.toArrayBuffer = BP.toArrayBuffer\n\n  return arr\n}\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-z]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction isArrayish (subject) {\n  return isArray(subject) || Buffer.isBuffer(subject) ||\n      subject && typeof subject === 'object' &&\n      typeof subject.length === 'number'\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    var b = str.charCodeAt(i)\n    if (b <= 0x7F) {\n      byteArray.push(b)\n    } else {\n      var start = i\n      if (b >= 0xD800 && b <= 0xDFFF) i++\n      var h = encodeURIComponent(str.slice(start, i+1)).substr(1).split('%')\n      for (var j = 0; j < h.length; j++) {\n        byteArray.push(parseInt(h[j], 16))\n      }\n    }\n  }\n  return byteArray\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; i++) {\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(str)\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; i++) {\n    if ((i + offset >= dst.length) || (i >= src.length))\n      break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction decodeUtf8Char (str) {\n  try {\n    return decodeURIComponent(str)\n  } catch (err) {\n    return String.fromCharCode(0xFFFD) // UTF 8 invalid char\n  }\n}\n\n},{\"base64-js\":11,\"ieee754\":12,\"is-array\":13}],11:[function(require,module,exports){\nvar lookup = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';\n\n;(function (exports) {\n\t'use strict';\n\n  var Arr = (typeof Uint8Array !== 'undefined')\n    ? Uint8Array\n    : Array\n\n\tvar PLUS   = '+'.charCodeAt(0)\n\tvar SLASH  = '/'.charCodeAt(0)\n\tvar NUMBER = '0'.charCodeAt(0)\n\tvar LOWER  = 'a'.charCodeAt(0)\n\tvar UPPER  = 'A'.charCodeAt(0)\n\n\tfunction decode (elt) {\n\t\tvar code = elt.charCodeAt(0)\n\t\tif (code === PLUS)\n\t\t\treturn 62 // '+'\n\t\tif (code === SLASH)\n\t\t\treturn 63 // '/'\n\t\tif (code < NUMBER)\n\t\t\treturn -1 //no match\n\t\tif (code < NUMBER + 10)\n\t\t\treturn code - NUMBER + 26 + 26\n\t\tif (code < UPPER + 26)\n\t\t\treturn code - UPPER\n\t\tif (code < LOWER + 26)\n\t\t\treturn code - LOWER + 26\n\t}\n\n\tfunction b64ToByteArray (b64) {\n\t\tvar i, j, l, tmp, placeHolders, arr\n\n\t\tif (b64.length % 4 > 0) {\n\t\t\tthrow new Error('Invalid string. Length must be a multiple of 4')\n\t\t}\n\n\t\t// the number of equal signs (place holders)\n\t\t// if there are two placeholders, than the two characters before it\n\t\t// represent one byte\n\t\t// if there is only one, then the three characters before it represent 2 bytes\n\t\t// this is just a cheap hack to not do indexOf twice\n\t\tvar len = b64.length\n\t\tplaceHolders = '=' === b64.charAt(len - 2) ? 2 : '=' === b64.charAt(len - 1) ? 1 : 0\n\n\t\t// base64 is 4/3 + up to two characters of the original data\n\t\tarr = new Arr(b64.length * 3 / 4 - placeHolders)\n\n\t\t// if there are placeholders, only get up to the last complete 4 chars\n\t\tl = placeHolders > 0 ? b64.length - 4 : b64.length\n\n\t\tvar L = 0\n\n\t\tfunction push (v) {\n\t\t\tarr[L++] = v\n\t\t}\n\n\t\tfor (i = 0, j = 0; i < l; i += 4, j += 3) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 18) | (decode(b64.charAt(i + 1)) << 12) | (decode(b64.charAt(i + 2)) << 6) | decode(b64.charAt(i + 3))\n\t\t\tpush((tmp & 0xFF0000) >> 16)\n\t\t\tpush((tmp & 0xFF00) >> 8)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\tif (placeHolders === 2) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 2) | (decode(b64.charAt(i + 1)) >> 4)\n\t\t\tpush(tmp & 0xFF)\n\t\t} else if (placeHolders === 1) {\n\t\t\ttmp = (decode(b64.charAt(i)) << 10) | (decode(b64.charAt(i + 1)) << 4) | (decode(b64.charAt(i + 2)) >> 2)\n\t\t\tpush((tmp >> 8) & 0xFF)\n\t\t\tpush(tmp & 0xFF)\n\t\t}\n\n\t\treturn arr\n\t}\n\n\tfunction uint8ToBase64 (uint8) {\n\t\tvar i,\n\t\t\textraBytes = uint8.length % 3, // if we have 1 byte left, pad 2 bytes\n\t\t\toutput = \"\",\n\t\t\ttemp, length\n\n\t\tfunction encode (num) {\n\t\t\treturn lookup.charAt(num)\n\t\t}\n\n\t\tfunction tripletToBase64 (num) {\n\t\t\treturn encode(num >> 18 & 0x3F) + encode(num >> 12 & 0x3F) + encode(num >> 6 & 0x3F) + encode(num & 0x3F)\n\t\t}\n\n\t\t// go through the array every three bytes, we'll deal with trailing stuff later\n\t\tfor (i = 0, length = uint8.length - extraBytes; i < length; i += 3) {\n\t\t\ttemp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n\t\t\toutput += tripletToBase64(temp)\n\t\t}\n\n\t\t// pad the end with zeros, but make sure to not forget the extra bytes\n\t\tswitch (extraBytes) {\n\t\t\tcase 1:\n\t\t\t\ttemp = uint8[uint8.length - 1]\n\t\t\t\toutput += encode(temp >> 2)\n\t\t\t\toutput += encode((temp << 4) & 0x3F)\n\t\t\t\toutput += '=='\n\t\t\t\tbreak\n\t\t\tcase 2:\n\t\t\t\ttemp = (uint8[uint8.length - 2] << 8) + (uint8[uint8.length - 1])\n\t\t\t\toutput += encode(temp >> 10)\n\t\t\t\toutput += encode((temp >> 4) & 0x3F)\n\t\t\t\toutput += encode((temp << 2) & 0x3F)\n\t\t\t\toutput += '='\n\t\t\t\tbreak\n\t\t}\n\n\t\treturn output\n\t}\n\n\texports.toByteArray = b64ToByteArray\n\texports.fromByteArray = uint8ToBase64\n}(typeof exports === 'undefined' ? (this.base64js = {}) : exports))\n\n},{}],12:[function(require,module,exports){\nexports.read = function(buffer, offset, isLE, mLen, nBytes) {\n  var e, m,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      nBits = -7,\n      i = isLE ? (nBytes - 1) : 0,\n      d = isLE ? -1 : 1,\n      s = buffer[offset + i];\n\n  i += d;\n\n  e = s & ((1 << (-nBits)) - 1);\n  s >>= (-nBits);\n  nBits += eLen;\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  m = e & ((1 << (-nBits)) - 1);\n  e >>= (-nBits);\n  nBits += mLen;\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8);\n\n  if (e === 0) {\n    e = 1 - eBias;\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity);\n  } else {\n    m = m + Math.pow(2, mLen);\n    e = e - eBias;\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen);\n};\n\nexports.write = function(buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c,\n      eLen = nBytes * 8 - mLen - 1,\n      eMax = (1 << eLen) - 1,\n      eBias = eMax >> 1,\n      rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0),\n      i = isLE ? 0 : (nBytes - 1),\n      d = isLE ? 1 : -1,\n      s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0;\n\n  value = Math.abs(value);\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0;\n    e = eMax;\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2);\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--;\n      c *= 2;\n    }\n    if (e + eBias >= 1) {\n      value += rt / c;\n    } else {\n      value += rt * Math.pow(2, 1 - eBias);\n    }\n    if (value * c >= 2) {\n      e++;\n      c /= 2;\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0;\n      e = eMax;\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen);\n      e = e + eBias;\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen);\n      e = 0;\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8);\n\n  e = (e << mLen) | m;\n  eLen += mLen;\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8);\n\n  buffer[offset + i - d] |= s * 128;\n};\n\n},{}],13:[function(require,module,exports){\n\n/**\n * isArray\n */\n\nvar isArray = Array.isArray;\n\n/**\n * toString\n */\n\nvar str = Object.prototype.toString;\n\n/**\n * Whether or not the given `val`\n * is an array.\n *\n * example:\n *\n *        isArray([]);\n *        // > true\n *        isArray(arguments);\n *        // > false\n *        isArray('');\n *        // > false\n *\n * @param {mixed} val\n * @return {bool}\n */\n\nmodule.exports = isArray || function (val) {\n  return !! val && '[object Array]' == str.call(val);\n};\n\n},{}],14:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nfunction EventEmitter() {\n  this._events = this._events || {};\n  this._maxListeners = this._maxListeners || undefined;\n}\nmodule.exports = EventEmitter;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nEventEmitter.defaultMaxListeners = 10;\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function(n) {\n  if (!isNumber(n) || n < 0 || isNaN(n))\n    throw TypeError('n must be a positive number');\n  this._maxListeners = n;\n  return this;\n};\n\nEventEmitter.prototype.emit = function(type) {\n  var er, handler, len, args, i, listeners;\n\n  if (!this._events)\n    this._events = {};\n\n  // If there is no 'error' event listener then throw.\n  if (type === 'error') {\n    if (!this._events.error ||\n        (isObject(this._events.error) && !this._events.error.length)) {\n      er = arguments[1];\n      if (er instanceof Error) {\n        throw er; // Unhandled 'error' event\n      }\n      throw TypeError('Uncaught, unspecified \"error\" event.');\n    }\n  }\n\n  handler = this._events[type];\n\n  if (isUndefined(handler))\n    return false;\n\n  if (isFunction(handler)) {\n    switch (arguments.length) {\n      // fast cases\n      case 1:\n        handler.call(this);\n        break;\n      case 2:\n        handler.call(this, arguments[1]);\n        break;\n      case 3:\n        handler.call(this, arguments[1], arguments[2]);\n        break;\n      // slower\n      default:\n        len = arguments.length;\n        args = new Array(len - 1);\n        for (i = 1; i < len; i++)\n          args[i - 1] = arguments[i];\n        handler.apply(this, args);\n    }\n  } else if (isObject(handler)) {\n    len = arguments.length;\n    args = new Array(len - 1);\n    for (i = 1; i < len; i++)\n      args[i - 1] = arguments[i];\n\n    listeners = handler.slice();\n    len = listeners.length;\n    for (i = 0; i < len; i++)\n      listeners[i].apply(this, args);\n  }\n\n  return true;\n};\n\nEventEmitter.prototype.addListener = function(type, listener) {\n  var m;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events)\n    this._events = {};\n\n  // To avoid recursion in the case that type === \"newListener\"! Before\n  // adding it to the listeners, first emit \"newListener\".\n  if (this._events.newListener)\n    this.emit('newListener', type,\n              isFunction(listener.listener) ?\n              listener.listener : listener);\n\n  if (!this._events[type])\n    // Optimize the case of one listener. Don't need the extra array object.\n    this._events[type] = listener;\n  else if (isObject(this._events[type]))\n    // If we've already got an array, just append.\n    this._events[type].push(listener);\n  else\n    // Adding the second element, need to change to array.\n    this._events[type] = [this._events[type], listener];\n\n  // Check for listener leak\n  if (isObject(this._events[type]) && !this._events[type].warned) {\n    var m;\n    if (!isUndefined(this._maxListeners)) {\n      m = this._maxListeners;\n    } else {\n      m = EventEmitter.defaultMaxListeners;\n    }\n\n    if (m && m > 0 && this._events[type].length > m) {\n      this._events[type].warned = true;\n      console.error('(node) warning: possible EventEmitter memory ' +\n                    'leak detected. %d listeners added. ' +\n                    'Use emitter.setMaxListeners() to increase limit.',\n                    this._events[type].length);\n      if (typeof console.trace === 'function') {\n        // not supported in IE 10\n        console.trace();\n      }\n    }\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.once = function(type, listener) {\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  var fired = false;\n\n  function g() {\n    this.removeListener(type, g);\n\n    if (!fired) {\n      fired = true;\n      listener.apply(this, arguments);\n    }\n  }\n\n  g.listener = listener;\n  this.on(type, g);\n\n  return this;\n};\n\n// emits a 'removeListener' event iff the listener was removed\nEventEmitter.prototype.removeListener = function(type, listener) {\n  var list, position, length, i;\n\n  if (!isFunction(listener))\n    throw TypeError('listener must be a function');\n\n  if (!this._events || !this._events[type])\n    return this;\n\n  list = this._events[type];\n  length = list.length;\n  position = -1;\n\n  if (list === listener ||\n      (isFunction(list.listener) && list.listener === listener)) {\n    delete this._events[type];\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n\n  } else if (isObject(list)) {\n    for (i = length; i-- > 0;) {\n      if (list[i] === listener ||\n          (list[i].listener && list[i].listener === listener)) {\n        position = i;\n        break;\n      }\n    }\n\n    if (position < 0)\n      return this;\n\n    if (list.length === 1) {\n      list.length = 0;\n      delete this._events[type];\n    } else {\n      list.splice(position, 1);\n    }\n\n    if (this._events.removeListener)\n      this.emit('removeListener', type, listener);\n  }\n\n  return this;\n};\n\nEventEmitter.prototype.removeAllListeners = function(type) {\n  var key, listeners;\n\n  if (!this._events)\n    return this;\n\n  // not listening for removeListener, no need to emit\n  if (!this._events.removeListener) {\n    if (arguments.length === 0)\n      this._events = {};\n    else if (this._events[type])\n      delete this._events[type];\n    return this;\n  }\n\n  // emit removeListener for all listeners on all events\n  if (arguments.length === 0) {\n    for (key in this._events) {\n      if (key === 'removeListener') continue;\n      this.removeAllListeners(key);\n    }\n    this.removeAllListeners('removeListener');\n    this._events = {};\n    return this;\n  }\n\n  listeners = this._events[type];\n\n  if (isFunction(listeners)) {\n    this.removeListener(type, listeners);\n  } else {\n    // LIFO order\n    while (listeners.length)\n      this.removeListener(type, listeners[listeners.length - 1]);\n  }\n  delete this._events[type];\n\n  return this;\n};\n\nEventEmitter.prototype.listeners = function(type) {\n  var ret;\n  if (!this._events || !this._events[type])\n    ret = [];\n  else if (isFunction(this._events[type]))\n    ret = [this._events[type]];\n  else\n    ret = this._events[type].slice();\n  return ret;\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  var ret;\n  if (!emitter._events || !emitter._events[type])\n    ret = 0;\n  else if (isFunction(emitter._events[type]))\n    ret = 1;\n  else\n    ret = emitter._events[type].length;\n  return ret;\n};\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\n\n},{}],15:[function(require,module,exports){\nif (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n\n},{}],16:[function(require,module,exports){\n// shim for using process in browser\n\nvar process = module.exports = {};\n\nprocess.nextTick = (function () {\n    var canSetImmediate = typeof window !== 'undefined'\n    && window.setImmediate;\n    var canPost = typeof window !== 'undefined'\n    && window.postMessage && window.addEventListener\n    ;\n\n    if (canSetImmediate) {\n        return function (f) { return window.setImmediate(f) };\n    }\n\n    if (canPost) {\n        var queue = [];\n        window.addEventListener('message', function (ev) {\n            var source = ev.source;\n            if ((source === window || source === null) && ev.data === 'process-tick') {\n                ev.stopPropagation();\n                if (queue.length > 0) {\n                    var fn = queue.shift();\n                    fn();\n                }\n            }\n        }, true);\n\n        return function nextTick(fn) {\n            queue.push(fn);\n            window.postMessage('process-tick', '*');\n        };\n    }\n\n    return function nextTick(fn) {\n        setTimeout(fn, 0);\n    };\n})();\n\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n}\n\n// TODO(shtylman)\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\n\n},{}],17:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Stream;\n\nvar EE = require('events').EventEmitter;\nvar inherits = require('inherits');\n\ninherits(Stream, EE);\nStream.Readable = require('readable-stream/readable.js');\nStream.Writable = require('readable-stream/writable.js');\nStream.Duplex = require('readable-stream/duplex.js');\nStream.Transform = require('readable-stream/transform.js');\nStream.PassThrough = require('readable-stream/passthrough.js');\n\n// Backwards-compat with node 0.4.x\nStream.Stream = Stream;\n\n\n\n// old-style streams.  Note that the pipe method (the only relevant\n// part of this class) is overridden in the Readable class.\n\nfunction Stream() {\n  EE.call(this);\n}\n\nStream.prototype.pipe = function(dest, options) {\n  var source = this;\n\n  function ondata(chunk) {\n    if (dest.writable) {\n      if (false === dest.write(chunk) && source.pause) {\n        source.pause();\n      }\n    }\n  }\n\n  source.on('data', ondata);\n\n  function ondrain() {\n    if (source.readable && source.resume) {\n      source.resume();\n    }\n  }\n\n  dest.on('drain', ondrain);\n\n  // If the 'end' option is not supplied, dest.end() will be called when\n  // source gets the 'end' or 'close' events.  Only dest.end() once.\n  if (!dest._isStdio && (!options || options.end !== false)) {\n    source.on('end', onend);\n    source.on('close', onclose);\n  }\n\n  var didOnEnd = false;\n  function onend() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    dest.end();\n  }\n\n\n  function onclose() {\n    if (didOnEnd) return;\n    didOnEnd = true;\n\n    if (typeof dest.destroy === 'function') dest.destroy();\n  }\n\n  // don't leave dangling pipes when there are errors.\n  function onerror(er) {\n    cleanup();\n    if (EE.listenerCount(this, 'error') === 0) {\n      throw er; // Unhandled stream error in pipe.\n    }\n  }\n\n  source.on('error', onerror);\n  dest.on('error', onerror);\n\n  // remove all the event listeners that were added.\n  function cleanup() {\n    source.removeListener('data', ondata);\n    dest.removeListener('drain', ondrain);\n\n    source.removeListener('end', onend);\n    source.removeListener('close', onclose);\n\n    source.removeListener('error', onerror);\n    dest.removeListener('error', onerror);\n\n    source.removeListener('end', cleanup);\n    source.removeListener('close', cleanup);\n\n    dest.removeListener('close', cleanup);\n  }\n\n  source.on('end', cleanup);\n  source.on('close', cleanup);\n\n  dest.on('close', cleanup);\n\n  dest.emit('pipe', source);\n\n  // Allow for unix-like usage: A.pipe(B).pipe(C)\n  return dest;\n};\n\n},{\"events\":14,\"inherits\":15,\"readable-stream/duplex.js\":20,\"readable-stream/passthrough.js\":30,\"readable-stream/readable.js\":31,\"readable-stream/transform.js\":32,\"readable-stream/writable.js\":33}],18:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nfunction assertEncoding(encoding) {\n  if (encoding && !Buffer.isEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  this.charBuffer = new Buffer(6);\n  this.charReceived = 0;\n  this.charLength = 0;\n};\n\n\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  var offset = 0;\n\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var i = (buffer.length >= this.charLength - this.charReceived) ?\n                this.charLength - this.charReceived :\n                buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, offset, i);\n    this.charReceived += (i - offset);\n    offset = i;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (i == buffer.length) return charStr;\n\n    // otherwise cut off the characters end from the beginning of this buffer\n    buffer = buffer.slice(i, buffer.length);\n    break;\n  }\n\n  var lenIncomplete = this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - lenIncomplete, end);\n    this.charReceived = lenIncomplete;\n    end -= lenIncomplete;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    this.charBuffer.write(charStr.charAt(charStr.length - 1), this.encoding);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n\n  return i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  var incomplete = this.charReceived = buffer.length % 2;\n  this.charLength = incomplete ? 2 : 0;\n  return incomplete;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  var incomplete = this.charReceived = buffer.length % 3;\n  this.charLength = incomplete ? 3 : 0;\n  return incomplete;\n}\n\n},{\"buffer\":10}],19:[function(require,module,exports){\n(function (process){\n// vim:ts=4:sts=4:sw=4:\n/*!\n *\n * Copyright 2009-2012 Kris Kowal under the terms of the MIT\n * license found at http://github.com/kriskowal/q/raw/master/LICENSE\n *\n * With parts by Tyler Close\n * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found\n * at http://www.opensource.org/licenses/mit-license.html\n * Forked at ref_send.js version: 2009-05-11\n *\n * With parts by Mark Miller\n * Copyright (C) 2011 Google Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n */\n\n(function (definition) {\n    // Turn off strict mode for this function so we can assign to global.Q\n    /* jshint strict: false */\n\n    // This file will function properly as a <script> tag, or a module\n    // using CommonJS and NodeJS or RequireJS module formats.  In\n    // Common/Node/RequireJS, the module exports the Q API and when\n    // executed as a simple <script>, it creates a Q global instead.\n\n    // Montage Require\n    if (typeof bootstrap === \"function\") {\n        bootstrap(\"promise\", definition);\n\n    // CommonJS\n    } else if (typeof exports === \"object\") {\n        module.exports = definition();\n\n    // RequireJS\n    } else if (typeof define === \"function\" && define.amd) {\n        define(definition);\n\n    // SES (Secure EcmaScript)\n    } else if (typeof ses !== \"undefined\") {\n        if (!ses.ok()) {\n            return;\n        } else {\n            ses.makeQ = definition;\n        }\n\n    // <script>\n    } else {\n        Q = definition();\n    }\n\n})(function () {\n\"use strict\";\n\nvar hasStacks = false;\ntry {\n    throw new Error();\n} catch (e) {\n    hasStacks = !!e.stack;\n}\n\n// All code after this point will be filtered from stack traces reported\n// by Q.\nvar qStartingLine = captureLine();\nvar qFileName;\n\n// shims\n\n// used for fallback in \"allResolved\"\nvar noop = function () {};\n\n// Use the fastest possible means to execute a task in a future turn\n// of the event loop.\nvar nextTick =(function () {\n    // linked list of tasks (single, with head node)\n    var head = {task: void 0, next: null};\n    var tail = head;\n    var flushing = false;\n    var requestTick = void 0;\n    var isNodeJS = false;\n\n    function flush() {\n        /* jshint loopfunc: true */\n\n        while (head.next) {\n            head = head.next;\n            var task = head.task;\n            head.task = void 0;\n            var domain = head.domain;\n\n            if (domain) {\n                head.domain = void 0;\n                domain.enter();\n            }\n\n            try {\n                task();\n\n            } catch (e) {\n                if (isNodeJS) {\n                    // In node, uncaught exceptions are considered fatal errors.\n                    // Re-throw them synchronously to interrupt flushing!\n\n                    // Ensure continuation if the uncaught exception is suppressed\n                    // listening \"uncaughtException\" events (as domains does).\n                    // Continue in next event to avoid tick recursion.\n                    if (domain) {\n                        domain.exit();\n                    }\n                    setTimeout(flush, 0);\n                    if (domain) {\n                        domain.enter();\n                    }\n\n                    throw e;\n\n                } else {\n                    // In browsers, uncaught exceptions are not fatal.\n                    // Re-throw them asynchronously to avoid slow-downs.\n                    setTimeout(function() {\n                       throw e;\n                    }, 0);\n                }\n            }\n\n            if (domain) {\n                domain.exit();\n            }\n        }\n\n        flushing = false;\n    }\n\n    nextTick = function (task) {\n        tail = tail.next = {\n            task: task,\n            domain: isNodeJS && process.domain,\n            next: null\n        };\n\n        if (!flushing) {\n            flushing = true;\n            requestTick();\n        }\n    };\n\n    if (typeof process !== \"undefined\" && process.nextTick) {\n        // Node.js before 0.9. Note that some fake-Node environments, like the\n        // Mocha test runner, introduce a `process` global without a `nextTick`.\n        isNodeJS = true;\n\n        requestTick = function () {\n            process.nextTick(flush);\n        };\n\n    } else if (typeof setImmediate === \"function\") {\n        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate\n        if (typeof window !== \"undefined\") {\n            requestTick = setImmediate.bind(window, flush);\n        } else {\n            requestTick = function () {\n                setImmediate(flush);\n            };\n        }\n\n    } else if (typeof MessageChannel !== \"undefined\") {\n        // modern browsers\n        // http://www.nonblocking.io/2011/06/windownexttick.html\n        var channel = new MessageChannel();\n        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create\n        // working message ports the first time a page loads.\n        channel.port1.onmessage = function () {\n            requestTick = requestPortTick;\n            channel.port1.onmessage = flush;\n            flush();\n        };\n        var requestPortTick = function () {\n            // Opera requires us to provide a message payload, regardless of\n            // whether we use it.\n            channel.port2.postMessage(0);\n        };\n        requestTick = function () {\n            setTimeout(flush, 0);\n            requestPortTick();\n        };\n\n    } else {\n        // old browsers\n        requestTick = function () {\n            setTimeout(flush, 0);\n        };\n    }\n\n    return nextTick;\n})();\n\n// Attempt to make generics safe in the face of downstream\n// modifications.\n// There is no situation where this is necessary.\n// If you need a security guarantee, these primordials need to be\n// deeply frozen anyway, and if you dont need a security guarantee,\n// this is just plain paranoid.\n// However, this does have the nice side-effect of reducing the size\n// of the code by reducing x.call() to merely x(), eliminating many\n// hard-to-minify characters.\n// See Mark Millers explanation of what this does.\n// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming\nvar call = Function.call;\nfunction uncurryThis(f) {\n    return function () {\n        return call.apply(f, arguments);\n    };\n}\n// This is equivalent, but slower:\n// uncurryThis = Function_bind.bind(Function_bind.call);\n// http://jsperf.com/uncurrythis\n\nvar array_slice = uncurryThis(Array.prototype.slice);\n\nvar array_reduce = uncurryThis(\n    Array.prototype.reduce || function (callback, basis) {\n        var index = 0,\n            length = this.length;\n        // concerning the initial value, if one is not provided\n        if (arguments.length === 1) {\n            // seek to the first value in the array, accounting\n            // for the possibility that is is a sparse array\n            do {\n                if (index in this) {\n                    basis = this[index++];\n                    break;\n                }\n                if (++index >= length) {\n                    throw new TypeError();\n                }\n            } while (1);\n        }\n        // reduce\n        for (; index < length; index++) {\n            // account for the possibility that the array is sparse\n            if (index in this) {\n                basis = callback(basis, this[index], index);\n            }\n        }\n        return basis;\n    }\n);\n\nvar array_indexOf = uncurryThis(\n    Array.prototype.indexOf || function (value) {\n        // not a very good shim, but good enough for our one use of it\n        for (var i = 0; i < this.length; i++) {\n            if (this[i] === value) {\n                return i;\n            }\n        }\n        return -1;\n    }\n);\n\nvar array_map = uncurryThis(\n    Array.prototype.map || function (callback, thisp) {\n        var self = this;\n        var collect = [];\n        array_reduce(self, function (undefined, value, index) {\n            collect.push(callback.call(thisp, value, index, self));\n        }, void 0);\n        return collect;\n    }\n);\n\nvar object_create = Object.create || function (prototype) {\n    function Type() { }\n    Type.prototype = prototype;\n    return new Type();\n};\n\nvar object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);\n\nvar object_keys = Object.keys || function (object) {\n    var keys = [];\n    for (var key in object) {\n        if (object_hasOwnProperty(object, key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n};\n\nvar object_toString = uncurryThis(Object.prototype.toString);\n\nfunction isObject(value) {\n    return value === Object(value);\n}\n\n// generator related shims\n\n// FIXME: Remove this function once ES6 generators are in SpiderMonkey.\nfunction isStopIteration(exception) {\n    return (\n        object_toString(exception) === \"[object StopIteration]\" ||\n        exception instanceof QReturnValue\n    );\n}\n\n// FIXME: Remove this helper and Q.return once ES6 generators are in\n// SpiderMonkey.\nvar QReturnValue;\nif (typeof ReturnValue !== \"undefined\") {\n    QReturnValue = ReturnValue;\n} else {\n    QReturnValue = function (value) {\n        this.value = value;\n    };\n}\n\n// Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only\n// engine that has a deployed base of browsers that support generators.\n// However, SM's generators use the Python-inspired semantics of\n// outdated ES6 drafts.  We would like to support ES6, but we'd also\n// like to make it possible to use generators in deployed browsers, so\n// we also support Python-style generators.  At some point we can remove\n// this block.\nvar hasES6Generators;\ntry {\n    /* jshint evil: true, nonew: false */\n    new Function(\"(function* (){ yield 1; })\");\n    hasES6Generators = true;\n} catch (e) {\n    hasES6Generators = false;\n}\n\n// long stack traces\n\nvar STACK_JUMP_SEPARATOR = \"From previous event:\";\n\nfunction makeStackTraceLong(error, promise) {\n    // If possible, transform the error stack trace by removing Node and Q\n    // cruft, then concatenating with the stack trace of `promise`. See #57.\n    if (hasStacks &&\n        promise.stack &&\n        typeof error === \"object\" &&\n        error !== null &&\n        error.stack &&\n        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1\n    ) {\n        var stacks = [];\n        for (var p = promise; !!p; p = p.source) {\n            if (p.stack) {\n                stacks.unshift(p.stack);\n            }\n        }\n        stacks.unshift(error.stack);\n\n        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");\n        error.stack = filterStackString(concatedStacks);\n    }\n}\n\nfunction filterStackString(stackString) {\n    var lines = stackString.split(\"\\n\");\n    var desiredLines = [];\n    for (var i = 0; i < lines.length; ++i) {\n        var line = lines[i];\n\n        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {\n            desiredLines.push(line);\n        }\n    }\n    return desiredLines.join(\"\\n\");\n}\n\nfunction isNodeFrame(stackLine) {\n    return stackLine.indexOf(\"(module.js:\") !== -1 ||\n           stackLine.indexOf(\"(node.js:\") !== -1;\n}\n\nfunction getFileNameAndLineNumber(stackLine) {\n    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"\n    // In IE10 function name can have spaces (\"Anonymous function\") O_o\n    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);\n    if (attempt1) {\n        return [attempt1[1], Number(attempt1[2])];\n    }\n\n    // Anonymous functions: \"at filename:lineNumber:columnNumber\"\n    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);\n    if (attempt2) {\n        return [attempt2[1], Number(attempt2[2])];\n    }\n\n    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"\n    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);\n    if (attempt3) {\n        return [attempt3[1], Number(attempt3[2])];\n    }\n}\n\nfunction isInternalFrame(stackLine) {\n    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);\n\n    if (!fileNameAndLineNumber) {\n        return false;\n    }\n\n    var fileName = fileNameAndLineNumber[0];\n    var lineNumber = fileNameAndLineNumber[1];\n\n    return fileName === qFileName &&\n        lineNumber >= qStartingLine &&\n        lineNumber <= qEndingLine;\n}\n\n// discover own file name and line number range for filtering stack\n// traces\nfunction captureLine() {\n    if (!hasStacks) {\n        return;\n    }\n\n    try {\n        throw new Error();\n    } catch (e) {\n        var lines = e.stack.split(\"\\n\");\n        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];\n        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);\n        if (!fileNameAndLineNumber) {\n            return;\n        }\n\n        qFileName = fileNameAndLineNumber[0];\n        return fileNameAndLineNumber[1];\n    }\n}\n\nfunction deprecate(callback, name, alternative) {\n    return function () {\n        if (typeof console !== \"undefined\" &&\n            typeof console.warn === \"function\") {\n            console.warn(name + \" is deprecated, use \" + alternative +\n                         \" instead.\", new Error(\"\").stack);\n        }\n        return callback.apply(callback, arguments);\n    };\n}\n\n// end of shims\n// beginning of real work\n\n/**\n * Constructs a promise for an immediate reference, passes promises through, or\n * coerces promises from different systems.\n * @param value immediate reference or promise\n */\nfunction Q(value) {\n    // If the object is already a Promise, return it directly.  This enables\n    // the resolve function to both be used to created references from objects,\n    // but to tolerably coerce non-promises to promises.\n    if (isPromise(value)) {\n        return value;\n    }\n\n    // assimilate thenables\n    if (isPromiseAlike(value)) {\n        return coerce(value);\n    } else {\n        return fulfill(value);\n    }\n}\nQ.resolve = Q;\n\n/**\n * Performs a task in a future turn of the event loop.\n * @param {Function} task\n */\nQ.nextTick = nextTick;\n\n/**\n * Controls whether or not long stack traces will be on\n */\nQ.longStackSupport = false;\n\n/**\n * Constructs a {promise, resolve, reject} object.\n *\n * `resolve` is a callback to invoke with a more resolved value for the\n * promise. To fulfill the promise, invoke `resolve` with any value that is\n * not a thenable. To reject the promise, invoke `resolve` with a rejected\n * thenable, or invoke `reject` with the reason directly. To resolve the\n * promise to another thenable, thus putting it in the same state, invoke\n * `resolve` with that other thenable.\n */\nQ.defer = defer;\nfunction defer() {\n    // if \"messages\" is an \"Array\", that indicates that the promise has not yet\n    // been resolved.  If it is \"undefined\", it has been resolved.  Each\n    // element of the messages array is itself an array of complete arguments to\n    // forward to the resolved promise.  We coerce the resolution value to a\n    // promise using the `resolve` function because it handles both fully\n    // non-thenable values and other thenables gracefully.\n    var messages = [], progressListeners = [], resolvedPromise;\n\n    var deferred = object_create(defer.prototype);\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, operands) {\n        var args = array_slice(arguments);\n        if (messages) {\n            messages.push(args);\n            if (op === \"when\" && operands[1]) { // progress operand\n                progressListeners.push(operands[1]);\n            }\n        } else {\n            nextTick(function () {\n                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);\n            });\n        }\n    };\n\n    // XXX deprecated\n    promise.valueOf = deprecate(function () {\n        if (messages) {\n            return promise;\n        }\n        var nearerValue = nearer(resolvedPromise);\n        if (isPromise(nearerValue)) {\n            resolvedPromise = nearerValue; // shorten chain\n        }\n        return nearerValue;\n    }, \"valueOf\", \"inspect\");\n\n    promise.inspect = function () {\n        if (!resolvedPromise) {\n            return { state: \"pending\" };\n        }\n        return resolvedPromise.inspect();\n    };\n\n    if (Q.longStackSupport && hasStacks) {\n        try {\n            throw new Error();\n        } catch (e) {\n            // NOTE: don't try to use `Error.captureStackTrace` or transfer the\n            // accessor around; that causes memory leaks as per GH-111. Just\n            // reify the stack trace as a string ASAP.\n            //\n            // At the same time, cut off the first line; it's always just\n            // \"[object Promise]\\n\", as per the `toString`.\n            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);\n        }\n    }\n\n    // NOTE: we do the checks for `resolvedPromise` in each method, instead of\n    // consolidating them into `become`, since otherwise we'd create new\n    // promises with the lines `become(whatever(value))`. See e.g. GH-252.\n\n    function become(newPromise) {\n        resolvedPromise = newPromise;\n        promise.source = newPromise;\n\n        array_reduce(messages, function (undefined, message) {\n            nextTick(function () {\n                newPromise.promiseDispatch.apply(newPromise, message);\n            });\n        }, void 0);\n\n        messages = void 0;\n        progressListeners = void 0;\n    }\n\n    deferred.promise = promise;\n    deferred.resolve = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(Q(value));\n    };\n\n    deferred.fulfill = function (value) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(fulfill(value));\n    };\n    deferred.reject = function (reason) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        become(reject(reason));\n    };\n    deferred.notify = function (progress) {\n        if (resolvedPromise) {\n            return;\n        }\n\n        array_reduce(progressListeners, function (undefined, progressListener) {\n            nextTick(function () {\n                progressListener(progress);\n            });\n        }, void 0);\n    };\n\n    return deferred;\n}\n\n/**\n * Creates a Node-style callback that will resolve or reject the deferred\n * promise.\n * @returns a nodeback\n */\ndefer.prototype.makeNodeResolver = function () {\n    var self = this;\n    return function (error, value) {\n        if (error) {\n            self.reject(error);\n        } else if (arguments.length > 2) {\n            self.resolve(array_slice(arguments, 1));\n        } else {\n            self.resolve(value);\n        }\n    };\n};\n\n/**\n * @param resolver {Function} a function that returns nothing and accepts\n * the resolve, reject, and notify functions for a deferred.\n * @returns a promise that may be resolved with the given resolve and reject\n * functions, or rejected by a thrown exception in resolver\n */\nQ.promise = promise;\nfunction promise(resolver) {\n    if (typeof resolver !== \"function\") {\n        throw new TypeError(\"resolver must be a function.\");\n    }\n    var deferred = defer();\n    try {\n        resolver(deferred.resolve, deferred.reject, deferred.notify);\n    } catch (reason) {\n        deferred.reject(reason);\n    }\n    return deferred.promise;\n}\n\n// XXX experimental.  This method is a way to denote that a local value is\n// serializable and should be immediately dispatched to a remote upon request,\n// instead of passing a reference.\nQ.passByCopy = function (object) {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return object;\n};\n\nPromise.prototype.passByCopy = function () {\n    //freeze(object);\n    //passByCopies.set(object, true);\n    return this;\n};\n\n/**\n * If two promises eventually fulfill to the same value, promises that value,\n * but otherwise rejects.\n * @param x {Any*}\n * @param y {Any*}\n * @returns {Any*} a promise for x and y if they are the same, but a rejection\n * otherwise.\n *\n */\nQ.join = function (x, y) {\n    return Q(x).join(y);\n};\n\nPromise.prototype.join = function (that) {\n    return Q([this, that]).spread(function (x, y) {\n        if (x === y) {\n            // TODO: \"===\" should be Object.is or equiv\n            return x;\n        } else {\n            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);\n        }\n    });\n};\n\n/**\n * Returns a promise for the first of an array of promises to become fulfilled.\n * @param answers {Array[Any*]} promises to race\n * @returns {Any*} the first promise to be fulfilled\n */\nQ.race = race;\nfunction race(answerPs) {\n    return promise(function(resolve, reject) {\n        // Switch to this once we can assume at least ES5\n        // answerPs.forEach(function(answerP) {\n        //     Q(answerP).then(resolve, reject);\n        // });\n        // Use this in the meantime\n        for (var i = 0, len = answerPs.length; i < len; i++) {\n            Q(answerPs[i]).then(resolve, reject);\n        }\n    });\n}\n\nPromise.prototype.race = function () {\n    return this.then(Q.race);\n};\n\n/**\n * Constructs a Promise with a promise descriptor object and optional fallback\n * function.  The descriptor contains methods like when(rejected), get(name),\n * set(name, value), post(name, args), and delete(name), which all\n * return either a value, a promise for a value, or a rejection.  The fallback\n * accepts the operation name, a resolver, and any further arguments that would\n * have been forwarded to the appropriate method above had a method been\n * provided with the proper name.  The API makes no guarantees about the nature\n * of the returned object, apart from that it is usable whereever promises are\n * bought and sold.\n */\nQ.makePromise = Promise;\nfunction Promise(descriptor, fallback, inspect) {\n    if (fallback === void 0) {\n        fallback = function (op) {\n            return reject(new Error(\n                \"Promise does not support operation: \" + op\n            ));\n        };\n    }\n    if (inspect === void 0) {\n        inspect = function () {\n            return {state: \"unknown\"};\n        };\n    }\n\n    var promise = object_create(Promise.prototype);\n\n    promise.promiseDispatch = function (resolve, op, args) {\n        var result;\n        try {\n            if (descriptor[op]) {\n                result = descriptor[op].apply(promise, args);\n            } else {\n                result = fallback.call(promise, op, args);\n            }\n        } catch (exception) {\n            result = reject(exception);\n        }\n        if (resolve) {\n            resolve(result);\n        }\n    };\n\n    promise.inspect = inspect;\n\n    // XXX deprecated `valueOf` and `exception` support\n    if (inspect) {\n        var inspected = inspect();\n        if (inspected.state === \"rejected\") {\n            promise.exception = inspected.reason;\n        }\n\n        promise.valueOf = deprecate(function () {\n            var inspected = inspect();\n            if (inspected.state === \"pending\" ||\n                inspected.state === \"rejected\") {\n                return promise;\n            }\n            return inspected.value;\n        });\n    }\n\n    return promise;\n}\n\nPromise.prototype.toString = function () {\n    return \"[object Promise]\";\n};\n\nPromise.prototype.then = function (fulfilled, rejected, progressed) {\n    var self = this;\n    var deferred = defer();\n    var done = false;   // ensure the untrusted promise makes at most a\n                        // single call to one of the callbacks\n\n    function _fulfilled(value) {\n        try {\n            return typeof fulfilled === \"function\" ? fulfilled(value) : value;\n        } catch (exception) {\n            return reject(exception);\n        }\n    }\n\n    function _rejected(exception) {\n        if (typeof rejected === \"function\") {\n            makeStackTraceLong(exception, self);\n            try {\n                return rejected(exception);\n            } catch (newException) {\n                return reject(newException);\n            }\n        }\n        return reject(exception);\n    }\n\n    function _progressed(value) {\n        return typeof progressed === \"function\" ? progressed(value) : value;\n    }\n\n    nextTick(function () {\n        self.promiseDispatch(function (value) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_fulfilled(value));\n        }, \"when\", [function (exception) {\n            if (done) {\n                return;\n            }\n            done = true;\n\n            deferred.resolve(_rejected(exception));\n        }]);\n    });\n\n    // Progress propagator need to be attached in the current tick.\n    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {\n        var newValue;\n        var threw = false;\n        try {\n            newValue = _progressed(value);\n        } catch (e) {\n            threw = true;\n            if (Q.onerror) {\n                Q.onerror(e);\n            } else {\n                throw e;\n            }\n        }\n\n        if (!threw) {\n            deferred.notify(newValue);\n        }\n    }]);\n\n    return deferred.promise;\n};\n\n/**\n * Registers an observer on a promise.\n *\n * Guarantees:\n *\n * 1. that fulfilled and rejected will be called only once.\n * 2. that either the fulfilled callback or the rejected callback will be\n *    called, but not both.\n * 3. that fulfilled and rejected will not be called in this turn.\n *\n * @param value      promise or immediate reference to observe\n * @param fulfilled  function to be called with the fulfilled value\n * @param rejected   function to be called with the rejection exception\n * @param progressed function to be called on any progress notifications\n * @return promise for the return value from the invoked callback\n */\nQ.when = when;\nfunction when(value, fulfilled, rejected, progressed) {\n    return Q(value).then(fulfilled, rejected, progressed);\n}\n\nPromise.prototype.thenResolve = function (value) {\n    return this.then(function () { return value; });\n};\n\nQ.thenResolve = function (promise, value) {\n    return Q(promise).thenResolve(value);\n};\n\nPromise.prototype.thenReject = function (reason) {\n    return this.then(function () { throw reason; });\n};\n\nQ.thenReject = function (promise, reason) {\n    return Q(promise).thenReject(reason);\n};\n\n/**\n * If an object is not a promise, it is as \"near\" as possible.\n * If a promise is rejected, it is as \"near\" as possible too.\n * If its a fulfilled promise, the fulfillment value is nearer.\n * If its a deferred promise and the deferred has been resolved, the\n * resolution is \"nearer\".\n * @param object\n * @returns most resolved (nearest) form of the object\n */\n\n// XXX should we re-do this?\nQ.nearer = nearer;\nfunction nearer(value) {\n    if (isPromise(value)) {\n        var inspected = value.inspect();\n        if (inspected.state === \"fulfilled\") {\n            return inspected.value;\n        }\n    }\n    return value;\n}\n\n/**\n * @returns whether the given object is a promise.\n * Otherwise it is a fulfilled value.\n */\nQ.isPromise = isPromise;\nfunction isPromise(object) {\n    return isObject(object) &&\n        typeof object.promiseDispatch === \"function\" &&\n        typeof object.inspect === \"function\";\n}\n\nQ.isPromiseAlike = isPromiseAlike;\nfunction isPromiseAlike(object) {\n    return isObject(object) && typeof object.then === \"function\";\n}\n\n/**\n * @returns whether the given object is a pending promise, meaning not\n * fulfilled or rejected.\n */\nQ.isPending = isPending;\nfunction isPending(object) {\n    return isPromise(object) && object.inspect().state === \"pending\";\n}\n\nPromise.prototype.isPending = function () {\n    return this.inspect().state === \"pending\";\n};\n\n/**\n * @returns whether the given object is a value or fulfilled\n * promise.\n */\nQ.isFulfilled = isFulfilled;\nfunction isFulfilled(object) {\n    return !isPromise(object) || object.inspect().state === \"fulfilled\";\n}\n\nPromise.prototype.isFulfilled = function () {\n    return this.inspect().state === \"fulfilled\";\n};\n\n/**\n * @returns whether the given object is a rejected promise.\n */\nQ.isRejected = isRejected;\nfunction isRejected(object) {\n    return isPromise(object) && object.inspect().state === \"rejected\";\n}\n\nPromise.prototype.isRejected = function () {\n    return this.inspect().state === \"rejected\";\n};\n\n//// BEGIN UNHANDLED REJECTION TRACKING\n\n// This promise library consumes exceptions thrown in handlers so they can be\n// handled by a subsequent promise.  The exceptions get added to this array when\n// they are created, and removed when they are handled.  Note that in ES6 or\n// shimmed environments, this would naturally be a `Set`.\nvar unhandledReasons = [];\nvar unhandledRejections = [];\nvar unhandledReasonsDisplayed = false;\nvar trackUnhandledRejections = true;\nfunction displayUnhandledReasons() {\n    if (\n        !unhandledReasonsDisplayed &&\n        typeof window !== \"undefined\" &&\n        !window.Touch &&\n        window.console\n    ) {\n        console.warn(\"[Q] Unhandled rejection reasons (should be empty):\",\n                     unhandledReasons);\n    }\n\n    unhandledReasonsDisplayed = true;\n}\n\nfunction logUnhandledReasons() {\n    for (var i = 0; i < unhandledReasons.length; i++) {\n        var reason = unhandledReasons[i];\n        console.warn(\"Unhandled rejection reason:\", reason);\n    }\n}\n\nfunction resetUnhandledRejections() {\n    unhandledReasons.length = 0;\n    unhandledRejections.length = 0;\n    unhandledReasonsDisplayed = false;\n\n    if (!trackUnhandledRejections) {\n        trackUnhandledRejections = true;\n\n        // Show unhandled rejection reasons if Node exits without handling an\n        // outstanding rejection.  (Note that Browserify presently produces a\n        // `process` global without the `EventEmitter` `on` method.)\n        if (typeof process !== \"undefined\" && process.on) {\n            process.on(\"exit\", logUnhandledReasons);\n        }\n    }\n}\n\nfunction trackRejection(promise, reason) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    unhandledRejections.push(promise);\n    if (reason && typeof reason.stack !== \"undefined\") {\n        unhandledReasons.push(reason.stack);\n    } else {\n        unhandledReasons.push(\"(no stack) \" + reason);\n    }\n    displayUnhandledReasons();\n}\n\nfunction untrackRejection(promise) {\n    if (!trackUnhandledRejections) {\n        return;\n    }\n\n    var at = array_indexOf(unhandledRejections, promise);\n    if (at !== -1) {\n        unhandledRejections.splice(at, 1);\n        unhandledReasons.splice(at, 1);\n    }\n}\n\nQ.resetUnhandledRejections = resetUnhandledRejections;\n\nQ.getUnhandledReasons = function () {\n    // Make a copy so that consumers can't interfere with our internal state.\n    return unhandledReasons.slice();\n};\n\nQ.stopUnhandledRejectionTracking = function () {\n    resetUnhandledRejections();\n    if (typeof process !== \"undefined\" && process.on) {\n        process.removeListener(\"exit\", logUnhandledReasons);\n    }\n    trackUnhandledRejections = false;\n};\n\nresetUnhandledRejections();\n\n//// END UNHANDLED REJECTION TRACKING\n\n/**\n * Constructs a rejected promise.\n * @param reason value describing the failure\n */\nQ.reject = reject;\nfunction reject(reason) {\n    var rejection = Promise({\n        \"when\": function (rejected) {\n            // note that the error has been handled\n            if (rejected) {\n                untrackRejection(this);\n            }\n            return rejected ? rejected(reason) : this;\n        }\n    }, function fallback() {\n        return this;\n    }, function inspect() {\n        return { state: \"rejected\", reason: reason };\n    });\n\n    // Note that the reason has not been handled.\n    trackRejection(rejection, reason);\n\n    return rejection;\n}\n\n/**\n * Constructs a fulfilled promise for an immediate reference.\n * @param value immediate reference\n */\nQ.fulfill = fulfill;\nfunction fulfill(value) {\n    return Promise({\n        \"when\": function () {\n            return value;\n        },\n        \"get\": function (name) {\n            return value[name];\n        },\n        \"set\": function (name, rhs) {\n            value[name] = rhs;\n        },\n        \"delete\": function (name) {\n            delete value[name];\n        },\n        \"post\": function (name, args) {\n            // Mark Miller proposes that post with no name should apply a\n            // promised function.\n            if (name === null || name === void 0) {\n                return value.apply(void 0, args);\n            } else {\n                return value[name].apply(value, args);\n            }\n        },\n        \"apply\": function (thisp, args) {\n            return value.apply(thisp, args);\n        },\n        \"keys\": function () {\n            return object_keys(value);\n        }\n    }, void 0, function inspect() {\n        return { state: \"fulfilled\", value: value };\n    });\n}\n\n/**\n * Converts thenables to Q promises.\n * @param promise thenable promise\n * @returns a Q promise\n */\nfunction coerce(promise) {\n    var deferred = defer();\n    nextTick(function () {\n        try {\n            promise.then(deferred.resolve, deferred.reject, deferred.notify);\n        } catch (exception) {\n            deferred.reject(exception);\n        }\n    });\n    return deferred.promise;\n}\n\n/**\n * Annotates an object such that it will never be\n * transferred away from this process over any promise\n * communication channel.\n * @param object\n * @returns promise a wrapping of that object that\n * additionally responds to the \"isDef\" message\n * without a rejection.\n */\nQ.master = master;\nfunction master(object) {\n    return Promise({\n        \"isDef\": function () {}\n    }, function fallback(op, args) {\n        return dispatch(object, op, args);\n    }, function () {\n        return Q(object).inspect();\n    });\n}\n\n/**\n * Spreads the values of a promised array of arguments into the\n * fulfillment callback.\n * @param fulfilled callback that receives variadic arguments from the\n * promised array\n * @param rejected callback that receives the exception if the promise\n * is rejected.\n * @returns a promise for the return value or thrown exception of\n * either callback.\n */\nQ.spread = spread;\nfunction spread(value, fulfilled, rejected) {\n    return Q(value).spread(fulfilled, rejected);\n}\n\nPromise.prototype.spread = function (fulfilled, rejected) {\n    return this.all().then(function (array) {\n        return fulfilled.apply(void 0, array);\n    }, rejected);\n};\n\n/**\n * The async function is a decorator for generator functions, turning\n * them into asynchronous generators.  Although generators are only part\n * of the newest ECMAScript 6 drafts, this code does not cause syntax\n * errors in older engines.  This code should continue to work and will\n * in fact improve over time as the language improves.\n *\n * ES6 generators are currently part of V8 version 3.19 with the\n * --harmony-generators runtime flag enabled.  SpiderMonkey has had them\n * for longer, but under an older Python-inspired form.  This function\n * works on both kinds of generators.\n *\n * Decorates a generator function such that:\n *  - it may yield promises\n *  - execution will continue when that promise is fulfilled\n *  - the value of the yield expression will be the fulfilled value\n *  - it returns a promise for the return value (when the generator\n *    stops iterating)\n *  - the decorated function returns a promise for the return value\n *    of the generator or the first rejected promise among those\n *    yielded.\n *  - if an error is thrown in the generator, it propagates through\n *    every following yield until it is caught, or until it escapes\n *    the generator function altogether, and is translated into a\n *    rejection for the promise returned by the decorated generator.\n */\nQ.async = async;\nfunction async(makeGenerator) {\n    return function () {\n        // when verb is \"send\", arg is a value\n        // when verb is \"throw\", arg is an exception\n        function continuer(verb, arg) {\n            var result;\n            if (hasES6Generators) {\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    return reject(exception);\n                }\n                if (result.done) {\n                    return result.value;\n                } else {\n                    return when(result.value, callback, errback);\n                }\n            } else {\n                // FIXME: Remove this case when SM does ES6 generators.\n                try {\n                    result = generator[verb](arg);\n                } catch (exception) {\n                    if (isStopIteration(exception)) {\n                        return exception.value;\n                    } else {\n                        return reject(exception);\n                    }\n                }\n                return when(result, callback, errback);\n            }\n        }\n        var generator = makeGenerator.apply(this, arguments);\n        var callback = continuer.bind(continuer, \"next\");\n        var errback = continuer.bind(continuer, \"throw\");\n        return callback();\n    };\n}\n\n/**\n * The spawn function is a small wrapper around async that immediately\n * calls the generator and also ends the promise chain, so that any\n * unhandled errors are thrown instead of forwarded to the error\n * handler. This is useful because it's extremely common to run\n * generators at the top-level to work with libraries.\n */\nQ.spawn = spawn;\nfunction spawn(makeGenerator) {\n    Q.done(Q.async(makeGenerator)());\n}\n\n// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.\n/**\n * Throws a ReturnValue exception to stop an asynchronous generator.\n *\n * This interface is a stop-gap measure to support generator return\n * values in older Firefox/SpiderMonkey.  In browsers that support ES6\n * generators like Chromium 29, just use \"return\" in your generator\n * functions.\n *\n * @param value the return value for the surrounding generator\n * @throws ReturnValue exception with the value.\n * @example\n * // ES6 style\n * Q.async(function* () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      return foo + bar;\n * })\n * // Older SpiderMonkey style\n * Q.async(function () {\n *      var foo = yield getFooPromise();\n *      var bar = yield getBarPromise();\n *      Q.return(foo + bar);\n * })\n */\nQ[\"return\"] = _return;\nfunction _return(value) {\n    throw new QReturnValue(value);\n}\n\n/**\n * The promised function decorator ensures that any promise arguments\n * are settled and passed as values (`this` is also settled and passed\n * as a value).  It will also ensure that the result of a function is\n * always a promise.\n *\n * @example\n * var add = Q.promised(function (a, b) {\n *     return a + b;\n * });\n * add(Q(a), Q(B));\n *\n * @param {function} callback The function to decorate\n * @returns {function} a function that has been decorated.\n */\nQ.promised = promised;\nfunction promised(callback) {\n    return function () {\n        return spread([this, all(arguments)], function (self, args) {\n            return callback.apply(self, args);\n        });\n    };\n}\n\n/**\n * sends a message to a value in a future turn\n * @param object* the recipient\n * @param op the name of the message operation, e.g., \"when\",\n * @param args further arguments to be forwarded to the operation\n * @returns result {Promise} a promise for the result of the operation\n */\nQ.dispatch = dispatch;\nfunction dispatch(object, op, args) {\n    return Q(object).dispatch(op, args);\n}\n\nPromise.prototype.dispatch = function (op, args) {\n    var self = this;\n    var deferred = defer();\n    nextTick(function () {\n        self.promiseDispatch(deferred.resolve, op, args);\n    });\n    return deferred.promise;\n};\n\n/**\n * Gets the value of a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to get\n * @return promise for the property value\n */\nQ.get = function (object, key) {\n    return Q(object).dispatch(\"get\", [key]);\n};\n\nPromise.prototype.get = function (key) {\n    return this.dispatch(\"get\", [key]);\n};\n\n/**\n * Sets the value of a property in a future turn.\n * @param object    promise or immediate reference for object object\n * @param name      name of property to set\n * @param value     new value of property\n * @return promise for the return value\n */\nQ.set = function (object, key, value) {\n    return Q(object).dispatch(\"set\", [key, value]);\n};\n\nPromise.prototype.set = function (key, value) {\n    return this.dispatch(\"set\", [key, value]);\n};\n\n/**\n * Deletes a property in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of property to delete\n * @return promise for the return value\n */\nQ.del = // XXX legacy\nQ[\"delete\"] = function (object, key) {\n    return Q(object).dispatch(\"delete\", [key]);\n};\n\nPromise.prototype.del = // XXX legacy\nPromise.prototype[\"delete\"] = function (key) {\n    return this.dispatch(\"delete\", [key]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param value     a value to post, typically an array of\n *                  invocation arguments for promises that\n *                  are ultimately backed with `resolve` values,\n *                  as opposed to those backed with URLs\n *                  wherein the posted value can be any\n *                  JSON serializable object.\n * @return promise for the return value\n */\n// bound locally because it is used by other methods\nQ.mapply = // XXX As proposed by \"Redsandro\"\nQ.post = function (object, name, args) {\n    return Q(object).dispatch(\"post\", [name, args]);\n};\n\nPromise.prototype.mapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.post = function (name, args) {\n    return this.dispatch(\"post\", [name, args]);\n};\n\n/**\n * Invokes a method in a future turn.\n * @param object    promise or immediate reference for target object\n * @param name      name of method to invoke\n * @param ...args   array of invocation arguments\n * @return promise for the return value\n */\nQ.send = // XXX Mark Miller's proposed parlance\nQ.mcall = // XXX As proposed by \"Redsandro\"\nQ.invoke = function (object, name /*...args*/) {\n    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);\n};\n\nPromise.prototype.send = // XXX Mark Miller's proposed parlance\nPromise.prototype.mcall = // XXX As proposed by \"Redsandro\"\nPromise.prototype.invoke = function (name /*...args*/) {\n    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);\n};\n\n/**\n * Applies the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param args      array of application arguments\n */\nQ.fapply = function (object, args) {\n    return Q(object).dispatch(\"apply\", [void 0, args]);\n};\n\nPromise.prototype.fapply = function (args) {\n    return this.dispatch(\"apply\", [void 0, args]);\n};\n\n/**\n * Calls the promised function in a future turn.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ[\"try\"] =\nQ.fcall = function (object /* ...args*/) {\n    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);\n};\n\nPromise.prototype.fcall = function (/*...args*/) {\n    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);\n};\n\n/**\n * Binds the promised function, transforming return values into a fulfilled\n * promise and thrown errors into a rejected one.\n * @param object    promise or immediate reference for target function\n * @param ...args   array of application arguments\n */\nQ.fbind = function (object /*...args*/) {\n    var promise = Q(object);\n    var args = array_slice(arguments, 1);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\nPromise.prototype.fbind = function (/*...args*/) {\n    var promise = this;\n    var args = array_slice(arguments);\n    return function fbound() {\n        return promise.dispatch(\"apply\", [\n            this,\n            args.concat(array_slice(arguments))\n        ]);\n    };\n};\n\n/**\n * Requests the names of the owned properties of a promised\n * object in a future turn.\n * @param object    promise or immediate reference for target object\n * @return promise for the keys of the eventually settled object\n */\nQ.keys = function (object) {\n    return Q(object).dispatch(\"keys\", []);\n};\n\nPromise.prototype.keys = function () {\n    return this.dispatch(\"keys\", []);\n};\n\n/**\n * Turns an array of promises into a promise for an array.  If any of\n * the promises gets rejected, the whole array is rejected immediately.\n * @param {Array*} an array (or promise for an array) of values (or\n * promises for values)\n * @returns a promise for an array of the corresponding values\n */\n// By Mark Miller\n// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled\nQ.all = all;\nfunction all(promises) {\n    return when(promises, function (promises) {\n        var countDown = 0;\n        var deferred = defer();\n        array_reduce(promises, function (undefined, promise, index) {\n            var snapshot;\n            if (\n                isPromise(promise) &&\n                (snapshot = promise.inspect()).state === \"fulfilled\"\n            ) {\n                promises[index] = snapshot.value;\n            } else {\n                ++countDown;\n                when(\n                    promise,\n                    function (value) {\n                        promises[index] = value;\n                        if (--countDown === 0) {\n                            deferred.resolve(promises);\n                        }\n                    },\n                    deferred.reject,\n                    function (progress) {\n                        deferred.notify({ index: index, value: progress });\n                    }\n                );\n            }\n        }, void 0);\n        if (countDown === 0) {\n            deferred.resolve(promises);\n        }\n        return deferred.promise;\n    });\n}\n\nPromise.prototype.all = function () {\n    return all(this);\n};\n\n/**\n * Waits for all promises to be settled, either fulfilled or\n * rejected.  This is distinct from `all` since that would stop\n * waiting at the first rejection.  The promise returned by\n * `allResolved` will never be rejected.\n * @param promises a promise for an array (or an array) of promises\n * (or values)\n * @return a promise for an array of promises\n */\nQ.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");\nfunction allResolved(promises) {\n    return when(promises, function (promises) {\n        promises = array_map(promises, Q);\n        return when(all(array_map(promises, function (promise) {\n            return when(promise, noop, noop);\n        })), function () {\n            return promises;\n        });\n    });\n}\n\nPromise.prototype.allResolved = function () {\n    return allResolved(this);\n};\n\n/**\n * @see Promise#allSettled\n */\nQ.allSettled = allSettled;\nfunction allSettled(promises) {\n    return Q(promises).allSettled();\n}\n\n/**\n * Turns an array of promises into a promise for an array of their states (as\n * returned by `inspect`) when they have all settled.\n * @param {Array[Any*]} values an array (or promise for an array) of values (or\n * promises for values)\n * @returns {Array[State]} an array of states for the respective values.\n */\nPromise.prototype.allSettled = function () {\n    return this.then(function (promises) {\n        return all(array_map(promises, function (promise) {\n            promise = Q(promise);\n            function regardless() {\n                return promise.inspect();\n            }\n            return promise.then(regardless, regardless);\n        }));\n    });\n};\n\n/**\n * Captures the failure of a promise, giving an oportunity to recover\n * with a callback.  If the given promise is fulfilled, the returned\n * promise is fulfilled.\n * @param {Any*} promise for something\n * @param {Function} callback to fulfill the returned promise if the\n * given promise is rejected\n * @returns a promise for the return value of the callback\n */\nQ.fail = // XXX legacy\nQ[\"catch\"] = function (object, rejected) {\n    return Q(object).then(void 0, rejected);\n};\n\nPromise.prototype.fail = // XXX legacy\nPromise.prototype[\"catch\"] = function (rejected) {\n    return this.then(void 0, rejected);\n};\n\n/**\n * Attaches a listener that can respond to progress notifications from a\n * promise's originating deferred. This listener receives the exact arguments\n * passed to ``deferred.notify``.\n * @param {Any*} promise for something\n * @param {Function} callback to receive any progress notifications\n * @returns the given promise, unchanged\n */\nQ.progress = progress;\nfunction progress(object, progressed) {\n    return Q(object).then(void 0, void 0, progressed);\n}\n\nPromise.prototype.progress = function (progressed) {\n    return this.then(void 0, void 0, progressed);\n};\n\n/**\n * Provides an opportunity to observe the settling of a promise,\n * regardless of whether the promise is fulfilled or rejected.  Forwards\n * the resolution to the returned promise when the callback is done.\n * The callback can return a promise to defer completion.\n * @param {Any*} promise\n * @param {Function} callback to observe the resolution of the given\n * promise, takes no arguments.\n * @returns a promise for the resolution of the given promise when\n * ``fin`` is done.\n */\nQ.fin = // XXX legacy\nQ[\"finally\"] = function (object, callback) {\n    return Q(object)[\"finally\"](callback);\n};\n\nPromise.prototype.fin = // XXX legacy\nPromise.prototype[\"finally\"] = function (callback) {\n    callback = Q(callback);\n    return this.then(function (value) {\n        return callback.fcall().then(function () {\n            return value;\n        });\n    }, function (reason) {\n        // TODO attempt to recycle the rejection with \"this\".\n        return callback.fcall().then(function () {\n            throw reason;\n        });\n    });\n};\n\n/**\n * Terminates a chain of promises, forcing rejections to be\n * thrown as exceptions.\n * @param {Any*} promise at the end of a chain of promises\n * @returns nothing\n */\nQ.done = function (object, fulfilled, rejected, progress) {\n    return Q(object).done(fulfilled, rejected, progress);\n};\n\nPromise.prototype.done = function (fulfilled, rejected, progress) {\n    var onUnhandledError = function (error) {\n        // forward to a future turn so that ``when``\n        // does not catch it and turn it into a rejection.\n        nextTick(function () {\n            makeStackTraceLong(error, promise);\n            if (Q.onerror) {\n                Q.onerror(error);\n            } else {\n                throw error;\n            }\n        });\n    };\n\n    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.\n    var promise = fulfilled || rejected || progress ?\n        this.then(fulfilled, rejected, progress) :\n        this;\n\n    if (typeof process === \"object\" && process && process.domain) {\n        onUnhandledError = process.domain.bind(onUnhandledError);\n    }\n\n    promise.then(void 0, onUnhandledError);\n};\n\n/**\n * Causes a promise to be rejected if it does not get fulfilled before\n * some milliseconds time out.\n * @param {Any*} promise\n * @param {Number} milliseconds timeout\n * @param {String} custom error message (optional)\n * @returns a promise for the resolution of the given promise if it is\n * fulfilled before the timeout, otherwise rejected.\n */\nQ.timeout = function (object, ms, message) {\n    return Q(object).timeout(ms, message);\n};\n\nPromise.prototype.timeout = function (ms, message) {\n    var deferred = defer();\n    var timeoutId = setTimeout(function () {\n        deferred.reject(new Error(message || \"Timed out after \" + ms + \" ms\"));\n    }, ms);\n\n    this.then(function (value) {\n        clearTimeout(timeoutId);\n        deferred.resolve(value);\n    }, function (exception) {\n        clearTimeout(timeoutId);\n        deferred.reject(exception);\n    }, deferred.notify);\n\n    return deferred.promise;\n};\n\n/**\n * Returns a promise for the given value (or promised value), some\n * milliseconds after it resolved. Passes rejections immediately.\n * @param {Any*} promise\n * @param {Number} milliseconds\n * @returns a promise for the resolution of the given promise after milliseconds\n * time has elapsed since the resolution of the given promise.\n * If the given promise rejects, that is passed immediately.\n */\nQ.delay = function (object, timeout) {\n    if (timeout === void 0) {\n        timeout = object;\n        object = void 0;\n    }\n    return Q(object).delay(timeout);\n};\n\nPromise.prototype.delay = function (timeout) {\n    return this.then(function (value) {\n        var deferred = defer();\n        setTimeout(function () {\n            deferred.resolve(value);\n        }, timeout);\n        return deferred.promise;\n    });\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided as an array, and returns a promise.\n *\n *      Q.nfapply(FS.readFile, [__filename])\n *      .then(function (content) {\n *      })\n *\n */\nQ.nfapply = function (callback, args) {\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfapply = function (args) {\n    var deferred = defer();\n    var nodeArgs = array_slice(args);\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Passes a continuation to a Node function, which is called with the given\n * arguments provided individually, and returns a promise.\n * @example\n * Q.nfcall(FS.readFile, __filename)\n * .then(function (content) {\n * })\n *\n */\nQ.nfcall = function (callback /*...args*/) {\n    var args = array_slice(arguments, 1);\n    return Q(callback).nfapply(args);\n};\n\nPromise.prototype.nfcall = function (/*...args*/) {\n    var nodeArgs = array_slice(arguments);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.fapply(nodeArgs).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Wraps a NodeJS continuation passing function and returns an equivalent\n * version that returns a promise.\n * @example\n * Q.nfbind(FS.readFile, __filename)(\"utf-8\")\n * .then(console.log)\n * .done()\n */\nQ.nfbind =\nQ.denodeify = function (callback /*...args*/) {\n    var baseArgs = array_slice(arguments, 1);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        Q(callback).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nfbind =\nPromise.prototype.denodeify = function (/*...args*/) {\n    var args = array_slice(arguments);\n    args.unshift(this);\n    return Q.denodeify.apply(void 0, args);\n};\n\nQ.nbind = function (callback, thisp /*...args*/) {\n    var baseArgs = array_slice(arguments, 2);\n    return function () {\n        var nodeArgs = baseArgs.concat(array_slice(arguments));\n        var deferred = defer();\n        nodeArgs.push(deferred.makeNodeResolver());\n        function bound() {\n            return callback.apply(thisp, arguments);\n        }\n        Q(bound).fapply(nodeArgs).fail(deferred.reject);\n        return deferred.promise;\n    };\n};\n\nPromise.prototype.nbind = function (/*thisp, ...args*/) {\n    var args = array_slice(arguments, 0);\n    args.unshift(this);\n    return Q.nbind.apply(void 0, args);\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback with a given array of arguments, plus a provided callback.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param {Array} args arguments to pass to the method; the callback\n * will be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nmapply = // XXX As proposed by \"Redsandro\"\nQ.npost = function (object, name, args) {\n    return Q(object).npost(name, args);\n};\n\nPromise.prototype.nmapply = // XXX As proposed by \"Redsandro\"\nPromise.prototype.npost = function (name, args) {\n    var nodeArgs = array_slice(args || []);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * Calls a method of a Node-style object that accepts a Node-style\n * callback, forwarding the given variadic arguments, plus a provided\n * callback argument.\n * @param object an object that has the named method\n * @param {String} name name of the method of object\n * @param ...args arguments to pass to the method; the callback will\n * be provided by Q and appended to these arguments.\n * @returns a promise for the value or error\n */\nQ.nsend = // XXX Based on Mark Miller's proposed \"send\"\nQ.nmcall = // XXX Based on \"Redsandro's\" proposal\nQ.ninvoke = function (object, name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 2);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\nPromise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"\nPromise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal\nPromise.prototype.ninvoke = function (name /*...args*/) {\n    var nodeArgs = array_slice(arguments, 1);\n    var deferred = defer();\n    nodeArgs.push(deferred.makeNodeResolver());\n    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);\n    return deferred.promise;\n};\n\n/**\n * If a function would like to support both Node continuation-passing-style and\n * promise-returning-style, it can end its internal promise chain with\n * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user\n * elects to use a nodeback, the result will be sent there.  If they do not\n * pass a nodeback, they will receive the result promise.\n * @param object a result (or a promise for a result)\n * @param {Function} nodeback a Node.js-style callback\n * @returns either the promise or nothing\n */\nQ.nodeify = nodeify;\nfunction nodeify(object, nodeback) {\n    return Q(object).nodeify(nodeback);\n}\n\nPromise.prototype.nodeify = function (nodeback) {\n    if (nodeback) {\n        this.then(function (value) {\n            nextTick(function () {\n                nodeback(null, value);\n            });\n        }, function (error) {\n            nextTick(function () {\n                nodeback(error);\n            });\n        });\n    } else {\n        return this;\n    }\n};\n\n// All code before this point will be filtered from stack traces.\nvar qEndingLine = captureLine();\n\nreturn Q;\n\n});\n\n}).call(this,require('_process'))\n},{\"_process\":16}],20:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_duplex.js\")\n\n},{\"./lib/_stream_duplex.js\":21}],21:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a duplex stream is just a stream that is both readable and writable.\n// Since JS doesn't have multiple prototypal inheritance, this class\n// prototypally inherits from Readable, and then parasitically from\n// Writable.\n\nmodule.exports = Duplex;\n\n/*<replacement>*/\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Readable = require('./_stream_readable');\nvar Writable = require('./_stream_writable');\n\nutil.inherits(Duplex, Readable);\n\nforEach(objectKeys(Writable.prototype), function(method) {\n  if (!Duplex.prototype[method])\n    Duplex.prototype[method] = Writable.prototype[method];\n});\n\nfunction Duplex(options) {\n  if (!(this instanceof Duplex))\n    return new Duplex(options);\n\n  Readable.call(this, options);\n  Writable.call(this, options);\n\n  if (options && options.readable === false)\n    this.readable = false;\n\n  if (options && options.writable === false)\n    this.writable = false;\n\n  this.allowHalfOpen = true;\n  if (options && options.allowHalfOpen === false)\n    this.allowHalfOpen = false;\n\n  this.once('end', onend);\n}\n\n// the no-half-open enforcer\nfunction onend() {\n  // if we allow half-open state, or if the writable side ended,\n  // then we're ok.\n  if (this.allowHalfOpen || this._writableState.ended)\n    return;\n\n  // no more data can be written.\n  // But allow more writes to happen in this tick.\n  process.nextTick(this.end.bind(this));\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_readable\":23,\"./_stream_writable\":25,\"_process\":16,\"core-util-is\":26,\"inherits\":27}],22:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// a passthrough stream.\n// basically just the most minimal sort of Transform stream.\n// Every written chunk gets output as-is.\n\nmodule.exports = PassThrough;\n\nvar Transform = require('./_stream_transform');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(PassThrough, Transform);\n\nfunction PassThrough(options) {\n  if (!(this instanceof PassThrough))\n    return new PassThrough(options);\n\n  Transform.call(this, options);\n}\n\nPassThrough.prototype._transform = function(chunk, encoding, cb) {\n  cb(null, chunk);\n};\n\n},{\"./_stream_transform\":24,\"core-util-is\":26,\"inherits\":27}],23:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = Readable;\n\n/*<replacement>*/\nvar isArray = require('isarray');\n/*</replacement>*/\n\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nReadable.ReadableState = ReadableState;\n\nvar EE = require('events').EventEmitter;\n\n/*<replacement>*/\nif (!EE.listenerCount) EE.listenerCount = function(emitter, type) {\n  return emitter.listeners(type).length;\n};\n/*</replacement>*/\n\nvar Stream = require('stream');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar StringDecoder;\n\n\n/*<replacement>*/\nvar debug = require('util');\nif (debug && debug.debuglog) {\n  debug = debug.debuglog('stream');\n} else {\n  debug = function () {};\n}\n/*</replacement>*/\n\n\nutil.inherits(Readable, Stream);\n\nfunction ReadableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which it stops calling _read() to fill the buffer\n  // Note: 0 is a valid value, means \"don't call _read preemptively ever\"\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.buffer = [];\n  this.length = 0;\n  this.pipes = null;\n  this.pipesCount = 0;\n  this.flowing = null;\n  this.ended = false;\n  this.endEmitted = false;\n  this.reading = false;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // whenever we return null, then we set a flag to say\n  // that we're awaiting a 'readable' event emission.\n  this.needReadable = false;\n  this.emittedReadable = false;\n  this.readableListening = false;\n\n\n  // object stream flag. Used to make read(n) ignore n and to\n  // make all the buffer merging and length checks go away\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.readableObjectMode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // when piping, we only care about 'readable' events that happen\n  // after read()ing all the bytes and not getting any pushback.\n  this.ranOut = false;\n\n  // the number of writers that are awaiting a drain event in .pipe()s\n  this.awaitDrain = 0;\n\n  // if true, a maybeReadMore has been scheduled\n  this.readingMore = false;\n\n  this.decoder = null;\n  this.encoding = null;\n  if (options.encoding) {\n    if (!StringDecoder)\n      StringDecoder = require('string_decoder/').StringDecoder;\n    this.decoder = new StringDecoder(options.encoding);\n    this.encoding = options.encoding;\n  }\n}\n\nfunction Readable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  if (!(this instanceof Readable))\n    return new Readable(options);\n\n  this._readableState = new ReadableState(options, this);\n\n  // legacy\n  this.readable = true;\n\n  Stream.call(this);\n}\n\n// Manually shove something into the read() buffer.\n// This returns true if the highWaterMark has not been hit yet,\n// similar to how Writable.write() returns true if you should\n// write() some more.\nReadable.prototype.push = function(chunk, encoding) {\n  var state = this._readableState;\n\n  if (util.isString(chunk) && !state.objectMode) {\n    encoding = encoding || state.defaultEncoding;\n    if (encoding !== state.encoding) {\n      chunk = new Buffer(chunk, encoding);\n      encoding = '';\n    }\n  }\n\n  return readableAddChunk(this, state, chunk, encoding, false);\n};\n\n// Unshift should *always* be something directly out of read()\nReadable.prototype.unshift = function(chunk) {\n  var state = this._readableState;\n  return readableAddChunk(this, state, chunk, '', true);\n};\n\nfunction readableAddChunk(stream, state, chunk, encoding, addToFront) {\n  var er = chunkInvalid(state, chunk);\n  if (er) {\n    stream.emit('error', er);\n  } else if (util.isNullOrUndefined(chunk)) {\n    state.reading = false;\n    if (!state.ended)\n      onEofChunk(stream, state);\n  } else if (state.objectMode || chunk && chunk.length > 0) {\n    if (state.ended && !addToFront) {\n      var e = new Error('stream.push() after EOF');\n      stream.emit('error', e);\n    } else if (state.endEmitted && addToFront) {\n      var e = new Error('stream.unshift() after end event');\n      stream.emit('error', e);\n    } else {\n      if (state.decoder && !addToFront && !encoding)\n        chunk = state.decoder.write(chunk);\n\n      if (!addToFront)\n        state.reading = false;\n\n      // if we want the data now, just emit it.\n      if (state.flowing && state.length === 0 && !state.sync) {\n        stream.emit('data', chunk);\n        stream.read(0);\n      } else {\n        // update the buffer info.\n        state.length += state.objectMode ? 1 : chunk.length;\n        if (addToFront)\n          state.buffer.unshift(chunk);\n        else\n          state.buffer.push(chunk);\n\n        if (state.needReadable)\n          emitReadable(stream);\n      }\n\n      maybeReadMore(stream, state);\n    }\n  } else if (!addToFront) {\n    state.reading = false;\n  }\n\n  return needMoreData(state);\n}\n\n\n\n// if it's past the high water mark, we can push in some more.\n// Also, if we have no data yet, we can stand some\n// more bytes.  This is to work around cases where hwm=0,\n// such as the repl.  Also, if the push() triggered a\n// readable event, and the user called read(largeNumber) such that\n// needReadable was set, then we ought to push more, so that another\n// 'readable' event will be triggered.\nfunction needMoreData(state) {\n  return !state.ended &&\n         (state.needReadable ||\n          state.length < state.highWaterMark ||\n          state.length === 0);\n}\n\n// backwards compatibility.\nReadable.prototype.setEncoding = function(enc) {\n  if (!StringDecoder)\n    StringDecoder = require('string_decoder/').StringDecoder;\n  this._readableState.decoder = new StringDecoder(enc);\n  this._readableState.encoding = enc;\n  return this;\n};\n\n// Don't raise the hwm > 128MB\nvar MAX_HWM = 0x800000;\nfunction roundUpToNextPowerOf2(n) {\n  if (n >= MAX_HWM) {\n    n = MAX_HWM;\n  } else {\n    // Get the next highest power of 2\n    n--;\n    for (var p = 1; p < 32; p <<= 1) n |= n >> p;\n    n++;\n  }\n  return n;\n}\n\nfunction howMuchToRead(n, state) {\n  if (state.length === 0 && state.ended)\n    return 0;\n\n  if (state.objectMode)\n    return n === 0 ? 0 : 1;\n\n  if (isNaN(n) || util.isNull(n)) {\n    // only flow one buffer at a time\n    if (state.flowing && state.buffer.length)\n      return state.buffer[0].length;\n    else\n      return state.length;\n  }\n\n  if (n <= 0)\n    return 0;\n\n  // If we're asking for more than the target buffer level,\n  // then raise the water mark.  Bump up to the next highest\n  // power of 2, to prevent increasing it excessively in tiny\n  // amounts.\n  if (n > state.highWaterMark)\n    state.highWaterMark = roundUpToNextPowerOf2(n);\n\n  // don't have that much.  return null, unless we've ended.\n  if (n > state.length) {\n    if (!state.ended) {\n      state.needReadable = true;\n      return 0;\n    } else\n      return state.length;\n  }\n\n  return n;\n}\n\n// you can override either this method, or the async _read(n) below.\nReadable.prototype.read = function(n) {\n  debug('read', n);\n  var state = this._readableState;\n  var nOrig = n;\n\n  if (!util.isNumber(n) || n > 0)\n    state.emittedReadable = false;\n\n  // if we're doing read(0) to trigger a readable event, but we\n  // already have a bunch of data in the buffer, then just trigger\n  // the 'readable' event and move on.\n  if (n === 0 &&\n      state.needReadable &&\n      (state.length >= state.highWaterMark || state.ended)) {\n    debug('read: emitReadable', state.length, state.ended);\n    if (state.length === 0 && state.ended)\n      endReadable(this);\n    else\n      emitReadable(this);\n    return null;\n  }\n\n  n = howMuchToRead(n, state);\n\n  // if we've ended, and we're now clear, then finish it up.\n  if (n === 0 && state.ended) {\n    if (state.length === 0)\n      endReadable(this);\n    return null;\n  }\n\n  // All the actual chunk generation logic needs to be\n  // *below* the call to _read.  The reason is that in certain\n  // synthetic stream cases, such as passthrough streams, _read\n  // may be a completely synchronous operation which may change\n  // the state of the read buffer, providing enough data when\n  // before there was *not* enough.\n  //\n  // So, the steps are:\n  // 1. Figure out what the state of things will be after we do\n  // a read from the buffer.\n  //\n  // 2. If that resulting state will trigger a _read, then call _read.\n  // Note that this may be asynchronous, or synchronous.  Yes, it is\n  // deeply ugly to write APIs this way, but that still doesn't mean\n  // that the Readable class should behave improperly, as streams are\n  // designed to be sync/async agnostic.\n  // Take note if the _read call is sync or async (ie, if the read call\n  // has returned yet), so that we know whether or not it's safe to emit\n  // 'readable' etc.\n  //\n  // 3. Actually pull the requested chunks out of the buffer and return.\n\n  // if we need a readable event, then we need to do some reading.\n  var doRead = state.needReadable;\n  debug('need readable', doRead);\n\n  // if we currently have less than the highWaterMark, then also read some\n  if (state.length === 0 || state.length - n < state.highWaterMark) {\n    doRead = true;\n    debug('length less than watermark', doRead);\n  }\n\n  // however, if we've ended, then there's no point, and if we're already\n  // reading, then it's unnecessary.\n  if (state.ended || state.reading) {\n    doRead = false;\n    debug('reading or ended', doRead);\n  }\n\n  if (doRead) {\n    debug('do read');\n    state.reading = true;\n    state.sync = true;\n    // if the length is currently zero, then we *need* a readable event.\n    if (state.length === 0)\n      state.needReadable = true;\n    // call internal read method\n    this._read(state.highWaterMark);\n    state.sync = false;\n  }\n\n  // If _read pushed data synchronously, then `reading` will be false,\n  // and we need to re-evaluate how much data we can return to the user.\n  if (doRead && !state.reading)\n    n = howMuchToRead(nOrig, state);\n\n  var ret;\n  if (n > 0)\n    ret = fromList(n, state);\n  else\n    ret = null;\n\n  if (util.isNull(ret)) {\n    state.needReadable = true;\n    n = 0;\n  }\n\n  state.length -= n;\n\n  // If we have nothing in the buffer, then we want to know\n  // as soon as we *do* get something into the buffer.\n  if (state.length === 0 && !state.ended)\n    state.needReadable = true;\n\n  // If we tried to read() past the EOF, then emit end on the next tick.\n  if (nOrig !== n && state.ended && state.length === 0)\n    endReadable(this);\n\n  if (!util.isNull(ret))\n    this.emit('data', ret);\n\n  return ret;\n};\n\nfunction chunkInvalid(state, chunk) {\n  var er = null;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    er = new TypeError('Invalid non-string/buffer chunk');\n  }\n  return er;\n}\n\n\nfunction onEofChunk(stream, state) {\n  if (state.decoder && !state.ended) {\n    var chunk = state.decoder.end();\n    if (chunk && chunk.length) {\n      state.buffer.push(chunk);\n      state.length += state.objectMode ? 1 : chunk.length;\n    }\n  }\n  state.ended = true;\n\n  // emit 'readable' now to make sure it gets picked up.\n  emitReadable(stream);\n}\n\n// Don't emit readable right away in sync mode, because this can trigger\n// another read() call => stack overflow.  This way, it might trigger\n// a nextTick recursion warning, but that's not so bad.\nfunction emitReadable(stream) {\n  var state = stream._readableState;\n  state.needReadable = false;\n  if (!state.emittedReadable) {\n    debug('emitReadable', state.flowing);\n    state.emittedReadable = true;\n    if (state.sync)\n      process.nextTick(function() {\n        emitReadable_(stream);\n      });\n    else\n      emitReadable_(stream);\n  }\n}\n\nfunction emitReadable_(stream) {\n  debug('emit readable');\n  stream.emit('readable');\n  flow(stream);\n}\n\n\n// at this point, the user has presumably seen the 'readable' event,\n// and called read() to consume some data.  that may have triggered\n// in turn another _read(n) call, in which case reading = true if\n// it's in progress.\n// However, if we're not ended, or reading, and the length < hwm,\n// then go ahead and try to read some more preemptively.\nfunction maybeReadMore(stream, state) {\n  if (!state.readingMore) {\n    state.readingMore = true;\n    process.nextTick(function() {\n      maybeReadMore_(stream, state);\n    });\n  }\n}\n\nfunction maybeReadMore_(stream, state) {\n  var len = state.length;\n  while (!state.reading && !state.flowing && !state.ended &&\n         state.length < state.highWaterMark) {\n    debug('maybeReadMore read 0');\n    stream.read(0);\n    if (len === state.length)\n      // didn't get any data, stop spinning.\n      break;\n    else\n      len = state.length;\n  }\n  state.readingMore = false;\n}\n\n// abstract method.  to be overridden in specific implementation classes.\n// call cb(er, data) where data is <= n in length.\n// for virtual (non-string, non-buffer) streams, \"length\" is somewhat\n// arbitrary, and perhaps not very meaningful.\nReadable.prototype._read = function(n) {\n  this.emit('error', new Error('not implemented'));\n};\n\nReadable.prototype.pipe = function(dest, pipeOpts) {\n  var src = this;\n  var state = this._readableState;\n\n  switch (state.pipesCount) {\n    case 0:\n      state.pipes = dest;\n      break;\n    case 1:\n      state.pipes = [state.pipes, dest];\n      break;\n    default:\n      state.pipes.push(dest);\n      break;\n  }\n  state.pipesCount += 1;\n  debug('pipe count=%d opts=%j', state.pipesCount, pipeOpts);\n\n  var doEnd = (!pipeOpts || pipeOpts.end !== false) &&\n              dest !== process.stdout &&\n              dest !== process.stderr;\n\n  var endFn = doEnd ? onend : cleanup;\n  if (state.endEmitted)\n    process.nextTick(endFn);\n  else\n    src.once('end', endFn);\n\n  dest.on('unpipe', onunpipe);\n  function onunpipe(readable) {\n    debug('onunpipe');\n    if (readable === src) {\n      cleanup();\n    }\n  }\n\n  function onend() {\n    debug('onend');\n    dest.end();\n  }\n\n  // when the dest drains, it reduces the awaitDrain counter\n  // on the source.  This would be more elegant with a .once()\n  // handler in flow(), but adding and removing repeatedly is\n  // too slow.\n  var ondrain = pipeOnDrain(src);\n  dest.on('drain', ondrain);\n\n  function cleanup() {\n    debug('cleanup');\n    // cleanup event handlers once the pipe is broken\n    dest.removeListener('close', onclose);\n    dest.removeListener('finish', onfinish);\n    dest.removeListener('drain', ondrain);\n    dest.removeListener('error', onerror);\n    dest.removeListener('unpipe', onunpipe);\n    src.removeListener('end', onend);\n    src.removeListener('end', cleanup);\n    src.removeListener('data', ondata);\n\n    // if the reader is waiting for a drain event from this\n    // specific writer, then it would cause it to never start\n    // flowing again.\n    // So, if this is awaiting a drain, then we just call it now.\n    // If we don't know, then assume that we are waiting for one.\n    if (state.awaitDrain &&\n        (!dest._writableState || dest._writableState.needDrain))\n      ondrain();\n  }\n\n  src.on('data', ondata);\n  function ondata(chunk) {\n    debug('ondata');\n    var ret = dest.write(chunk);\n    if (false === ret) {\n      debug('false write response, pause',\n            src._readableState.awaitDrain);\n      src._readableState.awaitDrain++;\n      src.pause();\n    }\n  }\n\n  // if the dest has an error, then stop piping into it.\n  // however, don't suppress the throwing behavior for this.\n  function onerror(er) {\n    debug('onerror', er);\n    unpipe();\n    dest.removeListener('error', onerror);\n    if (EE.listenerCount(dest, 'error') === 0)\n      dest.emit('error', er);\n  }\n  // This is a brutally ugly hack to make sure that our error handler\n  // is attached before any userland ones.  NEVER DO THIS.\n  if (!dest._events || !dest._events.error)\n    dest.on('error', onerror);\n  else if (isArray(dest._events.error))\n    dest._events.error.unshift(onerror);\n  else\n    dest._events.error = [onerror, dest._events.error];\n\n\n\n  // Both close and finish should trigger unpipe, but only once.\n  function onclose() {\n    dest.removeListener('finish', onfinish);\n    unpipe();\n  }\n  dest.once('close', onclose);\n  function onfinish() {\n    debug('onfinish');\n    dest.removeListener('close', onclose);\n    unpipe();\n  }\n  dest.once('finish', onfinish);\n\n  function unpipe() {\n    debug('unpipe');\n    src.unpipe(dest);\n  }\n\n  // tell the dest that it's being piped to\n  dest.emit('pipe', src);\n\n  // start the flow if it hasn't been started already.\n  if (!state.flowing) {\n    debug('pipe resume');\n    src.resume();\n  }\n\n  return dest;\n};\n\nfunction pipeOnDrain(src) {\n  return function() {\n    var state = src._readableState;\n    debug('pipeOnDrain', state.awaitDrain);\n    if (state.awaitDrain)\n      state.awaitDrain--;\n    if (state.awaitDrain === 0 && EE.listenerCount(src, 'data')) {\n      state.flowing = true;\n      flow(src);\n    }\n  };\n}\n\n\nReadable.prototype.unpipe = function(dest) {\n  var state = this._readableState;\n\n  // if we're not piping anywhere, then do nothing.\n  if (state.pipesCount === 0)\n    return this;\n\n  // just one destination.  most common case.\n  if (state.pipesCount === 1) {\n    // passed in one, but it's not the right one.\n    if (dest && dest !== state.pipes)\n      return this;\n\n    if (!dest)\n      dest = state.pipes;\n\n    // got a match.\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n    if (dest)\n      dest.emit('unpipe', this);\n    return this;\n  }\n\n  // slow case. multiple pipe destinations.\n\n  if (!dest) {\n    // remove all.\n    var dests = state.pipes;\n    var len = state.pipesCount;\n    state.pipes = null;\n    state.pipesCount = 0;\n    state.flowing = false;\n\n    for (var i = 0; i < len; i++)\n      dests[i].emit('unpipe', this);\n    return this;\n  }\n\n  // try to find the right one.\n  var i = indexOf(state.pipes, dest);\n  if (i === -1)\n    return this;\n\n  state.pipes.splice(i, 1);\n  state.pipesCount -= 1;\n  if (state.pipesCount === 1)\n    state.pipes = state.pipes[0];\n\n  dest.emit('unpipe', this);\n\n  return this;\n};\n\n// set up data events if they are asked for\n// Ensure readable listeners eventually get something\nReadable.prototype.on = function(ev, fn) {\n  var res = Stream.prototype.on.call(this, ev, fn);\n\n  // If listening to data, and it has not explicitly been paused,\n  // then call resume to start the flow of data on the next tick.\n  if (ev === 'data' && false !== this._readableState.flowing) {\n    this.resume();\n  }\n\n  if (ev === 'readable' && this.readable) {\n    var state = this._readableState;\n    if (!state.readableListening) {\n      state.readableListening = true;\n      state.emittedReadable = false;\n      state.needReadable = true;\n      if (!state.reading) {\n        var self = this;\n        process.nextTick(function() {\n          debug('readable nexttick read 0');\n          self.read(0);\n        });\n      } else if (state.length) {\n        emitReadable(this, state);\n      }\n    }\n  }\n\n  return res;\n};\nReadable.prototype.addListener = Readable.prototype.on;\n\n// pause() and resume() are remnants of the legacy readable stream API\n// If the user uses them, then switch into old mode.\nReadable.prototype.resume = function() {\n  var state = this._readableState;\n  if (!state.flowing) {\n    debug('resume');\n    state.flowing = true;\n    if (!state.reading) {\n      debug('resume read 0');\n      this.read(0);\n    }\n    resume(this, state);\n  }\n  return this;\n};\n\nfunction resume(stream, state) {\n  if (!state.resumeScheduled) {\n    state.resumeScheduled = true;\n    process.nextTick(function() {\n      resume_(stream, state);\n    });\n  }\n}\n\nfunction resume_(stream, state) {\n  state.resumeScheduled = false;\n  stream.emit('resume');\n  flow(stream);\n  if (state.flowing && !state.reading)\n    stream.read(0);\n}\n\nReadable.prototype.pause = function() {\n  debug('call pause flowing=%j', this._readableState.flowing);\n  if (false !== this._readableState.flowing) {\n    debug('pause');\n    this._readableState.flowing = false;\n    this.emit('pause');\n  }\n  return this;\n};\n\nfunction flow(stream) {\n  var state = stream._readableState;\n  debug('flow', state.flowing);\n  if (state.flowing) {\n    do {\n      var chunk = stream.read();\n    } while (null !== chunk && state.flowing);\n  }\n}\n\n// wrap an old-style stream as the async data source.\n// This is *not* part of the readable stream interface.\n// It is an ugly unfortunate mess of history.\nReadable.prototype.wrap = function(stream) {\n  var state = this._readableState;\n  var paused = false;\n\n  var self = this;\n  stream.on('end', function() {\n    debug('wrapped end');\n    if (state.decoder && !state.ended) {\n      var chunk = state.decoder.end();\n      if (chunk && chunk.length)\n        self.push(chunk);\n    }\n\n    self.push(null);\n  });\n\n  stream.on('data', function(chunk) {\n    debug('wrapped data');\n    if (state.decoder)\n      chunk = state.decoder.write(chunk);\n    if (!chunk || !state.objectMode && !chunk.length)\n      return;\n\n    var ret = self.push(chunk);\n    if (!ret) {\n      paused = true;\n      stream.pause();\n    }\n  });\n\n  // proxy all the other methods.\n  // important when wrapping filters and duplexes.\n  for (var i in stream) {\n    if (util.isFunction(stream[i]) && util.isUndefined(this[i])) {\n      this[i] = function(method) { return function() {\n        return stream[method].apply(stream, arguments);\n      }}(i);\n    }\n  }\n\n  // proxy certain important events.\n  var events = ['error', 'close', 'destroy', 'pause', 'resume'];\n  forEach(events, function(ev) {\n    stream.on(ev, self.emit.bind(self, ev));\n  });\n\n  // when we try to consume some more bytes, simply unpause the\n  // underlying stream.\n  self._read = function(n) {\n    debug('wrapped _read', n);\n    if (paused) {\n      paused = false;\n      stream.resume();\n    }\n  };\n\n  return self;\n};\n\n\n\n// exposed for testing purposes only.\nReadable._fromList = fromList;\n\n// Pluck off n bytes from an array of buffers.\n// Length is the combined lengths of all the buffers in the list.\nfunction fromList(n, state) {\n  var list = state.buffer;\n  var length = state.length;\n  var stringMode = !!state.decoder;\n  var objectMode = !!state.objectMode;\n  var ret;\n\n  // nothing in the list, definitely empty.\n  if (list.length === 0)\n    return null;\n\n  if (length === 0)\n    ret = null;\n  else if (objectMode)\n    ret = list.shift();\n  else if (!n || n >= length) {\n    // read it all, truncate the array.\n    if (stringMode)\n      ret = list.join('');\n    else\n      ret = Buffer.concat(list, length);\n    list.length = 0;\n  } else {\n    // read just some of it.\n    if (n < list[0].length) {\n      // just take a part of the first list item.\n      // slice is the same for buffers and strings.\n      var buf = list[0];\n      ret = buf.slice(0, n);\n      list[0] = buf.slice(n);\n    } else if (n === list[0].length) {\n      // first list is a perfect match\n      ret = list.shift();\n    } else {\n      // complex case.\n      // we have enough to cover it, but it spans past the first buffer.\n      if (stringMode)\n        ret = '';\n      else\n        ret = new Buffer(n);\n\n      var c = 0;\n      for (var i = 0, l = list.length; i < l && c < n; i++) {\n        var buf = list[0];\n        var cpy = Math.min(n - c, buf.length);\n\n        if (stringMode)\n          ret += buf.slice(0, cpy);\n        else\n          buf.copy(ret, c, 0, cpy);\n\n        if (cpy < buf.length)\n          list[0] = buf.slice(cpy);\n        else\n          list.shift();\n\n        c += cpy;\n      }\n    }\n  }\n\n  return ret;\n}\n\nfunction endReadable(stream) {\n  var state = stream._readableState;\n\n  // If we get here before consuming all the bytes, then that is a\n  // bug in node.  Should never happen.\n  if (state.length > 0)\n    throw new Error('endReadable called on non-empty stream');\n\n  if (!state.endEmitted) {\n    state.ended = true;\n    process.nextTick(function() {\n      // Check that we didn't get one last unshift.\n      if (!state.endEmitted && state.length === 0) {\n        state.endEmitted = true;\n        stream.readable = false;\n        stream.emit('end');\n      }\n    });\n  }\n}\n\nfunction forEach (xs, f) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    f(xs[i], i);\n  }\n}\n\nfunction indexOf (xs, x) {\n  for (var i = 0, l = xs.length; i < l; i++) {\n    if (xs[i] === x) return i;\n  }\n  return -1;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":21,\"_process\":16,\"buffer\":10,\"core-util-is\":26,\"events\":14,\"inherits\":27,\"isarray\":28,\"stream\":17,\"string_decoder/\":29,\"util\":9}],24:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n\n// a transform stream is a readable/writable stream where you do\n// something with the data.  Sometimes it's called a \"filter\",\n// but that's not a great name for it, since that implies a thing where\n// some bits pass through, and others are simply ignored.  (That would\n// be a valid example of a transform, of course.)\n//\n// While the output is causally related to the input, it's not a\n// necessarily symmetric or synchronous transformation.  For example,\n// a zlib stream might take multiple plain-text writes(), and then\n// emit a single compressed chunk some time in the future.\n//\n// Here's how this works:\n//\n// The Transform stream has all the aspects of the readable and writable\n// stream classes.  When you write(chunk), that calls _write(chunk,cb)\n// internally, and returns false if there's a lot of pending writes\n// buffered up.  When you call read(), that calls _read(n) until\n// there's enough pending readable data buffered up.\n//\n// In a transform stream, the written data is placed in a buffer.  When\n// _read(n) is called, it transforms the queued up data, calling the\n// buffered _write cb's as it consumes chunks.  If consuming a single\n// written chunk would result in multiple output chunks, then the first\n// outputted bit calls the readcb, and subsequent chunks just go into\n// the read buffer, and will cause it to emit 'readable' if necessary.\n//\n// This way, back-pressure is actually determined by the reading side,\n// since _read has to be called to start processing a new chunk.  However,\n// a pathological inflate type of transform can cause excessive buffering\n// here.  For example, imagine a stream where every byte of input is\n// interpreted as an integer from 0-255, and then results in that many\n// bytes of output.  Writing the 4 bytes {ff,ff,ff,ff} would result in\n// 1kb of data being output.  In this case, you could write a very small\n// amount of input, and end up with a very large amount of output.  In\n// such a pathological inflating mechanism, there'd be no way to tell\n// the system to stop doing the transform.  A single 4MB write could\n// cause the system to run out of memory.\n//\n// However, even in such a pathological case, only a single written chunk\n// would be consumed, and then the rest would wait (un-transformed) until\n// the results of the previous transformed chunk were consumed.\n\nmodule.exports = Transform;\n\nvar Duplex = require('./_stream_duplex');\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nutil.inherits(Transform, Duplex);\n\n\nfunction TransformState(options, stream) {\n  this.afterTransform = function(er, data) {\n    return afterTransform(stream, er, data);\n  };\n\n  this.needTransform = false;\n  this.transforming = false;\n  this.writecb = null;\n  this.writechunk = null;\n}\n\nfunction afterTransform(stream, er, data) {\n  var ts = stream._transformState;\n  ts.transforming = false;\n\n  var cb = ts.writecb;\n\n  if (!cb)\n    return stream.emit('error', new Error('no writecb in Transform class'));\n\n  ts.writechunk = null;\n  ts.writecb = null;\n\n  if (!util.isNullOrUndefined(data))\n    stream.push(data);\n\n  if (cb)\n    cb(er);\n\n  var rs = stream._readableState;\n  rs.reading = false;\n  if (rs.needReadable || rs.length < rs.highWaterMark) {\n    stream._read(rs.highWaterMark);\n  }\n}\n\n\nfunction Transform(options) {\n  if (!(this instanceof Transform))\n    return new Transform(options);\n\n  Duplex.call(this, options);\n\n  this._transformState = new TransformState(options, this);\n\n  // when the writable side finishes, then flush out anything remaining.\n  var stream = this;\n\n  // start out asking for a readable event once data is transformed.\n  this._readableState.needReadable = true;\n\n  // we have implemented the _read method, and done the other things\n  // that Readable wants before the first _read call, so unset the\n  // sync guard flag.\n  this._readableState.sync = false;\n\n  this.once('prefinish', function() {\n    if (util.isFunction(this._flush))\n      this._flush(function(er) {\n        done(stream, er);\n      });\n    else\n      done(stream);\n  });\n}\n\nTransform.prototype.push = function(chunk, encoding) {\n  this._transformState.needTransform = false;\n  return Duplex.prototype.push.call(this, chunk, encoding);\n};\n\n// This is the part where you do stuff!\n// override this function in implementation classes.\n// 'chunk' is an input chunk.\n//\n// Call `push(newChunk)` to pass along transformed output\n// to the readable side.  You may call 'push' zero or more times.\n//\n// Call `cb(err)` when you are done with this chunk.  If you pass\n// an error, then that'll put the hurt on the whole operation.  If you\n// never call cb(), then you'll never get another chunk.\nTransform.prototype._transform = function(chunk, encoding, cb) {\n  throw new Error('not implemented');\n};\n\nTransform.prototype._write = function(chunk, encoding, cb) {\n  var ts = this._transformState;\n  ts.writecb = cb;\n  ts.writechunk = chunk;\n  ts.writeencoding = encoding;\n  if (!ts.transforming) {\n    var rs = this._readableState;\n    if (ts.needTransform ||\n        rs.needReadable ||\n        rs.length < rs.highWaterMark)\n      this._read(rs.highWaterMark);\n  }\n};\n\n// Doesn't matter what the args are here.\n// _transform does all the work.\n// That we got here means that the readable side wants more data.\nTransform.prototype._read = function(n) {\n  var ts = this._transformState;\n\n  if (!util.isNull(ts.writechunk) && ts.writecb && !ts.transforming) {\n    ts.transforming = true;\n    this._transform(ts.writechunk, ts.writeencoding, ts.afterTransform);\n  } else {\n    // mark that we need a transform, so that any data that comes in\n    // will get processed, now that we've asked for it.\n    ts.needTransform = true;\n  }\n};\n\n\nfunction done(stream, er) {\n  if (er)\n    return stream.emit('error', er);\n\n  // if there's nothing in the write buffer, then that means\n  // that nothing more will ever be provided\n  var ws = stream._writableState;\n  var ts = stream._transformState;\n\n  if (ws.length)\n    throw new Error('calling transform done when ws.length != 0');\n\n  if (ts.transforming)\n    throw new Error('calling transform done when still transforming');\n\n  return stream.push(null);\n}\n\n},{\"./_stream_duplex\":21,\"core-util-is\":26,\"inherits\":27}],25:[function(require,module,exports){\n(function (process){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// A bit simpler than readable streams.\n// Implement an async ._write(chunk, cb), and it'll handle all\n// the drain event emission and buffering.\n\nmodule.exports = Writable;\n\n/*<replacement>*/\nvar Buffer = require('buffer').Buffer;\n/*</replacement>*/\n\nWritable.WritableState = WritableState;\n\n\n/*<replacement>*/\nvar util = require('core-util-is');\nutil.inherits = require('inherits');\n/*</replacement>*/\n\nvar Stream = require('stream');\n\nutil.inherits(Writable, Stream);\n\nfunction WriteReq(chunk, encoding, cb) {\n  this.chunk = chunk;\n  this.encoding = encoding;\n  this.callback = cb;\n}\n\nfunction WritableState(options, stream) {\n  var Duplex = require('./_stream_duplex');\n\n  options = options || {};\n\n  // the point at which write() starts returning false\n  // Note: 0 is a valid value, means that we always return false if\n  // the entire buffer is not flushed immediately on write()\n  var hwm = options.highWaterMark;\n  var defaultHwm = options.objectMode ? 16 : 16 * 1024;\n  this.highWaterMark = (hwm || hwm === 0) ? hwm : defaultHwm;\n\n  // object stream flag to indicate whether or not this stream\n  // contains buffers or objects.\n  this.objectMode = !!options.objectMode;\n\n  if (stream instanceof Duplex)\n    this.objectMode = this.objectMode || !!options.writableObjectMode;\n\n  // cast to ints.\n  this.highWaterMark = ~~this.highWaterMark;\n\n  this.needDrain = false;\n  // at the start of calling end()\n  this.ending = false;\n  // when end() has been called, and returned\n  this.ended = false;\n  // when 'finish' is emitted\n  this.finished = false;\n\n  // should we decode strings into buffers before passing to _write?\n  // this is here so that some node-core streams can optimize string\n  // handling at a lower level.\n  var noDecode = options.decodeStrings === false;\n  this.decodeStrings = !noDecode;\n\n  // Crypto is kind of old and crusty.  Historically, its default string\n  // encoding is 'binary' so we have to make this configurable.\n  // Everything else in the universe uses 'utf8', though.\n  this.defaultEncoding = options.defaultEncoding || 'utf8';\n\n  // not an actual buffer we keep track of, but a measurement\n  // of how much we're waiting to get pushed to some underlying\n  // socket or file.\n  this.length = 0;\n\n  // a flag to see when we're in the middle of a write.\n  this.writing = false;\n\n  // when true all writes will be buffered until .uncork() call\n  this.corked = 0;\n\n  // a flag to be able to tell if the onwrite cb is called immediately,\n  // or on a later tick.  We set this to true at first, because any\n  // actions that shouldn't happen until \"later\" should generally also\n  // not happen before the first write call.\n  this.sync = true;\n\n  // a flag to know if we're processing previously buffered items, which\n  // may call the _write() callback in the same tick, so that we don't\n  // end up in an overlapped onwrite situation.\n  this.bufferProcessing = false;\n\n  // the callback that's passed to _write(chunk,cb)\n  this.onwrite = function(er) {\n    onwrite(stream, er);\n  };\n\n  // the callback that the user supplies to write(chunk,encoding,cb)\n  this.writecb = null;\n\n  // the amount that is being written when _write is called.\n  this.writelen = 0;\n\n  this.buffer = [];\n\n  // number of pending user-supplied write callbacks\n  // this must be 0 before 'finish' can be emitted\n  this.pendingcb = 0;\n\n  // emit prefinish if the only thing we're waiting for is _write cbs\n  // This is relevant for synchronous Transform streams\n  this.prefinished = false;\n\n  // True if the error was already emitted and should not be thrown again\n  this.errorEmitted = false;\n}\n\nfunction Writable(options) {\n  var Duplex = require('./_stream_duplex');\n\n  // Writable ctor is applied to Duplexes, though they're not\n  // instanceof Writable, they're instanceof Readable.\n  if (!(this instanceof Writable) && !(this instanceof Duplex))\n    return new Writable(options);\n\n  this._writableState = new WritableState(options, this);\n\n  // legacy.\n  this.writable = true;\n\n  Stream.call(this);\n}\n\n// Otherwise people can pipe Writable streams, which is just wrong.\nWritable.prototype.pipe = function() {\n  this.emit('error', new Error('Cannot pipe. Not readable.'));\n};\n\n\nfunction writeAfterEnd(stream, state, cb) {\n  var er = new Error('write after end');\n  // TODO: defer error events consistently everywhere, not just the cb\n  stream.emit('error', er);\n  process.nextTick(function() {\n    cb(er);\n  });\n}\n\n// If we get something that is not a buffer, string, null, or undefined,\n// and we're not in objectMode, then that's an error.\n// Otherwise stream chunks are all considered to be of length=1, and the\n// watermarks determine how many objects to keep in the buffer, rather than\n// how many bytes or characters.\nfunction validChunk(stream, state, chunk, cb) {\n  var valid = true;\n  if (!util.isBuffer(chunk) &&\n      !util.isString(chunk) &&\n      !util.isNullOrUndefined(chunk) &&\n      !state.objectMode) {\n    var er = new TypeError('Invalid non-string/buffer chunk');\n    stream.emit('error', er);\n    process.nextTick(function() {\n      cb(er);\n    });\n    valid = false;\n  }\n  return valid;\n}\n\nWritable.prototype.write = function(chunk, encoding, cb) {\n  var state = this._writableState;\n  var ret = false;\n\n  if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  else if (!encoding)\n    encoding = state.defaultEncoding;\n\n  if (!util.isFunction(cb))\n    cb = function() {};\n\n  if (state.ended)\n    writeAfterEnd(this, state, cb);\n  else if (validChunk(this, state, chunk, cb)) {\n    state.pendingcb++;\n    ret = writeOrBuffer(this, state, chunk, encoding, cb);\n  }\n\n  return ret;\n};\n\nWritable.prototype.cork = function() {\n  var state = this._writableState;\n\n  state.corked++;\n};\n\nWritable.prototype.uncork = function() {\n  var state = this._writableState;\n\n  if (state.corked) {\n    state.corked--;\n\n    if (!state.writing &&\n        !state.corked &&\n        !state.finished &&\n        !state.bufferProcessing &&\n        state.buffer.length)\n      clearBuffer(this, state);\n  }\n};\n\nfunction decodeChunk(state, chunk, encoding) {\n  if (!state.objectMode &&\n      state.decodeStrings !== false &&\n      util.isString(chunk)) {\n    chunk = new Buffer(chunk, encoding);\n  }\n  return chunk;\n}\n\n// if we're already writing something, then just put this\n// in the queue, and wait our turn.  Otherwise, call _write\n// If we return false, then we need a drain event, so set that flag.\nfunction writeOrBuffer(stream, state, chunk, encoding, cb) {\n  chunk = decodeChunk(state, chunk, encoding);\n  if (util.isBuffer(chunk))\n    encoding = 'buffer';\n  var len = state.objectMode ? 1 : chunk.length;\n\n  state.length += len;\n\n  var ret = state.length < state.highWaterMark;\n  // we must ensure that previous needDrain will not be reset to false.\n  if (!ret)\n    state.needDrain = true;\n\n  if (state.writing || state.corked)\n    state.buffer.push(new WriteReq(chunk, encoding, cb));\n  else\n    doWrite(stream, state, false, len, chunk, encoding, cb);\n\n  return ret;\n}\n\nfunction doWrite(stream, state, writev, len, chunk, encoding, cb) {\n  state.writelen = len;\n  state.writecb = cb;\n  state.writing = true;\n  state.sync = true;\n  if (writev)\n    stream._writev(chunk, state.onwrite);\n  else\n    stream._write(chunk, encoding, state.onwrite);\n  state.sync = false;\n}\n\nfunction onwriteError(stream, state, sync, er, cb) {\n  if (sync)\n    process.nextTick(function() {\n      state.pendingcb--;\n      cb(er);\n    });\n  else {\n    state.pendingcb--;\n    cb(er);\n  }\n\n  stream._writableState.errorEmitted = true;\n  stream.emit('error', er);\n}\n\nfunction onwriteStateUpdate(state) {\n  state.writing = false;\n  state.writecb = null;\n  state.length -= state.writelen;\n  state.writelen = 0;\n}\n\nfunction onwrite(stream, er) {\n  var state = stream._writableState;\n  var sync = state.sync;\n  var cb = state.writecb;\n\n  onwriteStateUpdate(state);\n\n  if (er)\n    onwriteError(stream, state, sync, er, cb);\n  else {\n    // Check if we're actually ready to finish, but don't emit yet\n    var finished = needFinish(stream, state);\n\n    if (!finished &&\n        !state.corked &&\n        !state.bufferProcessing &&\n        state.buffer.length) {\n      clearBuffer(stream, state);\n    }\n\n    if (sync) {\n      process.nextTick(function() {\n        afterWrite(stream, state, finished, cb);\n      });\n    } else {\n      afterWrite(stream, state, finished, cb);\n    }\n  }\n}\n\nfunction afterWrite(stream, state, finished, cb) {\n  if (!finished)\n    onwriteDrain(stream, state);\n  state.pendingcb--;\n  cb();\n  finishMaybe(stream, state);\n}\n\n// Must force callback to be called on nextTick, so that we don't\n// emit 'drain' before the write() consumer gets the 'false' return\n// value, and has a chance to attach a 'drain' listener.\nfunction onwriteDrain(stream, state) {\n  if (state.length === 0 && state.needDrain) {\n    state.needDrain = false;\n    stream.emit('drain');\n  }\n}\n\n\n// if there's something in the buffer waiting, then process it\nfunction clearBuffer(stream, state) {\n  state.bufferProcessing = true;\n\n  if (stream._writev && state.buffer.length > 1) {\n    // Fast case, write everything using _writev()\n    var cbs = [];\n    for (var c = 0; c < state.buffer.length; c++)\n      cbs.push(state.buffer[c].callback);\n\n    // count the one we are adding, as well.\n    // TODO(isaacs) clean this up\n    state.pendingcb++;\n    doWrite(stream, state, true, state.length, state.buffer, '', function(err) {\n      for (var i = 0; i < cbs.length; i++) {\n        state.pendingcb--;\n        cbs[i](err);\n      }\n    });\n\n    // Clear buffer\n    state.buffer = [];\n  } else {\n    // Slow case, write chunks one-by-one\n    for (var c = 0; c < state.buffer.length; c++) {\n      var entry = state.buffer[c];\n      var chunk = entry.chunk;\n      var encoding = entry.encoding;\n      var cb = entry.callback;\n      var len = state.objectMode ? 1 : chunk.length;\n\n      doWrite(stream, state, false, len, chunk, encoding, cb);\n\n      // if we didn't call the onwrite immediately, then\n      // it means that we need to wait until it does.\n      // also, that means that the chunk and cb are currently\n      // being processed, so move the buffer counter past them.\n      if (state.writing) {\n        c++;\n        break;\n      }\n    }\n\n    if (c < state.buffer.length)\n      state.buffer = state.buffer.slice(c);\n    else\n      state.buffer.length = 0;\n  }\n\n  state.bufferProcessing = false;\n}\n\nWritable.prototype._write = function(chunk, encoding, cb) {\n  cb(new Error('not implemented'));\n\n};\n\nWritable.prototype._writev = null;\n\nWritable.prototype.end = function(chunk, encoding, cb) {\n  var state = this._writableState;\n\n  if (util.isFunction(chunk)) {\n    cb = chunk;\n    chunk = null;\n    encoding = null;\n  } else if (util.isFunction(encoding)) {\n    cb = encoding;\n    encoding = null;\n  }\n\n  if (!util.isNullOrUndefined(chunk))\n    this.write(chunk, encoding);\n\n  // .end() fully uncorks\n  if (state.corked) {\n    state.corked = 1;\n    this.uncork();\n  }\n\n  // ignore unnecessary end() calls.\n  if (!state.ending && !state.finished)\n    endWritable(this, state, cb);\n};\n\n\nfunction needFinish(stream, state) {\n  return (state.ending &&\n          state.length === 0 &&\n          !state.finished &&\n          !state.writing);\n}\n\nfunction prefinish(stream, state) {\n  if (!state.prefinished) {\n    state.prefinished = true;\n    stream.emit('prefinish');\n  }\n}\n\nfunction finishMaybe(stream, state) {\n  var need = needFinish(stream, state);\n  if (need) {\n    if (state.pendingcb === 0) {\n      prefinish(stream, state);\n      state.finished = true;\n      stream.emit('finish');\n    } else\n      prefinish(stream, state);\n  }\n  return need;\n}\n\nfunction endWritable(stream, state, cb) {\n  state.ending = true;\n  finishMaybe(stream, state);\n  if (cb) {\n    if (state.finished)\n      process.nextTick(cb);\n    else\n      stream.once('finish', cb);\n  }\n  state.ended = true;\n}\n\n}).call(this,require('_process'))\n},{\"./_stream_duplex\":21,\"_process\":16,\"buffer\":10,\"core-util-is\":26,\"inherits\":27,\"stream\":17}],26:[function(require,module,exports){\n(function (Buffer){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nfunction isBuffer(arg) {\n  return Buffer.isBuffer(arg);\n}\nexports.isBuffer = isBuffer;\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":10}],27:[function(require,module,exports){\nmodule.exports=require(15)\n},{\"/Users/stomita/Work/Salesforce/jsforce.publish/node_modules/browserify/node_modules/inherits/inherits_browser.js\":15}],28:[function(require,module,exports){\nmodule.exports = Array.isArray || function (arr) {\n  return Object.prototype.toString.call(arr) == '[object Array]';\n};\n\n},{}],29:[function(require,module,exports){\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar Buffer = require('buffer').Buffer;\n\nvar isBufferEncoding = Buffer.isEncoding\n  || function(encoding) {\n       switch (encoding && encoding.toLowerCase()) {\n         case 'hex': case 'utf8': case 'utf-8': case 'ascii': case 'binary': case 'base64': case 'ucs2': case 'ucs-2': case 'utf16le': case 'utf-16le': case 'raw': return true;\n         default: return false;\n       }\n     }\n\n\nfunction assertEncoding(encoding) {\n  if (encoding && !isBufferEncoding(encoding)) {\n    throw new Error('Unknown encoding: ' + encoding);\n  }\n}\n\n// StringDecoder provides an interface for efficiently splitting a series of\n// buffers into a series of JS strings without breaking apart multi-byte\n// characters. CESU-8 is handled as part of the UTF-8 encoding.\n//\n// @TODO Handling all encodings inside a single object makes it very difficult\n// to reason about this code, so it should be split up in the future.\n// @TODO There should be a utf8-strict encoding that rejects invalid UTF-8 code\n// points as used by CESU-8.\nvar StringDecoder = exports.StringDecoder = function(encoding) {\n  this.encoding = (encoding || 'utf8').toLowerCase().replace(/[-_]/, '');\n  assertEncoding(encoding);\n  switch (this.encoding) {\n    case 'utf8':\n      // CESU-8 represents each of Surrogate Pair by 3-bytes\n      this.surrogateSize = 3;\n      break;\n    case 'ucs2':\n    case 'utf16le':\n      // UTF-16 represents each of Surrogate Pair by 2-bytes\n      this.surrogateSize = 2;\n      this.detectIncompleteChar = utf16DetectIncompleteChar;\n      break;\n    case 'base64':\n      // Base-64 stores 3 bytes in 4 chars, and pads the remainder.\n      this.surrogateSize = 3;\n      this.detectIncompleteChar = base64DetectIncompleteChar;\n      break;\n    default:\n      this.write = passThroughWrite;\n      return;\n  }\n\n  // Enough space to store all bytes of a single character. UTF-8 needs 4\n  // bytes, but CESU-8 may require up to 6 (3 bytes per surrogate).\n  this.charBuffer = new Buffer(6);\n  // Number of bytes received for the current incomplete multi-byte character.\n  this.charReceived = 0;\n  // Number of bytes expected for the current incomplete multi-byte character.\n  this.charLength = 0;\n};\n\n\n// write decodes the given buffer and returns it as JS string that is\n// guaranteed to not contain any partial multi-byte characters. Any partial\n// character found at the end of the buffer is buffered up, and will be\n// returned when calling write again with the remaining bytes.\n//\n// Note: Converting a Buffer containing an orphan surrogate to a String\n// currently works, but converting a String to a Buffer (via `new Buffer`, or\n// Buffer#write) will replace incomplete surrogates with the unicode\n// replacement character. See https://codereview.chromium.org/121173009/ .\nStringDecoder.prototype.write = function(buffer) {\n  var charStr = '';\n  // if our last write ended with an incomplete multibyte character\n  while (this.charLength) {\n    // determine how many remaining bytes this buffer has to offer for this char\n    var available = (buffer.length >= this.charLength - this.charReceived) ?\n        this.charLength - this.charReceived :\n        buffer.length;\n\n    // add the new bytes to the char buffer\n    buffer.copy(this.charBuffer, this.charReceived, 0, available);\n    this.charReceived += available;\n\n    if (this.charReceived < this.charLength) {\n      // still not enough chars in this buffer? wait for more ...\n      return '';\n    }\n\n    // remove bytes belonging to the current character from the buffer\n    buffer = buffer.slice(available, buffer.length);\n\n    // get the character that was split\n    charStr = this.charBuffer.slice(0, this.charLength).toString(this.encoding);\n\n    // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n    var charCode = charStr.charCodeAt(charStr.length - 1);\n    if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n      this.charLength += this.surrogateSize;\n      charStr = '';\n      continue;\n    }\n    this.charReceived = this.charLength = 0;\n\n    // if there are no more bytes in this buffer, just emit our char\n    if (buffer.length === 0) {\n      return charStr;\n    }\n    break;\n  }\n\n  // determine and set charLength / charReceived\n  this.detectIncompleteChar(buffer);\n\n  var end = buffer.length;\n  if (this.charLength) {\n    // buffer the incomplete character bytes we got\n    buffer.copy(this.charBuffer, 0, buffer.length - this.charReceived, end);\n    end -= this.charReceived;\n  }\n\n  charStr += buffer.toString(this.encoding, 0, end);\n\n  var end = charStr.length - 1;\n  var charCode = charStr.charCodeAt(end);\n  // CESU-8: lead surrogate (D800-DBFF) is also the incomplete character\n  if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n    var size = this.surrogateSize;\n    this.charLength += size;\n    this.charReceived += size;\n    this.charBuffer.copy(this.charBuffer, size, 0, size);\n    buffer.copy(this.charBuffer, 0, 0, size);\n    return charStr.substring(0, end);\n  }\n\n  // or just emit the charStr\n  return charStr;\n};\n\n// detectIncompleteChar determines if there is an incomplete UTF-8 character at\n// the end of the given buffer. If so, it sets this.charLength to the byte\n// length that character, and sets this.charReceived to the number of bytes\n// that are available for this character.\nStringDecoder.prototype.detectIncompleteChar = function(buffer) {\n  // determine how many bytes we have to check at the end of this buffer\n  var i = (buffer.length >= 3) ? 3 : buffer.length;\n\n  // Figure out if one of the last i bytes of our buffer announces an\n  // incomplete char.\n  for (; i > 0; i--) {\n    var c = buffer[buffer.length - i];\n\n    // See http://en.wikipedia.org/wiki/UTF-8#Description\n\n    // 110XXXXX\n    if (i == 1 && c >> 5 == 0x06) {\n      this.charLength = 2;\n      break;\n    }\n\n    // 1110XXXX\n    if (i <= 2 && c >> 4 == 0x0E) {\n      this.charLength = 3;\n      break;\n    }\n\n    // 11110XXX\n    if (i <= 3 && c >> 3 == 0x1E) {\n      this.charLength = 4;\n      break;\n    }\n  }\n  this.charReceived = i;\n};\n\nStringDecoder.prototype.end = function(buffer) {\n  var res = '';\n  if (buffer && buffer.length)\n    res = this.write(buffer);\n\n  if (this.charReceived) {\n    var cr = this.charReceived;\n    var buf = this.charBuffer;\n    var enc = this.encoding;\n    res += buf.slice(0, cr).toString(enc);\n  }\n\n  return res;\n};\n\nfunction passThroughWrite(buffer) {\n  return buffer.toString(this.encoding);\n}\n\nfunction utf16DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 2;\n  this.charLength = this.charReceived ? 2 : 0;\n}\n\nfunction base64DetectIncompleteChar(buffer) {\n  this.charReceived = buffer.length % 3;\n  this.charLength = this.charReceived ? 3 : 0;\n}\n\n},{\"buffer\":10}],30:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_passthrough.js\")\n\n},{\"./lib/_stream_passthrough.js\":22}],31:[function(require,module,exports){\nexports = module.exports = require('./lib/_stream_readable.js');\nexports.Stream = require('stream');\nexports.Readable = exports;\nexports.Writable = require('./lib/_stream_writable.js');\nexports.Duplex = require('./lib/_stream_duplex.js');\nexports.Transform = require('./lib/_stream_transform.js');\nexports.PassThrough = require('./lib/_stream_passthrough.js');\n\n},{\"./lib/_stream_duplex.js\":21,\"./lib/_stream_passthrough.js\":22,\"./lib/_stream_readable.js\":23,\"./lib/_stream_transform.js\":24,\"./lib/_stream_writable.js\":25,\"stream\":17}],32:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_transform.js\")\n\n},{\"./lib/_stream_transform.js\":24}],33:[function(require,module,exports){\nmodule.exports = require(\"./lib/_stream_writable.js\")\n\n},{\"./lib/_stream_writable.js\":25}],34:[function(require,module,exports){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var xml2js;\n\n  xml2js = require('../lib/xml2js');\n\n  exports.stripBOM = function(str) {\n    if (str[0] === '\\uFEFF') {\n      return str.substring(1);\n    } else {\n      return str;\n    }\n  };\n\n}).call(this);\n\n},{\"../lib/xml2js\":36}],35:[function(require,module,exports){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var prefixMatch;\n\n  prefixMatch = new RegExp(/(?!xmlns)^.*:/);\n\n  exports.normalize = function(str) {\n    return str.toLowerCase();\n  };\n\n  exports.firstCharLowerCase = function(str) {\n    return str.charAt(0).toLowerCase() + str.slice(1);\n  };\n\n  exports.stripPrefix = function(str) {\n    return str.replace(prefixMatch, '');\n  };\n\n}).call(this);\n\n},{}],36:[function(require,module,exports){\n(function (process){\n// Generated by CoffeeScript 1.7.1\n(function() {\n  var bom, builder, events, isEmpty, processName, processors, sax,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\n  sax = require('sax');\n\n  events = require('events');\n\n  builder = require('xmlbuilder');\n\n  bom = require('./bom');\n\n  processors = require('./processors');\n\n  isEmpty = function(thing) {\n    return typeof thing === \"object\" && (thing != null) && Object.keys(thing).length === 0;\n  };\n\n  processName = function(processors, processedName) {\n    var process, _i, _len;\n    for (_i = 0, _len = processors.length; _i < _len; _i++) {\n      process = processors[_i];\n      processedName = process(processedName);\n    }\n    return processedName;\n  };\n\n  exports.processors = processors;\n\n  exports.defaults = {\n    \"0.1\": {\n      explicitCharkey: false,\n      trim: true,\n      normalize: true,\n      normalizeTags: false,\n      attrkey: \"@\",\n      charkey: \"#\",\n      explicitArray: false,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: false,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '@@',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null\n    },\n    \"0.2\": {\n      explicitCharkey: false,\n      trim: false,\n      normalize: false,\n      normalizeTags: false,\n      attrkey: \"$\",\n      charkey: \"_\",\n      explicitArray: true,\n      ignoreAttrs: false,\n      mergeAttrs: false,\n      explicitRoot: true,\n      validator: null,\n      xmlns: false,\n      explicitChildren: false,\n      childkey: '$$',\n      charsAsChildren: false,\n      async: false,\n      strict: true,\n      attrNameProcessors: null,\n      tagNameProcessors: null,\n      rootName: 'root',\n      xmldec: {\n        'version': '1.0',\n        'encoding': 'UTF-8',\n        'standalone': true\n      },\n      doctype: null,\n      renderOpts: {\n        'pretty': true,\n        'indent': '  ',\n        'newline': '\\n'\n      },\n      headless: false\n    }\n  };\n\n  exports.ValidationError = (function(_super) {\n    __extends(ValidationError, _super);\n\n    function ValidationError(message) {\n      this.message = message;\n    }\n\n    return ValidationError;\n\n  })(Error);\n\n  exports.Builder = (function() {\n    function Builder(opts) {\n      var key, value, _ref;\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n    }\n\n    Builder.prototype.buildObject = function(rootObj) {\n      var attrkey, charkey, render, rootElement, rootName;\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      if ((Object.keys(rootObj).length === 1) && (this.options.rootName === exports.defaults['0.2'].rootName)) {\n        rootName = Object.keys(rootObj)[0];\n        rootObj = rootObj[rootName];\n      } else {\n        rootName = this.options.rootName;\n      }\n      render = function(element, obj) {\n        var attr, child, entry, index, key, value, _ref, _ref1;\n        if (typeof obj !== 'object') {\n          element.txt(obj);\n        } else {\n          for (key in obj) {\n            if (!__hasProp.call(obj, key)) continue;\n            child = obj[key];\n            if (key === attrkey) {\n              if (typeof child === \"object\") {\n                for (attr in child) {\n                  value = child[attr];\n                  element = element.att(attr, value);\n                }\n              }\n            } else if (key === charkey) {\n              element = element.txt(child);\n            } else if (typeof child === 'object' && ((child != null ? child.constructor : void 0) != null) && ((child != null ? (_ref = child.constructor) != null ? _ref.name : void 0 : void 0) != null) && (child != null ? (_ref1 = child.constructor) != null ? _ref1.name : void 0 : void 0) === 'Array') {\n              for (index in child) {\n                if (!__hasProp.call(child, index)) continue;\n                entry = child[index];\n                if (typeof entry === 'string') {\n                  element = element.ele(key, entry).up();\n                } else {\n                  element = arguments.callee(element.ele(key), entry).up();\n                }\n              }\n            } else if (typeof child === \"object\") {\n              element = arguments.callee(element.ele(key), child).up();\n            } else {\n              element = element.ele(key, child.toString()).up();\n            }\n          }\n        }\n        return element;\n      };\n      rootElement = builder.create(rootName, this.options.xmldec, this.options.doctype, {\n        headless: this.options.headless\n      });\n      return render(rootElement, rootObj).end(this.options.renderOpts);\n    };\n\n    return Builder;\n\n  })();\n\n  exports.Parser = (function(_super) {\n    __extends(Parser, _super);\n\n    function Parser(opts) {\n      this.parseString = __bind(this.parseString, this);\n      this.reset = __bind(this.reset, this);\n      this.assignOrPush = __bind(this.assignOrPush, this);\n      var key, value, _ref;\n      if (!(this instanceof exports.Parser)) {\n        return new exports.Parser(opts);\n      }\n      this.options = {};\n      _ref = exports.defaults[\"0.2\"];\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this.options[key] = value;\n      }\n      for (key in opts) {\n        if (!__hasProp.call(opts, key)) continue;\n        value = opts[key];\n        this.options[key] = value;\n      }\n      if (this.options.xmlns) {\n        this.options.xmlnskey = this.options.attrkey + \"ns\";\n      }\n      if (this.options.normalizeTags) {\n        if (!this.options.tagNameProcessors) {\n          this.options.tagNameProcessors = [];\n        }\n        this.options.tagNameProcessors.unshift(processors.normalize);\n      }\n      this.reset();\n    }\n\n    Parser.prototype.assignOrPush = function(obj, key, newValue) {\n      if (!(key in obj)) {\n        if (!this.options.explicitArray) {\n          return obj[key] = newValue;\n        } else {\n          return obj[key] = [newValue];\n        }\n      } else {\n        if (!(obj[key] instanceof Array)) {\n          obj[key] = [obj[key]];\n        }\n        return obj[key].push(newValue);\n      }\n    };\n\n    Parser.prototype.reset = function() {\n      var attrkey, charkey, ontext, stack;\n      this.removeAllListeners();\n      this.saxParser = sax.parser(this.options.strict, {\n        trim: false,\n        normalize: false,\n        xmlns: this.options.xmlns\n      });\n      this.saxParser.errThrown = false;\n      this.saxParser.onerror = (function(_this) {\n        return function(error) {\n          _this.saxParser.resume();\n          if (!_this.saxParser.errThrown) {\n            _this.saxParser.errThrown = true;\n            return _this.emit(\"error\", error);\n          }\n        };\n      })(this);\n      this.saxParser.ended = false;\n      this.EXPLICIT_CHARKEY = this.options.explicitCharkey;\n      this.resultObject = null;\n      stack = [];\n      attrkey = this.options.attrkey;\n      charkey = this.options.charkey;\n      this.saxParser.onopentag = (function(_this) {\n        return function(node) {\n          var key, newValue, obj, processedKey, _ref;\n          obj = {};\n          obj[charkey] = \"\";\n          if (!_this.options.ignoreAttrs) {\n            _ref = node.attributes;\n            for (key in _ref) {\n              if (!__hasProp.call(_ref, key)) continue;\n              if (!(attrkey in obj) && !_this.options.mergeAttrs) {\n                obj[attrkey] = {};\n              }\n              newValue = node.attributes[key];\n              processedKey = _this.options.attrNameProcessors ? processName(_this.options.attrNameProcessors, key) : key;\n              if (_this.options.mergeAttrs) {\n                _this.assignOrPush(obj, processedKey, newValue);\n              } else {\n                obj[attrkey][processedKey] = newValue;\n              }\n            }\n          }\n          obj[\"#name\"] = _this.options.tagNameProcessors ? processName(_this.options.tagNameProcessors, node.name) : node.name;\n          if (_this.options.xmlns) {\n            obj[_this.options.xmlnskey] = {\n              uri: node.uri,\n              local: node.local\n            };\n          }\n          return stack.push(obj);\n        };\n      })(this);\n      this.saxParser.onclosetag = (function(_this) {\n        return function() {\n          var cdata, emptyStr, err, node, nodeName, obj, old, s, xpath;\n          obj = stack.pop();\n          nodeName = obj[\"#name\"];\n          delete obj[\"#name\"];\n          cdata = obj.cdata;\n          delete obj.cdata;\n          s = stack[stack.length - 1];\n          if (obj[charkey].match(/^\\s*$/) && !cdata) {\n            emptyStr = obj[charkey];\n            delete obj[charkey];\n          } else {\n            if (_this.options.trim) {\n              obj[charkey] = obj[charkey].trim();\n            }\n            if (_this.options.normalize) {\n              obj[charkey] = obj[charkey].replace(/\\s{2,}/g, \" \").trim();\n            }\n            if (Object.keys(obj).length === 1 && charkey in obj && !_this.EXPLICIT_CHARKEY) {\n              obj = obj[charkey];\n            }\n          }\n          if (isEmpty(obj)) {\n            obj = _this.options.emptyTag !== void 0 ? _this.options.emptyTag : emptyStr;\n          }\n          if (_this.options.validator != null) {\n            xpath = \"/\" + ((function() {\n              var _i, _len, _results;\n              _results = [];\n              for (_i = 0, _len = stack.length; _i < _len; _i++) {\n                node = stack[_i];\n                _results.push(node[\"#name\"]);\n              }\n              return _results;\n            })()).concat(nodeName).join(\"/\");\n            try {\n              obj = _this.options.validator(xpath, s && s[nodeName], obj);\n            } catch (_error) {\n              err = _error;\n              _this.emit(\"error\", err);\n            }\n          }\n          if (_this.options.explicitChildren && !_this.options.mergeAttrs && typeof obj === 'object') {\n            node = {};\n            if (_this.options.attrkey in obj) {\n              node[_this.options.attrkey] = obj[_this.options.attrkey];\n              delete obj[_this.options.attrkey];\n            }\n            if (!_this.options.charsAsChildren && _this.options.charkey in obj) {\n              node[_this.options.charkey] = obj[_this.options.charkey];\n              delete obj[_this.options.charkey];\n            }\n            if (Object.getOwnPropertyNames(obj).length > 0) {\n              node[_this.options.childkey] = obj;\n            }\n            obj = node;\n          }\n          if (stack.length > 0) {\n            return _this.assignOrPush(s, nodeName, obj);\n          } else {\n            if (_this.options.explicitRoot) {\n              old = obj;\n              obj = {};\n              obj[nodeName] = old;\n            }\n            _this.resultObject = obj;\n            _this.saxParser.ended = true;\n            return _this.emit(\"end\", _this.resultObject);\n          }\n        };\n      })(this);\n      ontext = (function(_this) {\n        return function(text) {\n          var s;\n          s = stack[stack.length - 1];\n          if (s) {\n            s[charkey] += text;\n            return s;\n          }\n        };\n      })(this);\n      this.saxParser.ontext = ontext;\n      return this.saxParser.oncdata = (function(_this) {\n        return function(text) {\n          var s;\n          s = ontext(text);\n          if (s) {\n            return s.cdata = true;\n          }\n        };\n      })(this);\n    };\n\n    Parser.prototype.parseString = function(str, cb) {\n      var err;\n      if ((cb != null) && typeof cb === \"function\") {\n        this.on(\"end\", function(result) {\n          this.reset();\n          if (this.options.async) {\n            return process.nextTick(function() {\n              return cb(null, result);\n            });\n          } else {\n            return cb(null, result);\n          }\n        });\n        this.on(\"error\", function(err) {\n          this.reset();\n          if (this.options.async) {\n            return process.nextTick(function() {\n              return cb(err);\n            });\n          } else {\n            return cb(err);\n          }\n        });\n      }\n      if (str.toString().trim() === '') {\n        this.emit(\"end\", null);\n        return true;\n      }\n      try {\n        return this.saxParser.write(bom.stripBOM(str.toString())).close();\n      } catch (_error) {\n        err = _error;\n        if (!(this.saxParser.errThrown || this.saxParser.ended)) {\n          this.emit('error', err);\n          return this.saxParser.errThrown = true;\n        }\n      }\n    };\n\n    return Parser;\n\n  })(events.EventEmitter);\n\n  exports.parseString = function(str, a, b) {\n    var cb, options, parser;\n    if (b != null) {\n      if (typeof b === 'function') {\n        cb = b;\n      }\n      if (typeof a === 'object') {\n        options = a;\n      }\n    } else {\n      if (typeof a === 'function') {\n        cb = a;\n      }\n      options = {};\n    }\n    parser = new exports.Parser(options);\n    return parser.parseString(str, cb);\n  };\n\n}).call(this);\n\n}).call(this,require('_process'))\n},{\"./bom\":34,\"./processors\":35,\"_process\":16,\"events\":14,\"sax\":37,\"xmlbuilder\":54}],37:[function(require,module,exports){\n(function (Buffer){\n// wrapper for non-node envs\n;(function (sax) {\n\nsax.parser = function (strict, opt) { return new SAXParser(strict, opt) }\nsax.SAXParser = SAXParser\nsax.SAXStream = SAXStream\nsax.createStream = createStream\n\n// When we pass the MAX_BUFFER_LENGTH position, start checking for buffer overruns.\n// When we check, schedule the next check for MAX_BUFFER_LENGTH - (max(buffer lengths)),\n// since that's the earliest that a buffer overrun could occur.  This way, checks are\n// as rare as required, but as often as necessary to ensure never crossing this bound.\n// Furthermore, buffers are only tested at most once per write(), so passing a very\n// large string into write() might have undesirable effects, but this is manageable by\n// the caller, so it is assumed to be safe.  Thus, a call to write() may, in the extreme\n// edge case, result in creating at most one complete copy of the string passed in.\n// Set to Infinity to have unlimited buffers.\nsax.MAX_BUFFER_LENGTH = 64 * 1024\n\nvar buffers = [\n  \"comment\", \"sgmlDecl\", \"textNode\", \"tagName\", \"doctype\",\n  \"procInstName\", \"procInstBody\", \"entity\", \"attribName\",\n  \"attribValue\", \"cdata\", \"script\"\n]\n\nsax.EVENTS = // for discoverability.\n  [ \"text\"\n  , \"processinginstruction\"\n  , \"sgmldeclaration\"\n  , \"doctype\"\n  , \"comment\"\n  , \"attribute\"\n  , \"opentag\"\n  , \"closetag\"\n  , \"opencdata\"\n  , \"cdata\"\n  , \"closecdata\"\n  , \"error\"\n  , \"end\"\n  , \"ready\"\n  , \"script\"\n  , \"opennamespace\"\n  , \"closenamespace\"\n  ]\n\nfunction SAXParser (strict, opt) {\n  if (!(this instanceof SAXParser)) return new SAXParser(strict, opt)\n\n  var parser = this\n  clearBuffers(parser)\n  parser.q = parser.c = \"\"\n  parser.bufferCheckPosition = sax.MAX_BUFFER_LENGTH\n  parser.opt = opt || {}\n  parser.opt.lowercase = parser.opt.lowercase || parser.opt.lowercasetags\n  parser.looseCase = parser.opt.lowercase ? \"toLowerCase\" : \"toUpperCase\"\n  parser.tags = []\n  parser.closed = parser.closedRoot = parser.sawRoot = false\n  parser.tag = parser.error = null\n  parser.strict = !!strict\n  parser.noscript = !!(strict || parser.opt.noscript)\n  parser.state = S.BEGIN\n  parser.ENTITIES = Object.create(sax.ENTITIES)\n  parser.attribList = []\n\n  // namespaces form a prototype chain.\n  // it always points at the current tag,\n  // which protos to its parent tag.\n  if (parser.opt.xmlns) parser.ns = Object.create(rootNS)\n\n  // mostly just for error reporting\n  parser.trackPosition = parser.opt.position !== false\n  if (parser.trackPosition) {\n    parser.position = parser.line = parser.column = 0\n  }\n  emit(parser, \"onready\")\n}\n\nif (!Object.create) Object.create = function (o) {\n  function f () { this.__proto__ = o }\n  f.prototype = o\n  return new f\n}\n\nif (!Object.getPrototypeOf) Object.getPrototypeOf = function (o) {\n  return o.__proto__\n}\n\nif (!Object.keys) Object.keys = function (o) {\n  var a = []\n  for (var i in o) if (o.hasOwnProperty(i)) a.push(i)\n  return a\n}\n\nfunction checkBufferLength (parser) {\n  var maxAllowed = Math.max(sax.MAX_BUFFER_LENGTH, 10)\n    , maxActual = 0\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    var len = parser[buffers[i]].length\n    if (len > maxAllowed) {\n      // Text/cdata nodes can get big, and since they're buffered,\n      // we can get here under normal conditions.\n      // Avoid issues by emitting the text node now,\n      // so at least it won't get any bigger.\n      switch (buffers[i]) {\n        case \"textNode\":\n          closeText(parser)\n        break\n\n        case \"cdata\":\n          emitNode(parser, \"oncdata\", parser.cdata)\n          parser.cdata = \"\"\n        break\n\n        case \"script\":\n          emitNode(parser, \"onscript\", parser.script)\n          parser.script = \"\"\n        break\n\n        default:\n          error(parser, \"Max buffer length exceeded: \"+buffers[i])\n      }\n    }\n    maxActual = Math.max(maxActual, len)\n  }\n  // schedule the next check for the earliest possible buffer overrun.\n  parser.bufferCheckPosition = (sax.MAX_BUFFER_LENGTH - maxActual)\n                             + parser.position\n}\n\nfunction clearBuffers (parser) {\n  for (var i = 0, l = buffers.length; i < l; i ++) {\n    parser[buffers[i]] = \"\"\n  }\n}\n\nfunction flushBuffers (parser) {\n  closeText(parser)\n  if (parser.cdata !== \"\") {\n    emitNode(parser, \"oncdata\", parser.cdata)\n    parser.cdata = \"\"\n  }\n  if (parser.script !== \"\") {\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n}\n\nSAXParser.prototype =\n  { end: function () { end(this) }\n  , write: write\n  , resume: function () { this.error = null; return this }\n  , close: function () { return this.write(null) }\n  , flush: function () { flushBuffers(this) }\n  }\n\ntry {\n  var Stream = require(\"stream\").Stream\n} catch (ex) {\n  var Stream = function () {}\n}\n\n\nvar streamWraps = sax.EVENTS.filter(function (ev) {\n  return ev !== \"error\" && ev !== \"end\"\n})\n\nfunction createStream (strict, opt) {\n  return new SAXStream(strict, opt)\n}\n\nfunction SAXStream (strict, opt) {\n  if (!(this instanceof SAXStream)) return new SAXStream(strict, opt)\n\n  Stream.apply(this)\n\n  this._parser = new SAXParser(strict, opt)\n  this.writable = true\n  this.readable = true\n\n\n  var me = this\n\n  this._parser.onend = function () {\n    me.emit(\"end\")\n  }\n\n  this._parser.onerror = function (er) {\n    me.emit(\"error\", er)\n\n    // if didn't throw, then means error was handled.\n    // go ahead and clear error, so we can write again.\n    me._parser.error = null\n  }\n\n  this._decoder = null;\n\n  streamWraps.forEach(function (ev) {\n    Object.defineProperty(me, \"on\" + ev, {\n      get: function () { return me._parser[\"on\" + ev] },\n      set: function (h) {\n        if (!h) {\n          me.removeAllListeners(ev)\n          return me._parser[\"on\"+ev] = h\n        }\n        me.on(ev, h)\n      },\n      enumerable: true,\n      configurable: false\n    })\n  })\n}\n\nSAXStream.prototype = Object.create(Stream.prototype,\n  { constructor: { value: SAXStream } })\n\nSAXStream.prototype.write = function (data) {\n  if (typeof Buffer === 'function' &&\n      typeof Buffer.isBuffer === 'function' &&\n      Buffer.isBuffer(data)) {\n    if (!this._decoder) {\n      var SD = require('string_decoder').StringDecoder\n      this._decoder = new SD('utf8')\n    }\n    data = this._decoder.write(data);\n  }\n\n  this._parser.write(data.toString())\n  this.emit(\"data\", data)\n  return true\n}\n\nSAXStream.prototype.end = function (chunk) {\n  if (chunk && chunk.length) this.write(chunk)\n  this._parser.end()\n  return true\n}\n\nSAXStream.prototype.on = function (ev, handler) {\n  var me = this\n  if (!me._parser[\"on\"+ev] && streamWraps.indexOf(ev) !== -1) {\n    me._parser[\"on\"+ev] = function () {\n      var args = arguments.length === 1 ? [arguments[0]]\n               : Array.apply(null, arguments)\n      args.splice(0, 0, ev)\n      me.emit.apply(me, args)\n    }\n  }\n\n  return Stream.prototype.on.call(me, ev, handler)\n}\n\n\n\n// character classes and tokens\nvar whitespace = \"\\r\\n\\t \"\n  // this really needs to be replaced with character classes.\n  // XML allows all manner of ridiculous numbers and digits.\n  , number = \"0124356789\"\n  , letter = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\"\n  // (Letter | \"_\" | \":\")\n  , quote = \"'\\\"\"\n  , entity = number+letter+\"#\"\n  , attribEnd = whitespace + \">\"\n  , CDATA = \"[CDATA[\"\n  , DOCTYPE = \"DOCTYPE\"\n  , XML_NAMESPACE = \"http://www.w3.org/XML/1998/namespace\"\n  , XMLNS_NAMESPACE = \"http://www.w3.org/2000/xmlns/\"\n  , rootNS = { xml: XML_NAMESPACE, xmlns: XMLNS_NAMESPACE }\n\n// turn all the string character sets into character class objects.\nwhitespace = charClass(whitespace)\nnumber = charClass(number)\nletter = charClass(letter)\n\n// http://www.w3.org/TR/REC-xml/#NT-NameStartChar\n// This implementation works on strings, a single character at a time\n// as such, it cannot ever support astral-plane characters (10000-EFFFF)\n// without a significant breaking change to either this  parser, or the\n// JavaScript language.  Implementation of an emoji-capable xml parser\n// is left as an exercise for the reader.\nvar nameStart = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/\n\nvar nameBody = /[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040\\.\\d-]/\n\nquote = charClass(quote)\nentity = charClass(entity)\nattribEnd = charClass(attribEnd)\n\nfunction charClass (str) {\n  return str.split(\"\").reduce(function (s, c) {\n    s[c] = true\n    return s\n  }, {})\n}\n\nfunction isRegExp (c) {\n  return Object.prototype.toString.call(c) === '[object RegExp]'\n}\n\nfunction is (charclass, c) {\n  return isRegExp(charclass) ? !!c.match(charclass) : charclass[c]\n}\n\nfunction not (charclass, c) {\n  return !is(charclass, c)\n}\n\nvar S = 0\nsax.STATE =\n{ BEGIN                     : S++\n, TEXT                      : S++ // general stuff\n, TEXT_ENTITY               : S++ // &amp and such.\n, OPEN_WAKA                 : S++ // <\n, SGML_DECL                 : S++ // <!BLARG\n, SGML_DECL_QUOTED          : S++ // <!BLARG foo \"bar\n, DOCTYPE                   : S++ // <!DOCTYPE\n, DOCTYPE_QUOTED            : S++ // <!DOCTYPE \"//blah\n, DOCTYPE_DTD               : S++ // <!DOCTYPE \"//blah\" [ ...\n, DOCTYPE_DTD_QUOTED        : S++ // <!DOCTYPE \"//blah\" [ \"foo\n, COMMENT_STARTING          : S++ // <!-\n, COMMENT                   : S++ // <!--\n, COMMENT_ENDING            : S++ // <!-- blah -\n, COMMENT_ENDED             : S++ // <!-- blah --\n, CDATA                     : S++ // <![CDATA[ something\n, CDATA_ENDING              : S++ // ]\n, CDATA_ENDING_2            : S++ // ]]\n, PROC_INST                 : S++ // <?hi\n, PROC_INST_BODY            : S++ // <?hi there\n, PROC_INST_ENDING          : S++ // <?hi \"there\" ?\n, OPEN_TAG                  : S++ // <strong\n, OPEN_TAG_SLASH            : S++ // <strong /\n, ATTRIB                    : S++ // <a\n, ATTRIB_NAME               : S++ // <a foo\n, ATTRIB_NAME_SAW_WHITE     : S++ // <a foo _\n, ATTRIB_VALUE              : S++ // <a foo=\n, ATTRIB_VALUE_QUOTED       : S++ // <a foo=\"bar\n, ATTRIB_VALUE_CLOSED       : S++ // <a foo=\"bar\"\n, ATTRIB_VALUE_UNQUOTED     : S++ // <a foo=bar\n, ATTRIB_VALUE_ENTITY_Q     : S++ // <foo bar=\"&quot;\"\n, ATTRIB_VALUE_ENTITY_U     : S++ // <foo bar=&quot;\n, CLOSE_TAG                 : S++ // </a\n, CLOSE_TAG_SAW_WHITE       : S++ // </a   >\n, SCRIPT                    : S++ // <script> ...\n, SCRIPT_ENDING             : S++ // <script> ... <\n}\n\nsax.ENTITIES =\n{ \"amp\" : \"&\"\n, \"gt\" : \">\"\n, \"lt\" : \"<\"\n, \"quot\" : \"\\\"\"\n, \"apos\" : \"'\"\n, \"AElig\" : 198\n, \"Aacute\" : 193\n, \"Acirc\" : 194\n, \"Agrave\" : 192\n, \"Aring\" : 197\n, \"Atilde\" : 195\n, \"Auml\" : 196\n, \"Ccedil\" : 199\n, \"ETH\" : 208\n, \"Eacute\" : 201\n, \"Ecirc\" : 202\n, \"Egrave\" : 200\n, \"Euml\" : 203\n, \"Iacute\" : 205\n, \"Icirc\" : 206\n, \"Igrave\" : 204\n, \"Iuml\" : 207\n, \"Ntilde\" : 209\n, \"Oacute\" : 211\n, \"Ocirc\" : 212\n, \"Ograve\" : 210\n, \"Oslash\" : 216\n, \"Otilde\" : 213\n, \"Ouml\" : 214\n, \"THORN\" : 222\n, \"Uacute\" : 218\n, \"Ucirc\" : 219\n, \"Ugrave\" : 217\n, \"Uuml\" : 220\n, \"Yacute\" : 221\n, \"aacute\" : 225\n, \"acirc\" : 226\n, \"aelig\" : 230\n, \"agrave\" : 224\n, \"aring\" : 229\n, \"atilde\" : 227\n, \"auml\" : 228\n, \"ccedil\" : 231\n, \"eacute\" : 233\n, \"ecirc\" : 234\n, \"egrave\" : 232\n, \"eth\" : 240\n, \"euml\" : 235\n, \"iacute\" : 237\n, \"icirc\" : 238\n, \"igrave\" : 236\n, \"iuml\" : 239\n, \"ntilde\" : 241\n, \"oacute\" : 243\n, \"ocirc\" : 244\n, \"ograve\" : 242\n, \"oslash\" : 248\n, \"otilde\" : 245\n, \"ouml\" : 246\n, \"szlig\" : 223\n, \"thorn\" : 254\n, \"uacute\" : 250\n, \"ucirc\" : 251\n, \"ugrave\" : 249\n, \"uuml\" : 252\n, \"yacute\" : 253\n, \"yuml\" : 255\n, \"copy\" : 169\n, \"reg\" : 174\n, \"nbsp\" : 160\n, \"iexcl\" : 161\n, \"cent\" : 162\n, \"pound\" : 163\n, \"curren\" : 164\n, \"yen\" : 165\n, \"brvbar\" : 166\n, \"sect\" : 167\n, \"uml\" : 168\n, \"ordf\" : 170\n, \"laquo\" : 171\n, \"not\" : 172\n, \"shy\" : 173\n, \"macr\" : 175\n, \"deg\" : 176\n, \"plusmn\" : 177\n, \"sup1\" : 185\n, \"sup2\" : 178\n, \"sup3\" : 179\n, \"acute\" : 180\n, \"micro\" : 181\n, \"para\" : 182\n, \"middot\" : 183\n, \"cedil\" : 184\n, \"ordm\" : 186\n, \"raquo\" : 187\n, \"frac14\" : 188\n, \"frac12\" : 189\n, \"frac34\" : 190\n, \"iquest\" : 191\n, \"times\" : 215\n, \"divide\" : 247\n, \"OElig\" : 338\n, \"oelig\" : 339\n, \"Scaron\" : 352\n, \"scaron\" : 353\n, \"Yuml\" : 376\n, \"fnof\" : 402\n, \"circ\" : 710\n, \"tilde\" : 732\n, \"Alpha\" : 913\n, \"Beta\" : 914\n, \"Gamma\" : 915\n, \"Delta\" : 916\n, \"Epsilon\" : 917\n, \"Zeta\" : 918\n, \"Eta\" : 919\n, \"Theta\" : 920\n, \"Iota\" : 921\n, \"Kappa\" : 922\n, \"Lambda\" : 923\n, \"Mu\" : 924\n, \"Nu\" : 925\n, \"Xi\" : 926\n, \"Omicron\" : 927\n, \"Pi\" : 928\n, \"Rho\" : 929\n, \"Sigma\" : 931\n, \"Tau\" : 932\n, \"Upsilon\" : 933\n, \"Phi\" : 934\n, \"Chi\" : 935\n, \"Psi\" : 936\n, \"Omega\" : 937\n, \"alpha\" : 945\n, \"beta\" : 946\n, \"gamma\" : 947\n, \"delta\" : 948\n, \"epsilon\" : 949\n, \"zeta\" : 950\n, \"eta\" : 951\n, \"theta\" : 952\n, \"iota\" : 953\n, \"kappa\" : 954\n, \"lambda\" : 955\n, \"mu\" : 956\n, \"nu\" : 957\n, \"xi\" : 958\n, \"omicron\" : 959\n, \"pi\" : 960\n, \"rho\" : 961\n, \"sigmaf\" : 962\n, \"sigma\" : 963\n, \"tau\" : 964\n, \"upsilon\" : 965\n, \"phi\" : 966\n, \"chi\" : 967\n, \"psi\" : 968\n, \"omega\" : 969\n, \"thetasym\" : 977\n, \"upsih\" : 978\n, \"piv\" : 982\n, \"ensp\" : 8194\n, \"emsp\" : 8195\n, \"thinsp\" : 8201\n, \"zwnj\" : 8204\n, \"zwj\" : 8205\n, \"lrm\" : 8206\n, \"rlm\" : 8207\n, \"ndash\" : 8211\n, \"mdash\" : 8212\n, \"lsquo\" : 8216\n, \"rsquo\" : 8217\n, \"sbquo\" : 8218\n, \"ldquo\" : 8220\n, \"rdquo\" : 8221\n, \"bdquo\" : 8222\n, \"dagger\" : 8224\n, \"Dagger\" : 8225\n, \"bull\" : 8226\n, \"hellip\" : 8230\n, \"permil\" : 8240\n, \"prime\" : 8242\n, \"Prime\" : 8243\n, \"lsaquo\" : 8249\n, \"rsaquo\" : 8250\n, \"oline\" : 8254\n, \"frasl\" : 8260\n, \"euro\" : 8364\n, \"image\" : 8465\n, \"weierp\" : 8472\n, \"real\" : 8476\n, \"trade\" : 8482\n, \"alefsym\" : 8501\n, \"larr\" : 8592\n, \"uarr\" : 8593\n, \"rarr\" : 8594\n, \"darr\" : 8595\n, \"harr\" : 8596\n, \"crarr\" : 8629\n, \"lArr\" : 8656\n, \"uArr\" : 8657\n, \"rArr\" : 8658\n, \"dArr\" : 8659\n, \"hArr\" : 8660\n, \"forall\" : 8704\n, \"part\" : 8706\n, \"exist\" : 8707\n, \"empty\" : 8709\n, \"nabla\" : 8711\n, \"isin\" : 8712\n, \"notin\" : 8713\n, \"ni\" : 8715\n, \"prod\" : 8719\n, \"sum\" : 8721\n, \"minus\" : 8722\n, \"lowast\" : 8727\n, \"radic\" : 8730\n, \"prop\" : 8733\n, \"infin\" : 8734\n, \"ang\" : 8736\n, \"and\" : 8743\n, \"or\" : 8744\n, \"cap\" : 8745\n, \"cup\" : 8746\n, \"int\" : 8747\n, \"there4\" : 8756\n, \"sim\" : 8764\n, \"cong\" : 8773\n, \"asymp\" : 8776\n, \"ne\" : 8800\n, \"equiv\" : 8801\n, \"le\" : 8804\n, \"ge\" : 8805\n, \"sub\" : 8834\n, \"sup\" : 8835\n, \"nsub\" : 8836\n, \"sube\" : 8838\n, \"supe\" : 8839\n, \"oplus\" : 8853\n, \"otimes\" : 8855\n, \"perp\" : 8869\n, \"sdot\" : 8901\n, \"lceil\" : 8968\n, \"rceil\" : 8969\n, \"lfloor\" : 8970\n, \"rfloor\" : 8971\n, \"lang\" : 9001\n, \"rang\" : 9002\n, \"loz\" : 9674\n, \"spades\" : 9824\n, \"clubs\" : 9827\n, \"hearts\" : 9829\n, \"diams\" : 9830\n}\n\nObject.keys(sax.ENTITIES).forEach(function (key) {\n    var e = sax.ENTITIES[key]\n    var s = typeof e === 'number' ? String.fromCharCode(e) : e\n    sax.ENTITIES[key] = s\n})\n\nfor (var S in sax.STATE) sax.STATE[sax.STATE[S]] = S\n\n// shorthand\nS = sax.STATE\n\nfunction emit (parser, event, data) {\n  parser[event] && parser[event](data)\n}\n\nfunction emitNode (parser, nodeType, data) {\n  if (parser.textNode) closeText(parser)\n  emit(parser, nodeType, data)\n}\n\nfunction closeText (parser) {\n  parser.textNode = textopts(parser.opt, parser.textNode)\n  if (parser.textNode) emit(parser, \"ontext\", parser.textNode)\n  parser.textNode = \"\"\n}\n\nfunction textopts (opt, text) {\n  if (opt.trim) text = text.trim()\n  if (opt.normalize) text = text.replace(/\\s+/g, \" \")\n  return text\n}\n\nfunction error (parser, er) {\n  closeText(parser)\n  if (parser.trackPosition) {\n    er += \"\\nLine: \"+parser.line+\n          \"\\nColumn: \"+parser.column+\n          \"\\nChar: \"+parser.c\n  }\n  er = new Error(er)\n  parser.error = er\n  emit(parser, \"onerror\", er)\n  return parser\n}\n\nfunction end (parser) {\n  if (!parser.closedRoot) strictFail(parser, \"Unclosed root tag\")\n  if ((parser.state !== S.BEGIN) && (parser.state !== S.TEXT)) error(parser, \"Unexpected end\")\n  closeText(parser)\n  parser.c = \"\"\n  parser.closed = true\n  emit(parser, \"onend\")\n  SAXParser.call(parser, parser.strict, parser.opt)\n  return parser\n}\n\nfunction strictFail (parser, message) {\n  if (typeof parser !== 'object' || !(parser instanceof SAXParser))\n    throw new Error('bad call to strictFail');\n  if (parser.strict) error(parser, message)\n}\n\nfunction newTag (parser) {\n  if (!parser.strict) parser.tagName = parser.tagName[parser.looseCase]()\n  var parent = parser.tags[parser.tags.length - 1] || parser\n    , tag = parser.tag = { name : parser.tagName, attributes : {} }\n\n  // will be overridden if tag contails an xmlns=\"foo\" or xmlns:foo=\"bar\"\n  if (parser.opt.xmlns) tag.ns = parent.ns\n  parser.attribList.length = 0\n}\n\nfunction qname (name, attribute) {\n  var i = name.indexOf(\":\")\n    , qualName = i < 0 ? [ \"\", name ] : name.split(\":\")\n    , prefix = qualName[0]\n    , local = qualName[1]\n\n  // <x \"xmlns\"=\"http://foo\">\n  if (attribute && name === \"xmlns\") {\n    prefix = \"xmlns\"\n    local = \"\"\n  }\n\n  return { prefix: prefix, local: local }\n}\n\nfunction attrib (parser) {\n  if (!parser.strict) parser.attribName = parser.attribName[parser.looseCase]()\n\n  if (parser.attribList.indexOf(parser.attribName) !== -1 ||\n      parser.tag.attributes.hasOwnProperty(parser.attribName)) {\n    return parser.attribName = parser.attribValue = \"\"\n  }\n\n  if (parser.opt.xmlns) {\n    var qn = qname(parser.attribName, true)\n      , prefix = qn.prefix\n      , local = qn.local\n\n    if (prefix === \"xmlns\") {\n      // namespace binding attribute; push the binding into scope\n      if (local === \"xml\" && parser.attribValue !== XML_NAMESPACE) {\n        strictFail( parser\n                  , \"xml: prefix must be bound to \" + XML_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else if (local === \"xmlns\" && parser.attribValue !== XMLNS_NAMESPACE) {\n        strictFail( parser\n                  , \"xmlns: prefix must be bound to \" + XMLNS_NAMESPACE + \"\\n\"\n                  + \"Actual: \" + parser.attribValue )\n      } else {\n        var tag = parser.tag\n          , parent = parser.tags[parser.tags.length - 1] || parser\n        if (tag.ns === parent.ns) {\n          tag.ns = Object.create(parent.ns)\n        }\n        tag.ns[local] = parser.attribValue\n      }\n    }\n\n    // defer onattribute events until all attributes have been seen\n    // so any new bindings can take effect; preserve attribute order\n    // so deferred events can be emitted in document order\n    parser.attribList.push([parser.attribName, parser.attribValue])\n  } else {\n    // in non-xmlns mode, we can emit the event right away\n    parser.tag.attributes[parser.attribName] = parser.attribValue\n    emitNode( parser\n            , \"onattribute\"\n            , { name: parser.attribName\n              , value: parser.attribValue } )\n  }\n\n  parser.attribName = parser.attribValue = \"\"\n}\n\nfunction openTag (parser, selfClosing) {\n  if (parser.opt.xmlns) {\n    // emit namespace binding events\n    var tag = parser.tag\n\n    // add namespace info to tag\n    var qn = qname(parser.tagName)\n    tag.prefix = qn.prefix\n    tag.local = qn.local\n    tag.uri = tag.ns[qn.prefix] || \"\"\n\n    if (tag.prefix && !tag.uri) {\n      strictFail(parser, \"Unbound namespace prefix: \"\n                       + JSON.stringify(parser.tagName))\n      tag.uri = qn.prefix\n    }\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (tag.ns && parent.ns !== tag.ns) {\n      Object.keys(tag.ns).forEach(function (p) {\n        emitNode( parser\n                , \"onopennamespace\"\n                , { prefix: p , uri: tag.ns[p] } )\n      })\n    }\n\n    // handle deferred onattribute events\n    // Note: do not apply default ns to attributes:\n    //   http://www.w3.org/TR/REC-xml-names/#defaulting\n    for (var i = 0, l = parser.attribList.length; i < l; i ++) {\n      var nv = parser.attribList[i]\n      var name = nv[0]\n        , value = nv[1]\n        , qualName = qname(name, true)\n        , prefix = qualName.prefix\n        , local = qualName.local\n        , uri = prefix == \"\" ? \"\" : (tag.ns[prefix] || \"\")\n        , a = { name: name\n              , value: value\n              , prefix: prefix\n              , local: local\n              , uri: uri\n              }\n\n      // if there's any attributes with an undefined namespace,\n      // then fail on them now.\n      if (prefix && prefix != \"xmlns\" && !uri) {\n        strictFail(parser, \"Unbound namespace prefix: \"\n                         + JSON.stringify(prefix))\n        a.uri = prefix\n      }\n      parser.tag.attributes[name] = a\n      emitNode(parser, \"onattribute\", a)\n    }\n    parser.attribList.length = 0\n  }\n\n  parser.tag.isSelfClosing = !!selfClosing\n\n  // process the tag\n  parser.sawRoot = true\n  parser.tags.push(parser.tag)\n  emitNode(parser, \"onopentag\", parser.tag)\n  if (!selfClosing) {\n    // special case for <script> in non-strict mode.\n    if (!parser.noscript && parser.tagName.toLowerCase() === \"script\") {\n      parser.state = S.SCRIPT\n    } else {\n      parser.state = S.TEXT\n    }\n    parser.tag = null\n    parser.tagName = \"\"\n  }\n  parser.attribName = parser.attribValue = \"\"\n  parser.attribList.length = 0\n}\n\nfunction closeTag (parser) {\n  if (!parser.tagName) {\n    strictFail(parser, \"Weird empty close tag.\")\n    parser.textNode += \"</>\"\n    parser.state = S.TEXT\n    return\n  }\n\n  if (parser.script) {\n    if (parser.tagName !== \"script\") {\n      parser.script += \"</\" + parser.tagName + \">\"\n      parser.tagName = \"\"\n      parser.state = S.SCRIPT\n      return\n    }\n    emitNode(parser, \"onscript\", parser.script)\n    parser.script = \"\"\n  }\n\n  // first make sure that the closing tag actually exists.\n  // <a><b></c></b></a> will close everything, otherwise.\n  var t = parser.tags.length\n  var tagName = parser.tagName\n  if (!parser.strict) tagName = tagName[parser.looseCase]()\n  var closeTo = tagName\n  while (t --) {\n    var close = parser.tags[t]\n    if (close.name !== closeTo) {\n      // fail the first time in strict mode\n      strictFail(parser, \"Unexpected close tag\")\n    } else break\n  }\n\n  // didn't find it.  we already failed for strict, so just abort.\n  if (t < 0) {\n    strictFail(parser, \"Unmatched closing tag: \"+parser.tagName)\n    parser.textNode += \"</\" + parser.tagName + \">\"\n    parser.state = S.TEXT\n    return\n  }\n  parser.tagName = tagName\n  var s = parser.tags.length\n  while (s --> t) {\n    var tag = parser.tag = parser.tags.pop()\n    parser.tagName = parser.tag.name\n    emitNode(parser, \"onclosetag\", parser.tagName)\n\n    var x = {}\n    for (var i in tag.ns) x[i] = tag.ns[i]\n\n    var parent = parser.tags[parser.tags.length - 1] || parser\n    if (parser.opt.xmlns && tag.ns !== parent.ns) {\n      // remove namespace bindings introduced by tag\n      Object.keys(tag.ns).forEach(function (p) {\n        var n = tag.ns[p]\n        emitNode(parser, \"onclosenamespace\", { prefix: p, uri: n })\n      })\n    }\n  }\n  if (t === 0) parser.closedRoot = true\n  parser.tagName = parser.attribValue = parser.attribName = \"\"\n  parser.attribList.length = 0\n  parser.state = S.TEXT\n}\n\nfunction parseEntity (parser) {\n  var entity = parser.entity\n    , entityLC = entity.toLowerCase()\n    , num\n    , numStr = \"\"\n  if (parser.ENTITIES[entity])\n    return parser.ENTITIES[entity]\n  if (parser.ENTITIES[entityLC])\n    return parser.ENTITIES[entityLC]\n  entity = entityLC\n  if (entity.charAt(0) === \"#\") {\n    if (entity.charAt(1) === \"x\") {\n      entity = entity.slice(2)\n      num = parseInt(entity, 16)\n      numStr = num.toString(16)\n    } else {\n      entity = entity.slice(1)\n      num = parseInt(entity, 10)\n      numStr = num.toString(10)\n    }\n  }\n  entity = entity.replace(/^0+/, \"\")\n  if (numStr.toLowerCase() !== entity) {\n    strictFail(parser, \"Invalid character entity\")\n    return \"&\"+parser.entity + \";\"\n  }\n\n  return String.fromCodePoint(num)\n}\n\nfunction write (chunk) {\n  var parser = this\n  if (this.error) throw this.error\n  if (parser.closed) return error(parser,\n    \"Cannot write after close. Assign an onready handler.\")\n  if (chunk === null) return end(parser)\n  var i = 0, c = \"\"\n  while (parser.c = c = chunk.charAt(i++)) {\n    if (parser.trackPosition) {\n      parser.position ++\n      if (c === \"\\n\") {\n        parser.line ++\n        parser.column = 0\n      } else parser.column ++\n    }\n    switch (parser.state) {\n\n      case S.BEGIN:\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else if (not(whitespace,c)) {\n          // have to process this as a text node.\n          // weird, but happens.\n          strictFail(parser, \"Non-whitespace before first tag.\")\n          parser.textNode = c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.TEXT:\n        if (parser.sawRoot && !parser.closedRoot) {\n          var starti = i-1\n          while (c && c!==\"<\" && c!==\"&\") {\n            c = chunk.charAt(i++)\n            if (c && parser.trackPosition) {\n              parser.position ++\n              if (c === \"\\n\") {\n                parser.line ++\n                parser.column = 0\n              } else parser.column ++\n            }\n          }\n          parser.textNode += chunk.substring(starti, i-1)\n        }\n        if (c === \"<\") {\n          parser.state = S.OPEN_WAKA\n          parser.startTagPosition = parser.position\n        } else {\n          if (not(whitespace, c) && (!parser.sawRoot || parser.closedRoot))\n            strictFail(parser, \"Text data outside of root node.\")\n          if (c === \"&\") parser.state = S.TEXT_ENTITY\n          else parser.textNode += c\n        }\n      continue\n\n      case S.SCRIPT:\n        // only non-strict\n        if (c === \"<\") {\n          parser.state = S.SCRIPT_ENDING\n        } else parser.script += c\n      continue\n\n      case S.SCRIPT_ENDING:\n        if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n        } else {\n          parser.script += \"<\" + c\n          parser.state = S.SCRIPT\n        }\n      continue\n\n      case S.OPEN_WAKA:\n        // either a /, ?, !, or text is coming next.\n        if (c === \"!\") {\n          parser.state = S.SGML_DECL\n          parser.sgmlDecl = \"\"\n        } else if (is(whitespace, c)) {\n          // wait for it...\n        } else if (is(nameStart,c)) {\n          parser.state = S.OPEN_TAG\n          parser.tagName = c\n        } else if (c === \"/\") {\n          parser.state = S.CLOSE_TAG\n          parser.tagName = \"\"\n        } else if (c === \"?\") {\n          parser.state = S.PROC_INST\n          parser.procInstName = parser.procInstBody = \"\"\n        } else {\n          strictFail(parser, \"Unencoded <\")\n          // if there was some whitespace, then add that in.\n          if (parser.startTagPosition + 1 < parser.position) {\n            var pad = parser.position - parser.startTagPosition\n            c = new Array(pad).join(\" \") + c\n          }\n          parser.textNode += \"<\" + c\n          parser.state = S.TEXT\n        }\n      continue\n\n      case S.SGML_DECL:\n        if ((parser.sgmlDecl+c).toUpperCase() === CDATA) {\n          emitNode(parser, \"onopencdata\")\n          parser.state = S.CDATA\n          parser.sgmlDecl = \"\"\n          parser.cdata = \"\"\n        } else if (parser.sgmlDecl+c === \"--\") {\n          parser.state = S.COMMENT\n          parser.comment = \"\"\n          parser.sgmlDecl = \"\"\n        } else if ((parser.sgmlDecl+c).toUpperCase() === DOCTYPE) {\n          parser.state = S.DOCTYPE\n          if (parser.doctype || parser.sawRoot) strictFail(parser,\n            \"Inappropriately located doctype declaration\")\n          parser.doctype = \"\"\n          parser.sgmlDecl = \"\"\n        } else if (c === \">\") {\n          emitNode(parser, \"onsgmldeclaration\", parser.sgmlDecl)\n          parser.sgmlDecl = \"\"\n          parser.state = S.TEXT\n        } else if (is(quote, c)) {\n          parser.state = S.SGML_DECL_QUOTED\n          parser.sgmlDecl += c\n        } else parser.sgmlDecl += c\n      continue\n\n      case S.SGML_DECL_QUOTED:\n        if (c === parser.q) {\n          parser.state = S.SGML_DECL\n          parser.q = \"\"\n        }\n        parser.sgmlDecl += c\n      continue\n\n      case S.DOCTYPE:\n        if (c === \">\") {\n          parser.state = S.TEXT\n          emitNode(parser, \"ondoctype\", parser.doctype)\n          parser.doctype = true // just remember that we saw it.\n        } else {\n          parser.doctype += c\n          if (c === \"[\") parser.state = S.DOCTYPE_DTD\n          else if (is(quote, c)) {\n            parser.state = S.DOCTYPE_QUOTED\n            parser.q = c\n          }\n        }\n      continue\n\n      case S.DOCTYPE_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.q = \"\"\n          parser.state = S.DOCTYPE\n        }\n      continue\n\n      case S.DOCTYPE_DTD:\n        parser.doctype += c\n        if (c === \"]\") parser.state = S.DOCTYPE\n        else if (is(quote,c)) {\n          parser.state = S.DOCTYPE_DTD_QUOTED\n          parser.q = c\n        }\n      continue\n\n      case S.DOCTYPE_DTD_QUOTED:\n        parser.doctype += c\n        if (c === parser.q) {\n          parser.state = S.DOCTYPE_DTD\n          parser.q = \"\"\n        }\n      continue\n\n      case S.COMMENT:\n        if (c === \"-\") parser.state = S.COMMENT_ENDING\n        else parser.comment += c\n      continue\n\n      case S.COMMENT_ENDING:\n        if (c === \"-\") {\n          parser.state = S.COMMENT_ENDED\n          parser.comment = textopts(parser.opt, parser.comment)\n          if (parser.comment) emitNode(parser, \"oncomment\", parser.comment)\n          parser.comment = \"\"\n        } else {\n          parser.comment += \"-\" + c\n          parser.state = S.COMMENT\n        }\n      continue\n\n      case S.COMMENT_ENDED:\n        if (c !== \">\") {\n          strictFail(parser, \"Malformed comment\")\n          // allow <!-- blah -- bloo --> in non-strict mode,\n          // which is a comment of \" blah -- bloo \"\n          parser.comment += \"--\" + c\n          parser.state = S.COMMENT\n        } else parser.state = S.TEXT\n      continue\n\n      case S.CDATA:\n        if (c === \"]\") parser.state = S.CDATA_ENDING\n        else parser.cdata += c\n      continue\n\n      case S.CDATA_ENDING:\n        if (c === \"]\") parser.state = S.CDATA_ENDING_2\n        else {\n          parser.cdata += \"]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.CDATA_ENDING_2:\n        if (c === \">\") {\n          if (parser.cdata) emitNode(parser, \"oncdata\", parser.cdata)\n          emitNode(parser, \"onclosecdata\")\n          parser.cdata = \"\"\n          parser.state = S.TEXT\n        } else if (c === \"]\") {\n          parser.cdata += \"]\"\n        } else {\n          parser.cdata += \"]]\" + c\n          parser.state = S.CDATA\n        }\n      continue\n\n      case S.PROC_INST:\n        if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else if (is(whitespace, c)) parser.state = S.PROC_INST_BODY\n        else parser.procInstName += c\n      continue\n\n      case S.PROC_INST_BODY:\n        if (!parser.procInstBody && is(whitespace, c)) continue\n        else if (c === \"?\") parser.state = S.PROC_INST_ENDING\n        else parser.procInstBody += c\n      continue\n\n      case S.PROC_INST_ENDING:\n        if (c === \">\") {\n          emitNode(parser, \"onprocessinginstruction\", {\n            name : parser.procInstName,\n            body : parser.procInstBody\n          })\n          parser.procInstName = parser.procInstBody = \"\"\n          parser.state = S.TEXT\n        } else {\n          parser.procInstBody += \"?\" + c\n          parser.state = S.PROC_INST_BODY\n        }\n      continue\n\n      case S.OPEN_TAG:\n        if (is(nameBody, c)) parser.tagName += c\n        else {\n          newTag(parser)\n          if (c === \">\") openTag(parser)\n          else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n          else {\n            if (not(whitespace, c)) strictFail(\n              parser, \"Invalid character in tag name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.OPEN_TAG_SLASH:\n        if (c === \">\") {\n          openTag(parser, true)\n          closeTag(parser)\n        } else {\n          strictFail(parser, \"Forward-slash in opening tag not followed by >\")\n          parser.state = S.ATTRIB\n        }\n      continue\n\n      case S.ATTRIB:\n        // haven't read the attribute name yet.\n        if (is(whitespace, c)) continue\n        else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (c === \">\") {\n          strictFail(parser, \"Attribute without value\")\n          parser.attribValue = parser.attribName\n          attrib(parser)\n          openTag(parser)\n        }\n        else if (is(whitespace, c)) parser.state = S.ATTRIB_NAME_SAW_WHITE\n        else if (is(nameBody, c)) parser.attribName += c\n        else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_NAME_SAW_WHITE:\n        if (c === \"=\") parser.state = S.ATTRIB_VALUE\n        else if (is(whitespace, c)) continue\n        else {\n          strictFail(parser, \"Attribute without value\")\n          parser.tag.attributes[parser.attribName] = \"\"\n          parser.attribValue = \"\"\n          emitNode(parser, \"onattribute\",\n                   { name : parser.attribName, value : \"\" })\n          parser.attribName = \"\"\n          if (c === \">\") openTag(parser)\n          else if (is(nameStart, c)) {\n            parser.attribName = c\n            parser.state = S.ATTRIB_NAME\n          } else {\n            strictFail(parser, \"Invalid attribute name\")\n            parser.state = S.ATTRIB\n          }\n        }\n      continue\n\n      case S.ATTRIB_VALUE:\n        if (is(whitespace, c)) continue\n        else if (is(quote, c)) {\n          parser.q = c\n          parser.state = S.ATTRIB_VALUE_QUOTED\n        } else {\n          strictFail(parser, \"Unquoted attribute value\")\n          parser.state = S.ATTRIB_VALUE_UNQUOTED\n          parser.attribValue = c\n        }\n      continue\n\n      case S.ATTRIB_VALUE_QUOTED:\n        if (c !== parser.q) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_Q\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        parser.q = \"\"\n        parser.state = S.ATTRIB_VALUE_CLOSED\n      continue\n\n      case S.ATTRIB_VALUE_CLOSED:\n        if (is(whitespace, c)) {\n          parser.state = S.ATTRIB\n        } else if (c === \">\") openTag(parser)\n        else if (c === \"/\") parser.state = S.OPEN_TAG_SLASH\n        else if (is(nameStart, c)) {\n          strictFail(parser, \"No whitespace between attributes\")\n          parser.attribName = c\n          parser.attribValue = \"\"\n          parser.state = S.ATTRIB_NAME\n        } else strictFail(parser, \"Invalid attribute name\")\n      continue\n\n      case S.ATTRIB_VALUE_UNQUOTED:\n        if (not(attribEnd,c)) {\n          if (c === \"&\") parser.state = S.ATTRIB_VALUE_ENTITY_U\n          else parser.attribValue += c\n          continue\n        }\n        attrib(parser)\n        if (c === \">\") openTag(parser)\n        else parser.state = S.ATTRIB\n      continue\n\n      case S.CLOSE_TAG:\n        if (!parser.tagName) {\n          if (is(whitespace, c)) continue\n          else if (not(nameStart, c)) {\n            if (parser.script) {\n              parser.script += \"</\" + c\n              parser.state = S.SCRIPT\n            } else {\n              strictFail(parser, \"Invalid tagname in closing tag.\")\n            }\n          } else parser.tagName = c\n        }\n        else if (c === \">\") closeTag(parser)\n        else if (is(nameBody, c)) parser.tagName += c\n        else if (parser.script) {\n          parser.script += \"</\" + parser.tagName\n          parser.tagName = \"\"\n          parser.state = S.SCRIPT\n        } else {\n          if (not(whitespace, c)) strictFail(parser,\n            \"Invalid tagname in closing tag\")\n          parser.state = S.CLOSE_TAG_SAW_WHITE\n        }\n      continue\n\n      case S.CLOSE_TAG_SAW_WHITE:\n        if (is(whitespace, c)) continue\n        if (c === \">\") closeTag(parser)\n        else strictFail(parser, \"Invalid characters in closing tag\")\n      continue\n\n      case S.TEXT_ENTITY:\n      case S.ATTRIB_VALUE_ENTITY_Q:\n      case S.ATTRIB_VALUE_ENTITY_U:\n        switch(parser.state) {\n          case S.TEXT_ENTITY:\n            var returnState = S.TEXT, buffer = \"textNode\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_Q:\n            var returnState = S.ATTRIB_VALUE_QUOTED, buffer = \"attribValue\"\n          break\n\n          case S.ATTRIB_VALUE_ENTITY_U:\n            var returnState = S.ATTRIB_VALUE_UNQUOTED, buffer = \"attribValue\"\n          break\n        }\n        if (c === \";\") {\n          parser[buffer] += parseEntity(parser)\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n        else if (is(entity, c)) parser.entity += c\n        else {\n          strictFail(parser, \"Invalid character entity\")\n          parser[buffer] += \"&\" + parser.entity + c\n          parser.entity = \"\"\n          parser.state = returnState\n        }\n      continue\n\n      default:\n        throw new Error(parser, \"Unknown state: \" + parser.state)\n    }\n  } // while\n  // cdata blocks can get very big under normal conditions. emit and move on.\n  // if (parser.state === S.CDATA && parser.cdata) {\n  //   emitNode(parser, \"oncdata\", parser.cdata)\n  //   parser.cdata = \"\"\n  // }\n  if (parser.position >= parser.bufferCheckPosition) checkBufferLength(parser)\n  return parser\n}\n\n/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */\nif (!String.fromCodePoint) {\n        (function() {\n                var stringFromCharCode = String.fromCharCode;\n                var floor = Math.floor;\n                var fromCodePoint = function() {\n                        var MAX_SIZE = 0x4000;\n                        var codeUnits = [];\n                        var highSurrogate;\n                        var lowSurrogate;\n                        var index = -1;\n                        var length = arguments.length;\n                        if (!length) {\n                                return '';\n                        }\n                        var result = '';\n                        while (++index < length) {\n                                var codePoint = Number(arguments[index]);\n                                if (\n                                        !isFinite(codePoint) || // `NaN`, `+Infinity`, or `-Infinity`\n                                        codePoint < 0 || // not a valid Unicode code point\n                                        codePoint > 0x10FFFF || // not a valid Unicode code point\n                                        floor(codePoint) != codePoint // not an integer\n                                ) {\n                                        throw RangeError('Invalid code point: ' + codePoint);\n                                }\n                                if (codePoint <= 0xFFFF) { // BMP code point\n                                        codeUnits.push(codePoint);\n                                } else { // Astral code point; split in surrogate halves\n                                        // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n                                        codePoint -= 0x10000;\n                                        highSurrogate = (codePoint >> 10) + 0xD800;\n                                        lowSurrogate = (codePoint % 0x400) + 0xDC00;\n                                        codeUnits.push(highSurrogate, lowSurrogate);\n                                }\n                                if (index + 1 == length || codeUnits.length > MAX_SIZE) {\n                                        result += stringFromCharCode.apply(null, codeUnits);\n                                        codeUnits.length = 0;\n                                }\n                        }\n                        return result;\n                };\n                if (Object.defineProperty) {\n                        Object.defineProperty(String, 'fromCodePoint', {\n                                'value': fromCodePoint,\n                                'configurable': true,\n                                'writable': true\n                        });\n                } else {\n                        String.fromCodePoint = fromCodePoint;\n                }\n        }());\n}\n\n})(typeof exports === \"undefined\" ? sax = {} : exports)\n\n}).call(this,require(\"buffer\").Buffer)\n},{\"buffer\":10,\"stream\":17,\"string_decoder\":18}],38:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLAttribute = (function() {\n    function XMLAttribute(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing attribute value\");\n      }\n      this.name = this.stringify.attName(name);\n      this.value = this.stringify.attValue(value);\n    }\n\n    XMLAttribute.prototype.clone = function() {\n      return create(XMLAttribute.prototype, this);\n    };\n\n    XMLAttribute.prototype.toString = function(options, level) {\n      return ' ' + this.name + '=\"' + this.value + '\"';\n    };\n\n    return XMLAttribute;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":67}],39:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, XMLDeclaration, XMLDocType, XMLElement, XMLStringifier;\n\n  XMLStringifier = require('./XMLStringifier');\n\n  XMLDeclaration = require('./XMLDeclaration');\n\n  XMLDocType = require('./XMLDocType');\n\n  XMLElement = require('./XMLElement');\n\n  module.exports = XMLBuilder = (function() {\n    function XMLBuilder(name, options) {\n      var root, temp;\n      if (name == null) {\n        throw new Error(\"Root element needs a name\");\n      }\n      if (options == null) {\n        options = {};\n      }\n      this.options = options;\n      this.stringify = new XMLStringifier(options);\n      temp = new XMLElement(this, 'doc');\n      root = temp.element(name);\n      root.isRoot = true;\n      root.documentObject = this;\n      this.rootObject = root;\n      if (!options.headless) {\n        root.declaration(options);\n        if ((options.pubID != null) || (options.sysID != null)) {\n          root.doctype(options);\n        }\n      }\n    }\n\n    XMLBuilder.prototype.root = function() {\n      return this.rootObject;\n    };\n\n    XMLBuilder.prototype.end = function(options) {\n      return this.toString(options);\n    };\n\n    XMLBuilder.prototype.toString = function(options) {\n      var indent, newline, pretty, r, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      r = '';\n      if (this.xmldec != null) {\n        r += this.xmldec.toString(options);\n      }\n      if (this.doctype != null) {\n        r += this.doctype.toString(options);\n      }\n      r += this.rootObject.toString(options);\n      if (pretty && r.slice(-newline.length) === newline) {\n        r = r.slice(0, -newline.length);\n      }\n      return r;\n    };\n\n    return XMLBuilder;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLDeclaration\":46,\"./XMLDocType\":47,\"./XMLElement\":48,\"./XMLStringifier\":52}],40:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLCData, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLCData = (function(_super) {\n    __extends(XMLCData, _super);\n\n    function XMLCData(parent, text) {\n      XMLCData.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing CDATA text\");\n      }\n      this.text = this.stringify.cdata(text);\n    }\n\n    XMLCData.prototype.clone = function() {\n      return create(XMLCData.prototype, this);\n    };\n\n    XMLCData.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<![CDATA[' + this.text + ']]>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLCData;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":49,\"lodash-node/modern/objects/create\":67}],41:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLComment, XMLNode, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLComment = (function(_super) {\n    __extends(XMLComment, _super);\n\n    function XMLComment(parent, text) {\n      XMLComment.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing comment text\");\n      }\n      this.text = this.stringify.comment(text);\n    }\n\n    XMLComment.prototype.clone = function() {\n      return create(XMLComment.prototype, this);\n    };\n\n    XMLComment.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!-- ' + this.text + ' -->';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLComment;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":49,\"lodash-node/modern/objects/create\":67}],42:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDAttList, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLDTDAttList = (function() {\n    function XMLDTDAttList(parent, elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      this.stringify = parent.stringify;\n      if (elementName == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (attributeName == null) {\n        throw new Error(\"Missing DTD attribute name\");\n      }\n      if (!attributeType) {\n        throw new Error(\"Missing DTD attribute type\");\n      }\n      if (!defaultValueType) {\n        throw new Error(\"Missing DTD attribute default\");\n      }\n      if (defaultValueType.indexOf('#') !== 0) {\n        defaultValueType = '#' + defaultValueType;\n      }\n      if (!defaultValueType.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT\");\n      }\n      if (defaultValue && !defaultValueType.match(/^(#FIXED|#DEFAULT)$/)) {\n        throw new Error(\"Default value only applies to #FIXED or #DEFAULT\");\n      }\n      this.elementName = this.stringify.eleName(elementName);\n      this.attributeName = this.stringify.attName(attributeName);\n      this.attributeType = this.stringify.dtdAttType(attributeType);\n      this.defaultValue = this.stringify.dtdAttDefault(defaultValue);\n      this.defaultValueType = defaultValueType;\n    }\n\n    XMLDTDAttList.prototype.clone = function() {\n      return create(XMLDTDAttList.prototype, this);\n    };\n\n    XMLDTDAttList.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ATTLIST ' + this.elementName + ' ' + this.attributeName + ' ' + this.attributeType;\n      if (this.defaultValueType !== '#DEFAULT') {\n        r += ' ' + this.defaultValueType;\n      }\n      if (this.defaultValue) {\n        r += ' \"' + this.defaultValue + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDAttList;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":67}],43:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDElement, create, isArray;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  module.exports = XMLDTDElement = (function() {\n    function XMLDTDElement(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing DTD element name\");\n      }\n      if (!value) {\n        value = '(#PCDATA)';\n      }\n      if (isArray(value)) {\n        value = '(' + value.join(',') + ')';\n      }\n      this.name = this.stringify.eleName(name);\n      this.value = this.stringify.dtdElementValue(value);\n    }\n\n    XMLDTDElement.prototype.clone = function() {\n      return create(XMLDTDElement.prototype, this);\n    };\n\n    XMLDTDElement.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ELEMENT ' + this.name + ' ' + this.value + '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDElement;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":67,\"lodash-node/modern/objects/isArray\":69}],44:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDEntity, create, isObject;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  module.exports = XMLDTDEntity = (function() {\n    function XMLDTDEntity(parent, pe, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing entity name\");\n      }\n      if (value == null) {\n        throw new Error(\"Missing entity value\");\n      }\n      this.pe = !!pe;\n      this.name = this.stringify.eleName(name);\n      if (!isObject(value)) {\n        this.value = this.stringify.dtdEntityValue(value);\n      } else {\n        if (!value.pubID && !value.sysID) {\n          throw new Error(\"Public and/or system identifiers are required for an external entity\");\n        }\n        if (value.pubID && !value.sysID) {\n          throw new Error(\"System identifier is required for a public external entity\");\n        }\n        if (value.pubID != null) {\n          this.pubID = this.stringify.dtdPubID(value.pubID);\n        }\n        if (value.sysID != null) {\n          this.sysID = this.stringify.dtdSysID(value.sysID);\n        }\n        if (value.nData != null) {\n          this.nData = this.stringify.dtdNData(value.nData);\n        }\n        if (this.pe && this.nData) {\n          throw new Error(\"Notation declaration is not allowed in a parameter entity\");\n        }\n      }\n    }\n\n    XMLDTDEntity.prototype.clone = function() {\n      return create(XMLDTDEntity.prototype, this);\n    };\n\n    XMLDTDEntity.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!ENTITY';\n      if (this.pe) {\n        r += ' %';\n      }\n      r += ' ' + this.name;\n      if (this.value) {\n        r += ' \"' + this.value + '\"';\n      } else {\n        if (this.pubID && this.sysID) {\n          r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n        } else if (this.sysID) {\n          r += ' SYSTEM \"' + this.sysID + '\"';\n        }\n        if (this.nData) {\n          r += ' NDATA ' + this.nData;\n        }\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDEntity;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":67,\"lodash-node/modern/objects/isObject\":72}],45:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDTDNotation, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLDTDNotation = (function() {\n    function XMLDTDNotation(parent, name, value) {\n      this.stringify = parent.stringify;\n      if (name == null) {\n        throw new Error(\"Missing notation name\");\n      }\n      if (!value.pubID && !value.sysID) {\n        throw new Error(\"Public or system identifiers are required for an external entity\");\n      }\n      this.name = this.stringify.eleName(name);\n      if (value.pubID != null) {\n        this.pubID = this.stringify.dtdPubID(value.pubID);\n      }\n      if (value.sysID != null) {\n        this.sysID = this.stringify.dtdSysID(value.sysID);\n      }\n    }\n\n    XMLDTDNotation.prototype.clone = function() {\n      return create(XMLDTDNotation.prototype, this);\n    };\n\n    XMLDTDNotation.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!NOTATION ' + this.name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.pubID) {\n        r += ' PUBLIC \"' + this.pubID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDTDNotation;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":67}],46:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDeclaration, XMLNode, create, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLDeclaration = (function(_super) {\n    __extends(XMLDeclaration, _super);\n\n    function XMLDeclaration(parent, version, encoding, standalone) {\n      var _ref;\n      XMLDeclaration.__super__.constructor.call(this, parent);\n      if (isObject(version)) {\n        _ref = version, version = _ref.version, encoding = _ref.encoding, standalone = _ref.standalone;\n      }\n      if (!version) {\n        version = '1.0';\n      }\n      if (version != null) {\n        this.version = this.stringify.xmlVersion(version);\n      }\n      if (encoding != null) {\n        this.encoding = this.stringify.xmlEncoding(encoding);\n      }\n      if (standalone != null) {\n        this.standalone = this.stringify.xmlStandalone(standalone);\n      }\n    }\n\n    XMLDeclaration.prototype.clone = function() {\n      return create(XMLDeclaration.prototype, this);\n    };\n\n    XMLDeclaration.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?xml';\n      if (this.version != null) {\n        r += ' version=\"' + this.version + '\"';\n      }\n      if (this.encoding != null) {\n        r += ' encoding=\"' + this.encoding + '\"';\n      }\n      if (this.standalone != null) {\n        r += ' standalone=\"' + this.standalone + '\"';\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLDeclaration;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":49,\"lodash-node/modern/objects/create\":67,\"lodash-node/modern/objects/isObject\":72}],47:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLDocType, create, isObject;\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  module.exports = XMLDocType = (function() {\n    function XMLDocType(parent, pubID, sysID) {\n      var _ref, _ref1;\n      this.documentObject = parent;\n      this.stringify = this.documentObject.stringify;\n      this.children = [];\n      if (isObject(pubID)) {\n        _ref = pubID, pubID = _ref.pubID, sysID = _ref.sysID;\n      }\n      if (sysID == null) {\n        _ref1 = [pubID, sysID], sysID = _ref1[0], pubID = _ref1[1];\n      }\n      if (pubID != null) {\n        this.pubID = this.stringify.dtdPubID(pubID);\n      }\n      if (sysID != null) {\n        this.sysID = this.stringify.dtdSysID(sysID);\n      }\n    }\n\n    XMLDocType.prototype.clone = function() {\n      return create(XMLDocType.prototype, this);\n    };\n\n    XMLDocType.prototype.element = function(name, value) {\n      var XMLDTDElement, child;\n      XMLDTDElement = require('./XMLDTDElement');\n      child = new XMLDTDElement(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.attList = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      var XMLDTDAttList, child;\n      XMLDTDAttList = require('./XMLDTDAttList');\n      child = new XMLDTDAttList(this, elementName, attributeName, attributeType, defaultValueType, defaultValue);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.entity = function(name, value) {\n      var XMLDTDEntity, child;\n      XMLDTDEntity = require('./XMLDTDEntity');\n      child = new XMLDTDEntity(this, false, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.pEntity = function(name, value) {\n      var XMLDTDEntity, child;\n      XMLDTDEntity = require('./XMLDTDEntity');\n      child = new XMLDTDEntity(this, true, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.notation = function(name, value) {\n      var XMLDTDNotation, child;\n      XMLDTDNotation = require('./XMLDTDNotation');\n      child = new XMLDTDNotation(this, name, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.cdata = function(value) {\n      var XMLCData, child;\n      XMLCData = require('./XMLCData');\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.comment = function(value) {\n      var XMLComment, child;\n      XMLComment = require('./XMLComment');\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.instruction = function(target, value) {\n      var XMLProcessingInstruction, child;\n      XMLProcessingInstruction = require('./XMLProcessingInstruction');\n      child = new XMLProcessingInstruction(this, target, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLDocType.prototype.root = function() {\n      return this.documentObject.root();\n    };\n\n    XMLDocType.prototype.document = function() {\n      return this.documentObject;\n    };\n\n    XMLDocType.prototype.toString = function(options, level) {\n      var child, indent, newline, pretty, r, space, _i, _len, _ref, _ref1, _ref2;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<!DOCTYPE ' + this.root().name;\n      if (this.pubID && this.sysID) {\n        r += ' PUBLIC \"' + this.pubID + '\" \"' + this.sysID + '\"';\n      } else if (this.sysID) {\n        r += ' SYSTEM \"' + this.sysID + '\"';\n      }\n      if (this.children.length > 0) {\n        r += ' [';\n        if (pretty) {\n          r += newline;\n        }\n        _ref2 = this.children;\n        for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n          child = _ref2[_i];\n          r += child.toString(options, level + 1);\n        }\n        r += ']';\n      }\n      r += '>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    XMLDocType.prototype.ele = function(name, value) {\n      return this.element(name, value);\n    };\n\n    XMLDocType.prototype.att = function(elementName, attributeName, attributeType, defaultValueType, defaultValue) {\n      return this.attList(elementName, attributeName, attributeType, defaultValueType, defaultValue);\n    };\n\n    XMLDocType.prototype.ent = function(name, value) {\n      return this.entity(name, value);\n    };\n\n    XMLDocType.prototype.pent = function(name, value) {\n      return this.pEntity(name, value);\n    };\n\n    XMLDocType.prototype.not = function(name, value) {\n      return this.notation(name, value);\n    };\n\n    XMLDocType.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLDocType.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLDocType.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLDocType.prototype.up = function() {\n      return this.root();\n    };\n\n    XMLDocType.prototype.doc = function() {\n      return this.document();\n    };\n\n    return XMLDocType;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":40,\"./XMLComment\":41,\"./XMLDTDAttList\":42,\"./XMLDTDElement\":43,\"./XMLDTDEntity\":44,\"./XMLDTDNotation\":45,\"./XMLProcessingInstruction\":50,\"lodash-node/modern/objects/create\":67,\"lodash-node/modern/objects/isObject\":72}],48:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLAttribute, XMLElement, XMLNode, XMLProcessingInstruction, create, isArray, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  isFunction = require('lodash-node/modern/objects/isFunction');\n\n  XMLNode = require('./XMLNode');\n\n  XMLAttribute = require('./XMLAttribute');\n\n  XMLProcessingInstruction = require('./XMLProcessingInstruction');\n\n  module.exports = XMLElement = (function(_super) {\n    __extends(XMLElement, _super);\n\n    function XMLElement(parent, name, attributes) {\n      XMLElement.__super__.constructor.call(this, parent);\n      if (name == null) {\n        throw new Error(\"Missing element name\");\n      }\n      this.name = this.stringify.eleName(name);\n      this.children = [];\n      this.instructions = [];\n      this.attributes = {};\n      if (attributes != null) {\n        this.attribute(attributes);\n      }\n    }\n\n    XMLElement.prototype.clone = function() {\n      var att, attName, clonedSelf, pi, _i, _len, _ref, _ref1;\n      clonedSelf = create(XMLElement.prototype, this);\n      clonedSelf.attributes = {};\n      _ref = this.attributes;\n      for (attName in _ref) {\n        if (!__hasProp.call(_ref, attName)) continue;\n        att = _ref[attName];\n        clonedSelf.attributes[attName] = att.clone();\n      }\n      clonedSelf.instructions = [];\n      _ref1 = this.instructions;\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        pi = _ref1[_i];\n        clonedSelf.instructions.push(pi.clone());\n      }\n      clonedSelf.children = [];\n      this.children.forEach(function(child) {\n        var clonedChild;\n        clonedChild = child.clone();\n        clonedChild.parent = clonedSelf;\n        return clonedSelf.children.push(clonedChild);\n      });\n      return clonedSelf;\n    };\n\n    XMLElement.prototype.attribute = function(name, value) {\n      var attName, attValue;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isObject(name)) {\n        for (attName in name) {\n          if (!__hasProp.call(name, attName)) continue;\n          attValue = name[attName];\n          this.attribute(attName, attValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        if (!this.options.skipNullAttributes || (value != null)) {\n          this.attributes[name] = new XMLAttribute(this, name, value);\n        }\n      }\n      return this;\n    };\n\n    XMLElement.prototype.removeAttribute = function(name) {\n      var attName, _i, _len;\n      if (name == null) {\n        throw new Error(\"Missing attribute name\");\n      }\n      name = name.valueOf();\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          attName = name[_i];\n          delete this.attributes[attName];\n        }\n      } else {\n        delete this.attributes[name];\n      }\n      return this;\n    };\n\n    XMLElement.prototype.instruction = function(target, value) {\n      var insTarget, insValue, instruction, _i, _len;\n      if (target != null) {\n        target = target.valueOf();\n      }\n      if (value != null) {\n        value = value.valueOf();\n      }\n      if (isArray(target)) {\n        for (_i = 0, _len = target.length; _i < _len; _i++) {\n          insTarget = target[_i];\n          this.instruction(insTarget);\n        }\n      } else if (isObject(target)) {\n        for (insTarget in target) {\n          if (!__hasProp.call(target, insTarget)) continue;\n          insValue = target[insTarget];\n          this.instruction(insTarget, insValue);\n        }\n      } else {\n        if (isFunction(value)) {\n          value = value.apply();\n        }\n        instruction = new XMLProcessingInstruction(this, target, value);\n        this.instructions.push(instruction);\n      }\n      return this;\n    };\n\n    XMLElement.prototype.toString = function(options, level) {\n      var att, child, indent, instruction, name, newline, pretty, r, space, _i, _j, _len, _len1, _ref, _ref1, _ref2, _ref3, _ref4;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      _ref2 = this.instructions;\n      for (_i = 0, _len = _ref2.length; _i < _len; _i++) {\n        instruction = _ref2[_i];\n        r += instruction.toString(options, level + 1);\n      }\n      if (pretty) {\n        r += space;\n      }\n      r += '<' + this.name;\n      _ref3 = this.attributes;\n      for (name in _ref3) {\n        if (!__hasProp.call(_ref3, name)) continue;\n        att = _ref3[name];\n        r += att.toString(options);\n      }\n      if (this.children.length === 0) {\n        r += '/>';\n        if (pretty) {\n          r += newline;\n        }\n      } else if (pretty && this.children.length === 1 && (this.children[0].value != null)) {\n        r += '>';\n        r += this.children[0].value;\n        r += '</' + this.name + '>';\n        r += newline;\n      } else {\n        r += '>';\n        if (pretty) {\n          r += newline;\n        }\n        _ref4 = this.children;\n        for (_j = 0, _len1 = _ref4.length; _j < _len1; _j++) {\n          child = _ref4[_j];\n          r += child.toString(options, level + 1);\n        }\n        if (pretty) {\n          r += space;\n        }\n        r += '</' + this.name + '>';\n        if (pretty) {\n          r += newline;\n        }\n      }\n      return r;\n    };\n\n    XMLElement.prototype.att = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.ins = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    XMLElement.prototype.a = function(name, value) {\n      return this.attribute(name, value);\n    };\n\n    XMLElement.prototype.i = function(target, value) {\n      return this.instruction(target, value);\n    };\n\n    return XMLElement;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLAttribute\":38,\"./XMLNode\":49,\"./XMLProcessingInstruction\":50,\"lodash-node/modern/objects/create\":67,\"lodash-node/modern/objects/isArray\":69,\"lodash-node/modern/objects/isFunction\":71,\"lodash-node/modern/objects/isObject\":72}],49:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, isArray, isEmpty, isFunction, isObject,\n    __hasProp = {}.hasOwnProperty;\n\n  isObject = require('lodash-node/modern/objects/isObject');\n\n  isArray = require('lodash-node/modern/objects/isArray');\n\n  isFunction = require('lodash-node/modern/objects/isFunction');\n\n  isEmpty = require('lodash-node/modern/objects/isEmpty');\n\n  module.exports = XMLNode = (function() {\n    function XMLNode(parent) {\n      this.parent = parent;\n      this.options = this.parent.options;\n      this.stringify = this.parent.stringify;\n    }\n\n    XMLNode.prototype.clone = function() {\n      throw new Error(\"Cannot clone generic XMLNode\");\n    };\n\n    XMLNode.prototype.element = function(name, attributes, text) {\n      var item, key, lastChild, val, _i, _len, _ref;\n      lastChild = null;\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (isArray(name)) {\n        for (_i = 0, _len = name.length; _i < _len; _i++) {\n          item = name[_i];\n          lastChild = this.element(item);\n        }\n      } else if (isFunction(name)) {\n        lastChild = this.element(name.apply());\n      } else if (isObject(name)) {\n        for (key in name) {\n          if (!__hasProp.call(name, key)) continue;\n          val = name[key];\n          if (isFunction(val)) {\n            val = val.apply();\n          }\n          if ((isObject(val)) && (isEmpty(val))) {\n            val = null;\n          }\n          if (!this.options.ignoreDecorators && this.stringify.convertAttKey && key.indexOf(this.stringify.convertAttKey) === 0) {\n            lastChild = this.attribute(key.substr(this.stringify.convertAttKey.length), val);\n          } else if (!this.options.ignoreDecorators && this.stringify.convertPIKey && key.indexOf(this.stringify.convertPIKey) === 0) {\n            lastChild = this.instruction(key.substr(this.stringify.convertPIKey.length), val);\n          } else if (isObject(val)) {\n            if (!this.options.ignoreDecorators && this.stringify.convertListKey && key.indexOf(this.stringify.convertListKey) === 0 && isArray(val)) {\n              lastChild = this.element(val);\n            } else {\n              lastChild = this.element(key);\n              lastChild.element(val);\n            }\n          } else {\n            lastChild = this.element(key, val);\n          }\n        }\n      } else {\n        if (!this.options.ignoreDecorators && this.stringify.convertTextKey && name.indexOf(this.stringify.convertTextKey) === 0) {\n          lastChild = this.text(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCDataKey && name.indexOf(this.stringify.convertCDataKey) === 0) {\n          lastChild = this.cdata(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertCommentKey && name.indexOf(this.stringify.convertCommentKey) === 0) {\n          lastChild = this.comment(text);\n        } else if (!this.options.ignoreDecorators && this.stringify.convertRawKey && name.indexOf(this.stringify.convertRawKey) === 0) {\n          lastChild = this.raw(text);\n        } else {\n          lastChild = this.node(name, attributes, text);\n        }\n      }\n      if (lastChild == null) {\n        throw new Error(\"Could not create any elements with: \" + name);\n      }\n      return lastChild;\n    };\n\n    XMLNode.prototype.insertBefore = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.insertAfter = function(name, attributes, text) {\n      var child, i, removed;\n      if (this.isRoot) {\n        throw new Error(\"Cannot insert elements at root level\");\n      }\n      i = this.parent.children.indexOf(this);\n      removed = this.parent.children.splice(i + 1);\n      child = this.parent.element(name, attributes, text);\n      Array.prototype.push.apply(this.parent.children, removed);\n      return child;\n    };\n\n    XMLNode.prototype.remove = function() {\n      var i, _ref;\n      if (this.isRoot) {\n        throw new Error(\"Cannot remove the root element\");\n      }\n      i = this.parent.children.indexOf(this);\n      [].splice.apply(this.parent.children, [i, i - i + 1].concat(_ref = [])), _ref;\n      return this.parent;\n    };\n\n    XMLNode.prototype.node = function(name, attributes, text) {\n      var XMLElement, child, _ref;\n      if (name != null) {\n        name = name.valueOf();\n      }\n      if (attributes == null) {\n        attributes = {};\n      }\n      attributes = attributes.valueOf();\n      if (!isObject(attributes)) {\n        _ref = [attributes, text], text = _ref[0], attributes = _ref[1];\n      }\n      XMLElement = require('./XMLElement');\n      child = new XMLElement(this, name, attributes);\n      if (text != null) {\n        child.text(text);\n      }\n      this.children.push(child);\n      return child;\n    };\n\n    XMLNode.prototype.text = function(value) {\n      var XMLText, child;\n      XMLText = require('./XMLText');\n      child = new XMLText(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.cdata = function(value) {\n      var XMLCData, child;\n      XMLCData = require('./XMLCData');\n      child = new XMLCData(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.comment = function(value) {\n      var XMLComment, child;\n      XMLComment = require('./XMLComment');\n      child = new XMLComment(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.raw = function(value) {\n      var XMLRaw, child;\n      XMLRaw = require('./XMLRaw');\n      child = new XMLRaw(this, value);\n      this.children.push(child);\n      return this;\n    };\n\n    XMLNode.prototype.declaration = function(version, encoding, standalone) {\n      var XMLDeclaration, doc, xmldec;\n      doc = this.document();\n      XMLDeclaration = require('./XMLDeclaration');\n      xmldec = new XMLDeclaration(doc, version, encoding, standalone);\n      doc.xmldec = xmldec;\n      return doc.root();\n    };\n\n    XMLNode.prototype.doctype = function(pubID, sysID) {\n      var XMLDocType, doc, doctype;\n      doc = this.document();\n      XMLDocType = require('./XMLDocType');\n      doctype = new XMLDocType(doc, pubID, sysID);\n      doc.doctype = doctype;\n      return doctype;\n    };\n\n    XMLNode.prototype.up = function() {\n      if (this.isRoot) {\n        throw new Error(\"The root node has no parent. Use doc() if you need to get the document object.\");\n      }\n      return this.parent;\n    };\n\n    XMLNode.prototype.root = function() {\n      var child;\n      if (this.isRoot) {\n        return this;\n      }\n      child = this.parent;\n      while (!child.isRoot) {\n        child = child.parent;\n      }\n      return child;\n    };\n\n    XMLNode.prototype.document = function() {\n      return this.root().documentObject;\n    };\n\n    XMLNode.prototype.end = function(options) {\n      return this.document().toString(options);\n    };\n\n    XMLNode.prototype.prev = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i < 1) {\n        throw new Error(\"Already at the first node\");\n      }\n      return this.parent.children[i - 1];\n    };\n\n    XMLNode.prototype.next = function() {\n      var i;\n      if (this.isRoot) {\n        throw new Error(\"Root node has no siblings\");\n      }\n      i = this.parent.children.indexOf(this);\n      if (i === -1 || i === this.parent.children.length - 1) {\n        throw new Error(\"Already at the last node\");\n      }\n      return this.parent.children[i + 1];\n    };\n\n    XMLNode.prototype.importXMLBuilder = function(xmlbuilder) {\n      var clonedRoot;\n      clonedRoot = xmlbuilder.root().clone();\n      clonedRoot.parent = this;\n      clonedRoot.isRoot = false;\n      this.children.push(clonedRoot);\n      return this;\n    };\n\n    XMLNode.prototype.ele = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.nod = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.txt = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.dat = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.com = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.doc = function() {\n      return this.document();\n    };\n\n    XMLNode.prototype.dec = function(version, encoding, standalone) {\n      return this.declaration(version, encoding, standalone);\n    };\n\n    XMLNode.prototype.dtd = function(pubID, sysID) {\n      return this.doctype(pubID, sysID);\n    };\n\n    XMLNode.prototype.e = function(name, attributes, text) {\n      return this.element(name, attributes, text);\n    };\n\n    XMLNode.prototype.n = function(name, attributes, text) {\n      return this.node(name, attributes, text);\n    };\n\n    XMLNode.prototype.t = function(value) {\n      return this.text(value);\n    };\n\n    XMLNode.prototype.d = function(value) {\n      return this.cdata(value);\n    };\n\n    XMLNode.prototype.c = function(value) {\n      return this.comment(value);\n    };\n\n    XMLNode.prototype.r = function(value) {\n      return this.raw(value);\n    };\n\n    XMLNode.prototype.u = function() {\n      return this.up();\n    };\n\n    return XMLNode;\n\n  })();\n\n}).call(this);\n\n},{\"./XMLCData\":40,\"./XMLComment\":41,\"./XMLDeclaration\":46,\"./XMLDocType\":47,\"./XMLElement\":48,\"./XMLRaw\":51,\"./XMLText\":53,\"lodash-node/modern/objects/isArray\":69,\"lodash-node/modern/objects/isEmpty\":70,\"lodash-node/modern/objects/isFunction\":71,\"lodash-node/modern/objects/isObject\":72}],50:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLProcessingInstruction, create;\n\n  create = require('lodash-node/modern/objects/create');\n\n  module.exports = XMLProcessingInstruction = (function() {\n    function XMLProcessingInstruction(parent, target, value) {\n      this.stringify = parent.stringify;\n      if (target == null) {\n        throw new Error(\"Missing instruction target\");\n      }\n      this.target = this.stringify.insTarget(target);\n      if (value) {\n        this.value = this.stringify.insValue(value);\n      }\n    }\n\n    XMLProcessingInstruction.prototype.clone = function() {\n      return create(XMLProcessingInstruction.prototype, this);\n    };\n\n    XMLProcessingInstruction.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += '<?';\n      r += this.target;\n      if (this.value) {\n        r += ' ' + this.value;\n      }\n      r += '?>';\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLProcessingInstruction;\n\n  })();\n\n}).call(this);\n\n},{\"lodash-node/modern/objects/create\":67}],51:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLRaw, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLRaw = (function(_super) {\n    __extends(XMLRaw, _super);\n\n    function XMLRaw(parent, text) {\n      XMLRaw.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing raw text\");\n      }\n      this.value = this.stringify.raw(text);\n    }\n\n    XMLRaw.prototype.clone = function() {\n      return create(XMLRaw.prototype, this);\n    };\n\n    XMLRaw.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLRaw;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":49,\"lodash-node/modern/objects/create\":67}],52:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLStringifier,\n    __bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n    __hasProp = {}.hasOwnProperty;\n\n  module.exports = XMLStringifier = (function() {\n    function XMLStringifier(options) {\n      this.assertLegalChar = __bind(this.assertLegalChar, this);\n      var key, value, _ref;\n      this.allowSurrogateChars = options != null ? options.allowSurrogateChars : void 0;\n      _ref = (options != null ? options.stringify : void 0) || {};\n      for (key in _ref) {\n        if (!__hasProp.call(_ref, key)) continue;\n        value = _ref[key];\n        this[key] = value;\n      }\n    }\n\n    XMLStringifier.prototype.eleName = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.eleText = function(val) {\n      val = '' + val || '';\n      return this.assertLegalChar(this.elEscape(val));\n    };\n\n    XMLStringifier.prototype.cdata = function(val) {\n      val = '' + val || '';\n      if (val.match(/]]>/)) {\n        throw new Error(\"Invalid CDATA text: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.comment = function(val) {\n      val = '' + val || '';\n      if (val.match(/--/)) {\n        throw new Error(\"Comment text cannot contain double-hypen: \" + val);\n      }\n      return this.assertLegalChar(val);\n    };\n\n    XMLStringifier.prototype.raw = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attName = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.attValue = function(val) {\n      val = '' + val || '';\n      return this.attEscape(val);\n    };\n\n    XMLStringifier.prototype.insTarget = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.insValue = function(val) {\n      val = '' + val || '';\n      if (val.match(/\\?>/)) {\n        throw new Error(\"Invalid processing instruction value: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlVersion = function(val) {\n      val = '' + val || '';\n      if (!val.match(/1\\.[0-9]+/)) {\n        throw new Error(\"Invalid version number: \" + val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlEncoding = function(val) {\n      val = '' + val || '';\n      if (!val.match(/[A-Za-z](?:[A-Za-z0-9._-]|-)*/)) {\n        throw new Error(\"Invalid encoding: \" + options.val);\n      }\n      return val;\n    };\n\n    XMLStringifier.prototype.xmlStandalone = function(val) {\n      if (val) {\n        return \"yes\";\n      } else {\n        return \"no\";\n      }\n    };\n\n    XMLStringifier.prototype.dtdPubID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdSysID = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdElementValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttType = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdAttDefault = function(val) {\n      if (val != null) {\n        return '' + val || '';\n      } else {\n        return val;\n      }\n    };\n\n    XMLStringifier.prototype.dtdEntityValue = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.dtdNData = function(val) {\n      return '' + val || '';\n    };\n\n    XMLStringifier.prototype.convertAttKey = '@';\n\n    XMLStringifier.prototype.convertPIKey = '?';\n\n    XMLStringifier.prototype.convertTextKey = '#text';\n\n    XMLStringifier.prototype.convertCDataKey = '#cdata';\n\n    XMLStringifier.prototype.convertCommentKey = '#comment';\n\n    XMLStringifier.prototype.convertRawKey = '#raw';\n\n    XMLStringifier.prototype.convertListKey = '#list';\n\n    XMLStringifier.prototype.assertLegalChar = function(str) {\n      var chars, chr;\n      if (this.allowSurrogateChars) {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uFFFE-\\uFFFF]/;\n      } else {\n        chars = /[\\u0000-\\u0008\\u000B-\\u000C\\u000E-\\u001F\\uD800-\\uDFFF\\uFFFE-\\uFFFF]/;\n      }\n      chr = str.match(chars);\n      if (chr) {\n        throw new Error(\"Invalid character (\" + chr + \") in string: \" + str + \" at index \" + chr.index);\n      }\n      return str;\n    };\n\n    XMLStringifier.prototype.elEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\\r/g, '&#xD;');\n    };\n\n    XMLStringifier.prototype.attEscape = function(str) {\n      return str.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\"/g, '&quot;').replace(/\\t/g, '&#x9;').replace(/\\n/g, '&#xA;').replace(/\\r/g, '&#xD;');\n    };\n\n    return XMLStringifier;\n\n  })();\n\n}).call(this);\n\n},{}],53:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLNode, XMLText, create,\n    __hasProp = {}.hasOwnProperty,\n    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; };\n\n  create = require('lodash-node/modern/objects/create');\n\n  XMLNode = require('./XMLNode');\n\n  module.exports = XMLText = (function(_super) {\n    __extends(XMLText, _super);\n\n    function XMLText(parent, text) {\n      this.parent = parent;\n      XMLText.__super__.constructor.call(this, parent);\n      if (text == null) {\n        throw new Error(\"Missing element text\");\n      }\n      this.value = this.stringify.eleText(text);\n    }\n\n    XMLText.prototype.clone = function() {\n      return create(XMLText.prototype, this);\n    };\n\n    XMLText.prototype.toString = function(options, level) {\n      var indent, newline, pretty, r, space, _ref, _ref1;\n      pretty = (options != null ? options.pretty : void 0) || false;\n      indent = (_ref = options != null ? options.indent : void 0) != null ? _ref : '  ';\n      newline = (_ref1 = options != null ? options.newline : void 0) != null ? _ref1 : '\\n';\n      level || (level = 0);\n      space = new Array(level + 1).join(indent);\n      r = '';\n      if (pretty) {\n        r += space;\n      }\n      r += this.value;\n      if (pretty) {\n        r += newline;\n      }\n      return r;\n    };\n\n    return XMLText;\n\n  })(XMLNode);\n\n}).call(this);\n\n},{\"./XMLNode\":49,\"lodash-node/modern/objects/create\":67}],54:[function(require,module,exports){\n// Generated by CoffeeScript 1.6.3\n(function() {\n  var XMLBuilder, assign;\n\n  assign = require('lodash-node/modern/objects/assign');\n\n  XMLBuilder = require('./XMLBuilder');\n\n  module.exports.create = function(name, xmldec, doctype, options) {\n    options = assign({}, xmldec, doctype, options);\n    return new XMLBuilder(name, options).root();\n  };\n\n}).call(this);\n\n},{\"./XMLBuilder\":39,\"lodash-node/modern/objects/assign\":66}],55:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar createWrapper = require('../internals/createWrapper'),\n    slice = require('../internals/slice');\n\n/**\n * Creates a function that, when called, invokes `func` with the `this`\n * binding of `thisArg` and prepends any additional `bind` arguments to those\n * provided to the bound function.\n *\n * @static\n * @memberOf _\n * @category Functions\n * @param {Function} func The function to bind.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {...*} [arg] Arguments to be partially applied.\n * @returns {Function} Returns the new bound function.\n * @example\n *\n * var func = function(greeting) {\n *   return greeting + ' ' + this.name;\n * };\n *\n * func = _.bind(func, { 'name': 'fred' }, 'hi');\n * func();\n * // => 'hi fred'\n */\nfunction bind(func, thisArg) {\n  return arguments.length > 2\n    ? createWrapper(func, 17, slice(arguments, 2), null, thisArg)\n    : createWrapper(func, 1, null, null, thisArg);\n}\n\nmodule.exports = bind;\n\n},{\"../internals/createWrapper\":60,\"../internals/slice\":65}],56:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreate = require('./baseCreate'),\n    isObject = require('../objects/isObject'),\n    setBindData = require('./setBindData'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push;\n\n/**\n * The base implementation of `_.bind` that creates the bound function and\n * sets its meta data.\n *\n * @private\n * @param {Array} bindData The bind data array.\n * @returns {Function} Returns the new bound function.\n */\nfunction baseBind(bindData) {\n  var func = bindData[0],\n      partialArgs = bindData[2],\n      thisArg = bindData[4];\n\n  function bound() {\n    // `Function#bind` spec\n    // http://es5.github.io/#x15.3.4.5\n    if (partialArgs) {\n      // avoid `arguments` object deoptimizations by using `slice` instead\n      // of `Array.prototype.slice.call` and not assigning `arguments` to a\n      // variable as a ternary expression\n      var args = slice(partialArgs);\n      push.apply(args, arguments);\n    }\n    // mimic the constructor's `return` behavior\n    // http://es5.github.io/#x13.2.2\n    if (this instanceof bound) {\n      // ensure `new bound` is an instance of `func`\n      var thisBinding = baseCreate(func.prototype),\n          result = func.apply(thisBinding, args || arguments);\n      return isObject(result) ? result : thisBinding;\n    }\n    return func.apply(thisArg, args || arguments);\n  }\n  setBindData(bound, bindData);\n  return bound;\n}\n\nmodule.exports = baseBind;\n\n},{\"../objects/isObject\":72,\"./baseCreate\":57,\"./setBindData\":63,\"./slice\":65}],57:[function(require,module,exports){\n(function (global){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./isNative'),\n    isObject = require('../objects/isObject'),\n    noop = require('../utilities/noop');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeCreate = isNative(nativeCreate = Object.create) && nativeCreate;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(prototype, properties) {\n  return isObject(prototype) ? nativeCreate(prototype) : {};\n}\n// fallback for browsers without `Object.create`\nif (!nativeCreate) {\n  baseCreate = (function() {\n    function Object() {}\n    return function(prototype) {\n      if (isObject(prototype)) {\n        Object.prototype = prototype;\n        var result = new Object;\n        Object.prototype = null;\n      }\n      return result || global.Object();\n    };\n  }());\n}\n\nmodule.exports = baseCreate;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"../objects/isObject\":72,\"../utilities/noop\":76,\"./isNative\":61}],58:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar bind = require('../functions/bind'),\n    identity = require('../utilities/identity'),\n    setBindData = require('./setBindData'),\n    support = require('../support');\n\n/** Used to detected named functions */\nvar reFuncName = /^\\s*function[ \\n\\r\\t]+\\w/;\n\n/** Used to detect functions containing a `this` reference */\nvar reThis = /\\bthis\\b/;\n\n/** Native method shortcuts */\nvar fnToString = Function.prototype.toString;\n\n/**\n * The base implementation of `_.createCallback` without support for creating\n * \"_.pluck\" or \"_.where\" style callbacks.\n *\n * @private\n * @param {*} [func=identity] The value to convert to a callback.\n * @param {*} [thisArg] The `this` binding of the created callback.\n * @param {number} [argCount] The number of arguments the callback accepts.\n * @returns {Function} Returns a callback function.\n */\nfunction baseCreateCallback(func, thisArg, argCount) {\n  if (typeof func != 'function') {\n    return identity;\n  }\n  // exit early for no `thisArg` or already bound by `Function#bind`\n  if (typeof thisArg == 'undefined' || !('prototype' in func)) {\n    return func;\n  }\n  var bindData = func.__bindData__;\n  if (typeof bindData == 'undefined') {\n    if (support.funcNames) {\n      bindData = !func.name;\n    }\n    bindData = bindData || !support.funcDecomp;\n    if (!bindData) {\n      var source = fnToString.call(func);\n      if (!support.funcNames) {\n        bindData = !reFuncName.test(source);\n      }\n      if (!bindData) {\n        // checks if `func` references the `this` keyword and stores the result\n        bindData = reThis.test(source);\n        setBindData(func, bindData);\n      }\n    }\n  }\n  // exit early if there are no `this` references or `func` is bound\n  if (bindData === false || (bindData !== true && bindData[1] & 1)) {\n    return func;\n  }\n  switch (argCount) {\n    case 1: return function(value) {\n      return func.call(thisArg, value);\n    };\n    case 2: return function(a, b) {\n      return func.call(thisArg, a, b);\n    };\n    case 3: return function(value, index, collection) {\n      return func.call(thisArg, value, index, collection);\n    };\n    case 4: return function(accumulator, value, index, collection) {\n      return func.call(thisArg, accumulator, value, index, collection);\n    };\n  }\n  return bind(func, thisArg);\n}\n\nmodule.exports = baseCreateCallback;\n\n},{\"../functions/bind\":55,\"../support\":74,\"../utilities/identity\":75,\"./setBindData\":63}],59:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreate = require('./baseCreate'),\n    isObject = require('../objects/isObject'),\n    setBindData = require('./setBindData'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push;\n\n/**\n * The base implementation of `createWrapper` that creates the wrapper and\n * sets its meta data.\n *\n * @private\n * @param {Array} bindData The bind data array.\n * @returns {Function} Returns the new function.\n */\nfunction baseCreateWrapper(bindData) {\n  var func = bindData[0],\n      bitmask = bindData[1],\n      partialArgs = bindData[2],\n      partialRightArgs = bindData[3],\n      thisArg = bindData[4],\n      arity = bindData[5];\n\n  var isBind = bitmask & 1,\n      isBindKey = bitmask & 2,\n      isCurry = bitmask & 4,\n      isCurryBound = bitmask & 8,\n      key = func;\n\n  function bound() {\n    var thisBinding = isBind ? thisArg : this;\n    if (partialArgs) {\n      var args = slice(partialArgs);\n      push.apply(args, arguments);\n    }\n    if (partialRightArgs || isCurry) {\n      args || (args = slice(arguments));\n      if (partialRightArgs) {\n        push.apply(args, partialRightArgs);\n      }\n      if (isCurry && args.length < arity) {\n        bitmask |= 16 & ~32;\n        return baseCreateWrapper([func, (isCurryBound ? bitmask : bitmask & ~3), args, null, thisArg, arity]);\n      }\n    }\n    args || (args = arguments);\n    if (isBindKey) {\n      func = thisBinding[key];\n    }\n    if (this instanceof bound) {\n      thisBinding = baseCreate(func.prototype);\n      var result = func.apply(thisBinding, args);\n      return isObject(result) ? result : thisBinding;\n    }\n    return func.apply(thisBinding, args);\n  }\n  setBindData(bound, bindData);\n  return bound;\n}\n\nmodule.exports = baseCreateWrapper;\n\n},{\"../objects/isObject\":72,\"./baseCreate\":57,\"./setBindData\":63,\"./slice\":65}],60:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseBind = require('./baseBind'),\n    baseCreateWrapper = require('./baseCreateWrapper'),\n    isFunction = require('../objects/isFunction'),\n    slice = require('./slice');\n\n/**\n * Used for `Array` method references.\n *\n * Normally `Array.prototype` would suffice, however, using an array literal\n * avoids issues in Narwhal.\n */\nvar arrayRef = [];\n\n/** Native method shortcuts */\nvar push = arrayRef.push,\n    unshift = arrayRef.unshift;\n\n/**\n * Creates a function that, when called, either curries or invokes `func`\n * with an optional `this` binding and partially applied arguments.\n *\n * @private\n * @param {Function|string} func The function or method name to reference.\n * @param {number} bitmask The bitmask of method flags to compose.\n *  The bitmask may be composed of the following flags:\n *  1 - `_.bind`\n *  2 - `_.bindKey`\n *  4 - `_.curry`\n *  8 - `_.curry` (bound)\n *  16 - `_.partial`\n *  32 - `_.partialRight`\n * @param {Array} [partialArgs] An array of arguments to prepend to those\n *  provided to the new function.\n * @param {Array} [partialRightArgs] An array of arguments to append to those\n *  provided to the new function.\n * @param {*} [thisArg] The `this` binding of `func`.\n * @param {number} [arity] The arity of `func`.\n * @returns {Function} Returns the new function.\n */\nfunction createWrapper(func, bitmask, partialArgs, partialRightArgs, thisArg, arity) {\n  var isBind = bitmask & 1,\n      isBindKey = bitmask & 2,\n      isCurry = bitmask & 4,\n      isCurryBound = bitmask & 8,\n      isPartial = bitmask & 16,\n      isPartialRight = bitmask & 32;\n\n  if (!isBindKey && !isFunction(func)) {\n    throw new TypeError;\n  }\n  if (isPartial && !partialArgs.length) {\n    bitmask &= ~16;\n    isPartial = partialArgs = false;\n  }\n  if (isPartialRight && !partialRightArgs.length) {\n    bitmask &= ~32;\n    isPartialRight = partialRightArgs = false;\n  }\n  var bindData = func && func.__bindData__;\n  if (bindData && bindData !== true) {\n    // clone `bindData`\n    bindData = slice(bindData);\n    if (bindData[2]) {\n      bindData[2] = slice(bindData[2]);\n    }\n    if (bindData[3]) {\n      bindData[3] = slice(bindData[3]);\n    }\n    // set `thisBinding` is not previously bound\n    if (isBind && !(bindData[1] & 1)) {\n      bindData[4] = thisArg;\n    }\n    // set if previously bound but not currently (subsequent curried functions)\n    if (!isBind && bindData[1] & 1) {\n      bitmask |= 8;\n    }\n    // set curried arity if not yet set\n    if (isCurry && !(bindData[1] & 4)) {\n      bindData[5] = arity;\n    }\n    // append partial left arguments\n    if (isPartial) {\n      push.apply(bindData[2] || (bindData[2] = []), partialArgs);\n    }\n    // append partial right arguments\n    if (isPartialRight) {\n      unshift.apply(bindData[3] || (bindData[3] = []), partialRightArgs);\n    }\n    // merge flags\n    bindData[1] |= bitmask;\n    return createWrapper.apply(null, bindData);\n  }\n  // fast path for `_.bind`\n  var creater = (bitmask == 1 || bitmask === 17) ? baseBind : baseCreateWrapper;\n  return creater([func, bitmask, partialArgs, partialRightArgs, thisArg, arity]);\n}\n\nmodule.exports = createWrapper;\n\n},{\"../objects/isFunction\":71,\"./baseBind\":56,\"./baseCreateWrapper\":59,\"./slice\":65}],61:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/** Used to detect if a method is native */\nvar reNative = RegExp('^' +\n  String(toString)\n    .replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&')\n    .replace(/toString| for [^\\]]+/g, '.*?') + '$'\n);\n\n/**\n * Checks if `value` is a native function.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a native function, else `false`.\n */\nfunction isNative(value) {\n  return typeof value == 'function' && reNative.test(value);\n}\n\nmodule.exports = isNative;\n\n},{}],62:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/** Used to determine if values are of the language type Object */\nvar objectTypes = {\n  'boolean': false,\n  'function': true,\n  'object': true,\n  'number': false,\n  'string': false,\n  'undefined': false\n};\n\nmodule.exports = objectTypes;\n\n},{}],63:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./isNative'),\n    noop = require('../utilities/noop');\n\n/** Used as the property descriptor for `__bindData__` */\nvar descriptor = {\n  'configurable': false,\n  'enumerable': false,\n  'value': null,\n  'writable': false\n};\n\n/** Used to set meta data on functions */\nvar defineProperty = (function() {\n  // IE 8 only accepts DOM elements\n  try {\n    var o = {},\n        func = isNative(func = Object.defineProperty) && func,\n        result = func(o, o, o) && func;\n  } catch(e) { }\n  return result;\n}());\n\n/**\n * Sets `this` binding data on a given function.\n *\n * @private\n * @param {Function} func The function to set data on.\n * @param {Array} value The data array to set.\n */\nvar setBindData = !defineProperty ? noop : function(func, value) {\n  descriptor.value = value;\n  defineProperty(func, '__bindData__', descriptor);\n};\n\nmodule.exports = setBindData;\n\n},{\"../utilities/noop\":76,\"./isNative\":61}],64:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('./objectTypes');\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Native method shortcuts */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A fallback implementation of `Object.keys` which produces an array of the\n * given object's own enumerable property names.\n *\n * @private\n * @type Function\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns an array of property names.\n */\nvar shimKeys = function(object) {\n  var index, iterable = object, result = [];\n  if (!iterable) return result;\n  if (!(objectTypes[typeof object])) return result;\n    for (index in iterable) {\n      if (hasOwnProperty.call(iterable, index)) {\n        result.push(index);\n      }\n    }\n  return result\n};\n\nmodule.exports = shimKeys;\n\n},{\"./objectTypes\":62}],65:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Slices the `collection` from the `start` index up to, but not including,\n * the `end` index.\n *\n * Note: This function is used instead of `Array#slice` to support node lists\n * in IE < 9 and to ensure dense arrays are returned.\n *\n * @private\n * @param {Array|Object|string} collection The collection to slice.\n * @param {number} start The start index.\n * @param {number} end The end index.\n * @returns {Array} Returns the new array.\n */\nfunction slice(array, start, end) {\n  start || (start = 0);\n  if (typeof end == 'undefined') {\n    end = array ? array.length : 0;\n  }\n  var index = -1,\n      length = end - start || 0,\n      result = Array(length < 0 ? 0 : length);\n\n  while (++index < length) {\n    result[index] = array[start + index];\n  }\n  return result;\n}\n\nmodule.exports = slice;\n\n},{}],66:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreateCallback = require('../internals/baseCreateCallback'),\n    keys = require('./keys'),\n    objectTypes = require('../internals/objectTypes');\n\n/**\n * Assigns own enumerable properties of source object(s) to the destination\n * object. Subsequent sources will overwrite property assignments of previous\n * sources. If a callback is provided it will be executed to produce the\n * assigned values. The callback is bound to `thisArg` and invoked with two\n * arguments; (objectValue, sourceValue).\n *\n * @static\n * @memberOf _\n * @type Function\n * @alias extend\n * @category Objects\n * @param {Object} object The destination object.\n * @param {...Object} [source] The source objects.\n * @param {Function} [callback] The function to customize assigning values.\n * @param {*} [thisArg] The `this` binding of `callback`.\n * @returns {Object} Returns the destination object.\n * @example\n *\n * _.assign({ 'name': 'fred' }, { 'employer': 'slate' });\n * // => { 'name': 'fred', 'employer': 'slate' }\n *\n * var defaults = _.partialRight(_.assign, function(a, b) {\n *   return typeof a == 'undefined' ? b : a;\n * });\n *\n * var object = { 'name': 'barney' };\n * defaults(object, { 'name': 'fred', 'employer': 'slate' });\n * // => { 'name': 'barney', 'employer': 'slate' }\n */\nvar assign = function(object, source, guard) {\n  var index, iterable = object, result = iterable;\n  if (!iterable) return result;\n  var args = arguments,\n      argsIndex = 0,\n      argsLength = typeof guard == 'number' ? 2 : args.length;\n  if (argsLength > 3 && typeof args[argsLength - 2] == 'function') {\n    var callback = baseCreateCallback(args[--argsLength - 1], args[argsLength--], 2);\n  } else if (argsLength > 2 && typeof args[argsLength - 1] == 'function') {\n    callback = args[--argsLength];\n  }\n  while (++argsIndex < argsLength) {\n    iterable = args[argsIndex];\n    if (iterable && objectTypes[typeof iterable]) {\n    var ownIndex = -1,\n        ownProps = objectTypes[typeof iterable] && keys(iterable),\n        length = ownProps ? ownProps.length : 0;\n\n    while (++ownIndex < length) {\n      index = ownProps[ownIndex];\n      result[index] = callback ? callback(result[index], iterable[index]) : iterable[index];\n    }\n    }\n  }\n  return result\n};\n\nmodule.exports = assign;\n\n},{\"../internals/baseCreateCallback\":58,\"../internals/objectTypes\":62,\"./keys\":73}],67:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar assign = require('./assign'),\n    baseCreate = require('../internals/baseCreate');\n\n/**\n * Creates an object that inherits from the given `prototype` object. If a\n * `properties` object is provided its own enumerable properties are assigned\n * to the created object.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Object} prototype The object to inherit from.\n * @param {Object} [properties] The properties to assign to the object.\n * @returns {Object} Returns the new object.\n * @example\n *\n * function Shape() {\n *   this.x = 0;\n *   this.y = 0;\n * }\n *\n * function Circle() {\n *   Shape.call(this);\n * }\n *\n * Circle.prototype = _.create(Shape.prototype, { 'constructor': Circle });\n *\n * var circle = new Circle;\n * circle instanceof Circle;\n * // => true\n *\n * circle instanceof Shape;\n * // => true\n */\nfunction create(prototype, properties) {\n  var result = baseCreate(prototype);\n  return properties ? assign(result, properties) : result;\n}\n\nmodule.exports = create;\n\n},{\"../internals/baseCreate\":57,\"./assign\":66}],68:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar baseCreateCallback = require('../internals/baseCreateCallback'),\n    keys = require('./keys'),\n    objectTypes = require('../internals/objectTypes');\n\n/**\n * Iterates over own enumerable properties of an object, executing the callback\n * for each property. The callback is bound to `thisArg` and invoked with three\n * arguments; (value, key, object). Callbacks may exit iteration early by\n * explicitly returning `false`.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Objects\n * @param {Object} object The object to iterate over.\n * @param {Function} [callback=identity] The function called per iteration.\n * @param {*} [thisArg] The `this` binding of `callback`.\n * @returns {Object} Returns `object`.\n * @example\n *\n * _.forOwn({ '0': 'zero', '1': 'one', 'length': 2 }, function(num, key) {\n *   console.log(key);\n * });\n * // => logs '0', '1', and 'length' (property order is not guaranteed across environments)\n */\nvar forOwn = function(collection, callback, thisArg) {\n  var index, iterable = collection, result = iterable;\n  if (!iterable) return result;\n  if (!objectTypes[typeof iterable]) return result;\n  callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3);\n    var ownIndex = -1,\n        ownProps = objectTypes[typeof iterable] && keys(iterable),\n        length = ownProps ? ownProps.length : 0;\n\n    while (++ownIndex < length) {\n      index = ownProps[ownIndex];\n      if (callback(iterable[index], index, collection) === false) return result;\n    }\n  return result\n};\n\nmodule.exports = forOwn;\n\n},{\"../internals/baseCreateCallback\":58,\"../internals/objectTypes\":62,\"./keys\":73}],69:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('../internals/isNative');\n\n/** `Object#toString` result shortcuts */\nvar arrayClass = '[object Array]';\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeIsArray = isNative(nativeIsArray = Array.isArray) && nativeIsArray;\n\n/**\n * Checks if `value` is an array.\n *\n * @static\n * @memberOf _\n * @type Function\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an array, else `false`.\n * @example\n *\n * (function() { return _.isArray(arguments); })();\n * // => false\n *\n * _.isArray([1, 2, 3]);\n * // => true\n */\nvar isArray = nativeIsArray || function(value) {\n  return value && typeof value == 'object' && typeof value.length == 'number' &&\n    toString.call(value) == arrayClass || false;\n};\n\nmodule.exports = isArray;\n\n},{\"../internals/isNative\":61}],70:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar forOwn = require('./forOwn'),\n    isFunction = require('./isFunction');\n\n/** `Object#toString` result shortcuts */\nvar argsClass = '[object Arguments]',\n    arrayClass = '[object Array]',\n    objectClass = '[object Object]',\n    stringClass = '[object String]';\n\n/** Used for native method references */\nvar objectProto = Object.prototype;\n\n/** Used to resolve the internal [[Class]] of values */\nvar toString = objectProto.toString;\n\n/**\n * Checks if `value` is empty. Arrays, strings, or `arguments` objects with a\n * length of `0` and objects with no own enumerable properties are considered\n * \"empty\".\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Array|Object|string} value The value to inspect.\n * @returns {boolean} Returns `true` if the `value` is empty, else `false`.\n * @example\n *\n * _.isEmpty([1, 2, 3]);\n * // => false\n *\n * _.isEmpty({});\n * // => true\n *\n * _.isEmpty('');\n * // => true\n */\nfunction isEmpty(value) {\n  var result = true;\n  if (!value) {\n    return result;\n  }\n  var className = toString.call(value),\n      length = value.length;\n\n  if ((className == arrayClass || className == stringClass || className == argsClass ) ||\n      (className == objectClass && typeof length == 'number' && isFunction(value.splice))) {\n    return !length;\n  }\n  forOwn(value, function() {\n    return (result = false);\n  });\n  return result;\n}\n\nmodule.exports = isEmpty;\n\n},{\"./forOwn\":68,\"./isFunction\":71}],71:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * Checks if `value` is a function.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n */\nfunction isFunction(value) {\n  return typeof value == 'function';\n}\n\nmodule.exports = isFunction;\n\n},{}],72:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar objectTypes = require('../internals/objectTypes');\n\n/**\n * Checks if `value` is the language type of Object.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if the `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(1);\n * // => false\n */\nfunction isObject(value) {\n  // check if the value is the ECMAScript language type of Object\n  // http://es5.github.io/#x8\n  // and avoid a V8 bug\n  // http://code.google.com/p/v8/issues/detail?id=2291\n  return !!(value && objectTypes[typeof value]);\n}\n\nmodule.exports = isObject;\n\n},{\"../internals/objectTypes\":62}],73:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('../internals/isNative'),\n    isObject = require('./isObject'),\n    shimKeys = require('../internals/shimKeys');\n\n/* Native method shortcuts for methods with the same name as other `lodash` methods */\nvar nativeKeys = isNative(nativeKeys = Object.keys) && nativeKeys;\n\n/**\n * Creates an array composed of the own enumerable property names of an object.\n *\n * @static\n * @memberOf _\n * @category Objects\n * @param {Object} object The object to inspect.\n * @returns {Array} Returns an array of property names.\n * @example\n *\n * _.keys({ 'one': 1, 'two': 2, 'three': 3 });\n * // => ['one', 'two', 'three'] (property order is not guaranteed across environments)\n */\nvar keys = !nativeKeys ? shimKeys : function(object) {\n  if (!isObject(object)) {\n    return [];\n  }\n  return nativeKeys(object);\n};\n\nmodule.exports = keys;\n\n},{\"../internals/isNative\":61,\"../internals/shimKeys\":64,\"./isObject\":72}],74:[function(require,module,exports){\n(function (global){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\nvar isNative = require('./internals/isNative');\n\n/** Used to detect functions containing a `this` reference */\nvar reThis = /\\bthis\\b/;\n\n/**\n * An object used to flag environments features.\n *\n * @static\n * @memberOf _\n * @type Object\n */\nvar support = {};\n\n/**\n * Detect if functions can be decompiled by `Function#toString`\n * (all but PS3 and older Opera mobile browsers & avoided in Windows 8 apps).\n *\n * @memberOf _.support\n * @type boolean\n */\nsupport.funcDecomp = !isNative(global.WinRTError) && reThis.test(function() { return this; });\n\n/**\n * Detect if `Function#name` is supported (all but IE).\n *\n * @memberOf _.support\n * @type boolean\n */\nsupport.funcNames = typeof Function.name == 'string';\n\nmodule.exports = support;\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{\"./internals/isNative\":61}],75:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * This method returns the first argument provided to it.\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'name': 'fred' };\n * _.identity(object) === object;\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n\n},{}],76:[function(require,module,exports){\n/**\n * Lo-Dash 2.4.1 (Custom Build) <http://lodash.com/>\n * Build: `lodash modularize modern exports=\"node\" -o ./modern/`\n * Copyright 2012-2013 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.5.2 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <http://lodash.com/license>\n */\n\n/**\n * A no-operation function.\n *\n * @static\n * @memberOf _\n * @category Utilities\n * @example\n *\n * var object = { 'name': 'fred' };\n * _.noop(object) === undefined;\n * // => true\n */\nfunction noop() {\n  // no operation performed\n}\n\nmodule.exports = noop;\n\n},{}]},{},[1])(1)\n});"]}